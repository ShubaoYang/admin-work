var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{p as d,g as o}from"./index.4fc6acd1.js";import{u as r,b as c,c as p,a as y,d as u,e as k}from"./table.d6971653.js";import{d as b,B as g,A as h,l as f,an as m,aC as v,k as x,V as w,G as C,e as O,bI as K,t as j,v as D,r as I,o as P,c as S,a as _,i as z}from"./vendor.f7361d5e.js";var L=b({name:"UserList",setup(){const e=r(),b=c("id"),j=g(),D=h(),I=p(L),P=[],S=[{label:"东部地区",key:1,children:[{label:"总裁部",key:11},{label:"财务部",key:12},{label:"技术部",key:13},{label:"销售部",key:14}]},{label:"西部地区",key:2,children:[{label:"总裁部",key:21},{label:"财务部",key:22},{label:"技术部",key:23},{label:"销售部",key:24}]},{label:"南部地区",key:3,children:[{label:"总裁部",key:31},{label:"财务部",key:32},{label:"技术部",key:33},{label:"销售部",key:34}]},{label:"北部地区",key:4,children:[{label:"总裁部",key:41},{label:"财务部",key:42},{label:"技术部",key:43},{label:"销售部",key:44}]}],_=y([e.selectionColumn,e.indexColumn,{title:"名称",key:"nickName"},{title:"性别",key:"gender",width:80,render:e=>f("div",0===e.gender?"男":"女")},{title:"头像",key:"avatar",render:e=>f(m,{circle:!0,size:"small",src:e.avatar||""})},{title:"地址",key:"address"},{title:"名称",key:"nickName"},{title:"上次登录时间",key:"lastLoginTime",fixed:"right",width:120},{title:"上次登录IP",key:"lastLoginIp",width:100,fixed:"right"},{title:"状态",key:"status",fixed:"right",width:80,render:e=>f(v,{value:!!e.status})},{title:"操作",key:"actions",fixed:"right",width:80,render:e=>u([{label:"删除",type:"error",onClick:T.bind(null,e)}])}],{align:"center"}),z=x(!1);function L(){d({url:o,data:()=>({page:I.page,pageSize:I.pageSize})}).then((a=>{e.handleSuccess(a),I.setTotalSize(a.totalSize)})).catch(console.log)}function T(a){j.warning({title:"提示",content:"确定要删除此数据吗？",positiveText:"确定",onPositiveClick:()=>{e.dataList.splice(e.dataList.indexOf(a),1)}})}const U=w([]);return C((()=>z.value),(e=>{e?U.push(...S.map((e=>e.key))):U.length=0})),O((async()=>{e.tableHeight.value=await k(K()),L()})),R=((e,a)=>{for(var t in a||(a={}))n.call(a,t)&&i(e,t,a[t]);if(l)for(var t of l(a))s.call(a,t)&&i(e,t,a[t]);return e})({},e),E={rowKey:b,pattern:x(""),expandAllFlag:z,departmentData:S,tableColumns:_,pagination:I,onDeleteItem:T,onDeleteItems:function(){j.warning({title:"提示",content:"确定要删除此数据吗？",positiveText:"确定",onPositiveClick:()=>{D.success("数据模拟删除成功，参数为："+JSON.stringify(P))}})},onRowCheck:function(e){P.length=0,P.push(...e)},getExpandedKeys:U,onUpdateExpandedKeys:function(e){U.length=0,U.push(...e)},onCheckedKeys:function(e){D.success("选中的值为---\x3e"+JSON.stringify(e))}},a(R,t(E));var R,E}});const T=z();j("data-v-53c39d28");const U={class:"flex items-center"};D();const R=T(((e,a,t,l,n,s)=>{const i=I("n-input"),d=I("n-switch"),o=I("n-tree"),r=I("n-card"),c=I("n-grid-item"),p=I("DeleteButton"),y=I("TableHeader"),u=I("n-data-table"),k=I("TableBody"),b=I("TableFooter"),g=I("n-grid");return P(),S("div",null,[_(g,{"x-gap":10},{default:T((()=>[_(c,{span:5},{default:T((()=>[_(r,{class:"h-full","content-style":{padding:"5px"},"header-style":{padding:"5px"},segmented:!0},{header:T((()=>[_("div",U,[_(i,{class:"mr-2",value:e.pattern,"onUpdate:value":a[1]||(a[1]=a=>e.pattern=a),placeholder:"搜索",size:"small"},null,8,["value"]),_(d,{size:"small",value:e.expandAllFlag,"onUpdate:value":a[2]||(a[2]=a=>e.expandAllFlag=a)},null,8,["value"])])])),default:T((()=>[_(o,{"expanded-keys":e.getExpandedKeys,"block-line":"",pattern:e.pattern,data:e.departmentData,selectable:"","on-update:expanded-keys":e.onUpdateExpandedKeys,"on-update:selected-keys":e.onCheckedKeys},null,8,["expanded-keys","pattern","data","on-update:expanded-keys","on-update:selected-keys"])])),_:1})])),_:1}),_(c,{span:19},{default:T((()=>[_("div",null,[_(y,{ref:"tableHeaderRef","show-filter":!1},{"top-right":T((()=>[_(p,{onDelete:e.onDeleteItems},null,8,["onDelete"])])),_:1},512),_(k,null,{default:T((()=>[_(u,{loading:e.tableLoading,data:e.dataList,"row-key":e.rowKey,columns:e.tableColumns,"scroll-x":1e3,style:{height:`${e.tableHeight}px`},"flex-height":!0,"onUpdate:checkedRowKeys":e.onRowCheck},null,8,["loading","data","row-key","columns","style","onUpdate:checkedRowKeys"])])),_:1}),_(b,{ref:"tableFooterRef",pagination:e.pagination},null,8,["pagination"])])])),_:1})])),_:1})])}));L.render=R,L.__scopeId="data-v-53c39d28";export default L;
