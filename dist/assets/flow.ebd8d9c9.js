import{bB as t,d as e,m as n,f as r,g as o,G as i,U as a,r as u,o as c,c as s,w as l,a as f,D as p}from"./vendor.02de9c8e.js";import{u as d}from"./index.72d9dd4c.js";var h,y,v={exports:{}};h=v,y=v.exports,window,h.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=15)}([function(t,e,n){(function(t,r){n.d(e,"a",(function(){return Cn})),n.d(e,"b",(function(){return dn})),n.d(e,"c",(function(){return $t})),n.d(e,"d",(function(){return Mt})),n.d(e,"e",(function(){return Dt})),n.d(e,"f",(function(){return An})),n.d(e,"g",(function(){return ht})),n.d(e,"h",(function(){return kt})),n.d(e,"i",(function(){return le})),n.d(e,"j",(function(){return he})),n.d(e,"k",(function(){return lt})),n.d(e,"l",(function(){return Oe})),n.d(e,"m",(function(){return M})),n.d(e,"n",(function(){return Ce})),n.d(e,"o",(function(){return _e})),n.d(e,"p",(function(){return Ee})),n.d(e,"q",(function(){return Pn})),n.d(e,"r",(function(){return kn})),n.d(e,"s",(function(){return pe})),n.d(e,"t",(function(){return Ae})),n.d(e,"u",(function(){return ke})),n.d(e,"v",(function(){return Me})),n.d(e,"w",(function(){return fn})),n.d(e,"x",(function(){return yn})),n.d(e,"y",(function(){return Sn})),n.d(e,"z",(function(){return Te})),n.d(e,"A",(function(){return rt})),n.d(e,"B",(function(){return Re})),n.d(e,"C",(function(){return ge})),n.d(e,"D",(function(){return be})),n.d(e,"E",(function(){return fe})),n.d(e,"F",(function(){return ae})),n.d(e,"G",(function(){return ze})),n.d(e,"H",(function(){return Ue})),n.d(e,"I",(function(){return gt})),n.d(e,"J",(function(){return Ne})),n.d(e,"K",(function(){return Xe}));var o=[];Object.freeze(o);var i={};Object.freeze(i);var a={};function u(){return"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:a}function c(){return++Xt.mobxGuid}function s(t){throw l(!1,t),"X"}function l(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is an production build."))}function f(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var p=function(){};function d(t){return null!==t&&"object"==typeof t}function h(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function y(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function v(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function b(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return d(t)&&!0===t[n]}}function g(t){return void 0!==u().Map&&t instanceof u().Map}function m(t){return t instanceof Set}function O(t){for(var e=[];;){var n=t.next();if(n.done)break;e.push(n.value)}return e}function _(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function w(t){return null===t?null:"object"==typeof t?""+t:t}function x(t,e){for(var n=t.next();!n.done;)e(n.value),n=t.next()}function j(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function E(t,e){v(t,j(),e)}function S(t){return t[j()]=A,t}function P(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function A(){return this}var k=function(){function t(t){void 0===t&&(t="Atom@"+c()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=it.NOT_TRACKING}return t.prototype.onBecomeUnobserved=function(){},t.prototype.onBecomeObserved=function(){},t.prototype.reportObserved=function(){return Wt(this)},t.prototype.reportChanged=function(){Yt(),function(t){if(t.lowestObserverState!==it.STALE){t.lowestObserverState=it.STALE;for(var e=t.observers,n=e.length;n--;){var r=e[n];r.dependenciesState===it.UP_TO_DATE&&(r.isTracing!==at.NONE&&Kt(r,t),r.onBecomeStale()),r.dependenciesState=it.STALE}}}(this),Vt()},t.prototype.toString=function(){return this.name},t}(),D=b("Atom",k);function M(t,e,n){void 0===e&&(e=p),void 0===n&&(n=p);var r,o=new k(t);return me("onBecomeObserved",o,e,r),ge(o,n),o}function T(t,e){return t===e}var N={identity:T,structural:function(t,e){return Mn(t,e)},default:function(t,e){return r=e,"number"==typeof(n=t)&&"number"==typeof r&&isNaN(n)&&isNaN(r)||T(t,e);var n,r},shallow:function(t,e){return Mn(t,e,1)}},C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
        Copyright (c) Microsoft Corporation. All rights reserved.
        Licensed under the Apache License, Version 2.0 (the "License"); you may not use
        this file except in compliance with the License. You may obtain a copy of the
        License at http://www.apache.org/licenses/LICENSE-2.0
        
        THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
        WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
        MERCHANTABLITY OR NON-INFRINGEMENT.
        
        See the Apache Version 2.0 License for specific language governing permissions
        and limitations under the License.
        ***************************************************************************** */function R(t,e){function n(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var I=function(){return(I=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function L(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function z(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(L(arguments[e]));return t}var B={},U={};function X(t,e){var n=e?B:U;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return F(this),this[t]},set:function(e){F(this),this[t]=e}})}function F(t){if(!0!==t.__mobxDidRunLazyInitializers){var e=t.__mobxDecorators;if(e)for(var n in y(t,"__mobxDidRunLazyInitializers",!0),e){var r=e[n];r.propertyCreator(t,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function H(t,e){return function(){var n,r=function(r,o,i,a){if(!0===a)return e(r,o,i,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,"__mobxDecorators")){var u=r.__mobxDecorators;y(r,"__mobxDecorators",I({},u))}return r.__mobxDecorators[o]={prop:o,propertyCreator:e,descriptor:i,decoratorTarget:r,decoratorArguments:n},X(o,t)};return G(arguments)?(n=o,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function G(t){return(2===t.length||3===t.length)&&"string"==typeof t[1]||4===t.length&&!0===t[3]}function Y(t,e,n){return Me(t)?t:Array.isArray(t)?rt.array(t,{name:n}):h(t)?rt.object(t,void 0,{name:n}):g(t)?rt.map(t,{name:n}):m(t)?rt.set(t,{name:n}):t}function V(t){return t}function W(t){l(t);var e=H(!0,(function(e,n,r,o,i){_n(e,n,r?r.initializer?r.initializer.call(e):r.value:void 0,t)})),n=(void 0!==r&&r.env,e);return n.enhancer=t,n}var K={deep:!0,name:void 0,defaultDecorator:void 0},$={deep:!1,name:void 0,defaultDecorator:void 0};function Z(t){return null==t?K:"string"==typeof t?{name:t,deep:!0}:t}function q(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?V:Y}Object.freeze(K),Object.freeze($);var Q=W(Y),J=W((function(t,e,n){return null==t||Sn(t)||fn(t)||yn(t)||gn(t)?t:Array.isArray(t)?rt.array(t,{name:n,deep:!1}):h(t)?rt.object(t,void 0,{name:n,deep:!1}):g(t)?rt.map(t,{name:n,deep:!1}):m(t)?rt.set(t,{name:n,deep:!1}):s(!1)})),tt=W(V),et=W((function(t,e,n){return Mn(t,e)?e:t})),nt={box:function(t,e){arguments.length>2&&ot("box");var n=Z(e);return new Ct(t,q(n),n.name,!0,n.equals)},shallowBox:function(t,e){return arguments.length>2&&ot("shallowBox"),rt.box(t,{name:e,deep:!1})},array:function(t,e){arguments.length>2&&ot("array");var n=Z(e);return new on(t,q(n),n.name)},shallowArray:function(t,e){return arguments.length>2&&ot("shallowArray"),rt.array(t,{name:e,deep:!1})},map:function(t,e){arguments.length>2&&ot("map");var n=Z(e);return new dn(t,q(n),n.name)},shallowMap:function(t,e){return arguments.length>2&&ot("shallowMap"),rt.map(t,{name:e,deep:!1})},set:function(t,e){arguments.length>2&&ot("set");var n=Z(e);return new bn(t,q(n),n.name)},object:function(t,e,n){return"string"==typeof arguments[1]&&ot("object"),_e({},t,e,Z(n))},shallowObject:function(t,e){return"string"==typeof arguments[1]&&ot("shallowObject"),rt.object(t,{},{name:e,deep:!1})},ref:tt,shallow:J,deep:Q,struct:et},rt=function(t,e,n){if("string"==typeof arguments[1])return Q.apply(null,arguments);if(Me(t))return t;var r=h(t)?rt.object(t,e,n):Array.isArray(t)?rt.array(t,e):g(t)?rt.map(t,e):m(t)?rt.set(t,e):t;if(r!==t)return r;s(!1)};function ot(t){s("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(nt).forEach((function(t){return rt[t]=nt[t]}));var it,at,ut,ct=H(!1,(function(t,e,n,r,o){var i,a,u,c,s,l=n.get,f=n.set,p=o[0]||{};i=t,a=e,u=I({get:l,set:f},p),s=On(i),u.name=s.name+"."+a,u.context=i,s.values[a]=new It(u),Object.defineProperty(i,a,xn[c=a]||(xn[c]={configurable:Xt.computedConfigurable,enumerable:!1,get:function(){return jn(this).read(this,c)},set:function(t){jn(this).write(this,c,t)}}))})),st=ct({equals:N.structural}),lt=function(t,e,n){if("string"==typeof e)return ct.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return ct.apply(null,arguments);var r="object"==typeof e?e:{};return r.get=t,r.set="function"==typeof e?e:r.set,r.name=r.name||t.name||"",new It(r)};lt.struct=st,(ut=it||(it={}))[ut.NOT_TRACKING=-1]="NOT_TRACKING",ut[ut.UP_TO_DATE=0]="UP_TO_DATE",ut[ut.POSSIBLY_STALE=1]="POSSIBLY_STALE",ut[ut.STALE=2]="STALE",function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(at||(at={}));var ft=function(t){this.cause=t};function pt(t){return t instanceof ft}function dt(t){switch(t.dependenciesState){case it.UP_TO_DATE:return!1;case it.NOT_TRACKING:case it.STALE:return!0;case it.POSSIBLY_STALE:for(var e=_t(!0),n=mt(),r=t.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(Lt(a)){if(Xt.disableErrorBoundaries)a.get();else try{a.get()}catch(u){return Ot(n),wt(e),!0}if(t.dependenciesState===it.STALE)return Ot(n),wt(e),!0}}return xt(t),Ot(n),wt(e),!1}}function ht(){return null!==Xt.trackingDerivation}function yt(t){var e=t.observers.length>0;Xt.computationDepth>0&&e&&s(!1),Xt.allowStateChanges||!e&&"strict"!==Xt.enforceActions||s(!1)}function vt(t,e,n){var r=_t(!0);xt(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Xt.runId;var o,i=Xt.trackingDerivation;if(Xt.trackingDerivation=t,!0===Xt.disableErrorBoundaries)o=e.call(n);else try{o=e.call(n)}catch(a){o=new ft(a)}return Xt.trackingDerivation=i,function(t){for(var e=t.observing,n=t.observing=t.newObserving,r=it.UP_TO_DATE,o=0,i=t.unboundDepsCount,a=0;a<i;a++)0===(u=n[a]).diffValue&&(u.diffValue=1,o!==a&&(n[o]=u),o++),u.dependenciesState>r&&(r=u.dependenciesState);for(n.length=o,t.newObserving=null,i=e.length;i--;)0===(u=e[i]).diffValue&&Ht(u,t),u.diffValue=0;for(;o--;){var u;1===(u=n[o]).diffValue&&(u.diffValue=0,Ft(u,t))}r!==it.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}(t),t.observing.length,wt(r),o}function bt(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)Ht(e[n],t);t.dependenciesState=it.NOT_TRACKING}function gt(t){var e=mt(),n=t();return Ot(e),n}function mt(){var t=Xt.trackingDerivation;return Xt.trackingDerivation=null,t}function Ot(t){Xt.trackingDerivation=t}function _t(t){var e=Xt.allowStateReads;return Xt.allowStateReads=t,e}function wt(t){Xt.allowStateReads=t}function xt(t){if(t.dependenciesState!==it.UP_TO_DATE){t.dependenciesState=it.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=it.UP_TO_DATE}}var jt=0,Et=1,St=Object.getOwnPropertyDescriptor((function(){}),"name");function Pt(t,e){var n=function(){return At(t,e,this,arguments)};return n.isMobxAction=!0,n}function At(t,e,n,r){var o=kt(t,n,r);try{return e.apply(n,r)}catch(i){throw o.error=i,i}finally{Dt(o)}}function kt(t,e,n){var r=ee()&&!!t,o=0;if(r){o=Date.now();var i=n&&n.length||0,a=new Array(i);if(i>0)for(var u=0;u<i;u++)a[u]=n[u];re({type:"action",name:t,object:e,arguments:a})}var c=mt();Yt();var s={prevDerivation:c,prevAllowStateChanges:Tt(!0),prevAllowStateReads:_t(!0),notifySpy:r,startTime:o,actionId:Et++,parentActionId:jt};return jt=s.actionId,s}function Dt(t){jt!==t.actionId&&s("invalid action stack. did you forget to finish an action?"),jt=t.parentActionId,void 0!==t.error&&(Xt.suppressReactionErrors=!0),Nt(t.prevAllowStateChanges),wt(t.prevAllowStateReads),Vt(),Ot(t.prevDerivation),t.notifySpy&&ie({time:Date.now()-t.startTime}),Xt.suppressReactionErrors=!1}function Mt(t,e){var n,r=Tt(t);try{n=e()}finally{Nt(r)}return n}function Tt(t){var e=Xt.allowStateChanges;return Xt.allowStateChanges=t,e}function Nt(t){Xt.allowStateChanges=t}St&&St.configurable;var Ct=function(t){function e(e,n,r,o,i){void 0===r&&(r="ObservableValue@"+c()),void 0===o&&(o=!0),void 0===i&&(i=N.default);var a=t.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=i,a.hasUnreportedChange=!1,a.value=n(e,void 0,r),o&&ee()&&ne({type:"create",name:a.name,newValue:""+a.value}),a}return R(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){var e=this.value;if((t=this.prepareNewValue(t))!==Xt.UNCHANGED){var n=ee();n&&re({type:"update",name:this.name,newValue:t,oldValue:e}),this.setNewValue(t),n&&ie()}},e.prototype.prepareNewValue=function(t){if(yt(this),Ge(this)){var e=Ve(this,{object:this,type:"update",newValue:t});if(!e)return Xt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?Xt.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),We(this)&&$e(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return Ye(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),Ke(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return w(this.get())},e}(k);Ct.prototype[_()]=Ct.prototype.valueOf;var Rt=b("ObservableValue",Ct),It=function(){function t(t){this.dependenciesState=it.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=it.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+c(),this.value=new ft(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=at.NONE,l(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+c(),t.set&&(this.setter=Pt(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?N.structural:N.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState===it.UP_TO_DATE){t.lowestObserverState=it.POSSIBLY_STALE;for(var e=t.observers,n=e.length;n--;){var r=e[n];r.dependenciesState===it.UP_TO_DATE&&(r.dependenciesState=it.POSSIBLY_STALE,r.isTracing!==at.NONE&&Kt(r,t),r.onBecomeStale())}}}(this)},t.prototype.onBecomeUnobserved=function(){},t.prototype.onBecomeObserved=function(){},t.prototype.get=function(){this.isComputing&&s("Cycle detected in computation "+this.name+": "+this.derivation),0!==Xt.inBatch||0!==this.observers.length||this.keepAlive?(Wt(this),dt(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState!==it.STALE){t.lowestObserverState=it.STALE;for(var e=t.observers,n=e.length;n--;){var r=e[n];r.dependenciesState===it.POSSIBLY_STALE?r.dependenciesState=it.STALE:r.dependenciesState===it.UP_TO_DATE&&(t.lowestObserverState=it.UP_TO_DATE)}}}(this)):dt(this)&&(this.warnAboutUntrackedRead(),Yt(),this.value=this.computeValue(!1),Vt());var t=this.value;if(pt(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(pt(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){l(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else l(!1,!1)},t.prototype.trackAndCompute=function(){ee()&&ne({object:this.scope,type:"compute",name:this.name});var t=this.value,e=this.dependenciesState===it.NOT_TRACKING,n=this.computeValue(!0),r=e||pt(t)||pt(n)||!this.equals(t,n);return r&&(this.value=n),r},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,Xt.computationDepth++,t)e=vt(this,this.derivation,this.scope);else if(!0===Xt.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(n){e=new ft(n)}return Xt.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(bt(this),this.value=void 0)},t.prototype.observe=function(t,e){var n=this,r=!0,o=void 0;return he((function(){var i=n.get();if(!r||e){var a=mt();t({type:"update",object:n,newValue:i,oldValue:o}),Ot(a)}r=!1,o=i}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return w(this.get())},t}();It.prototype[_()]=It.prototype.valueOf;var Lt=b("ComputedValue",It),zt=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Bt=!0,Ut=!1,Xt=function(){var t=u();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Bt=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new zt).version&&(Bt=!1),Bt?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new zt):(setTimeout((function(){Ut||s("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new zt)}();function Ft(t,e){var n=t.observers.length;n&&(t.observersIndexes[e.__mapid]=n),t.observers[n]=e,t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Ht(t,e){if(1===t.observers.length)t.observers.length=0,Gt(t);else{var n=t.observers,r=t.observersIndexes,o=n.pop();if(o!==e){var i=r[e.__mapid]||0;i?r[o.__mapid]=i:delete r[o.__mapid],n[i]=o}delete r[e.__mapid]}}function Gt(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,Xt.pendingUnobservations.push(t))}function Yt(){Xt.inBatch++}function Vt(){if(0==--Xt.inBatch){qt();for(var t=Xt.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof It&&n.suspend())}Xt.pendingUnobservations=[]}}function Wt(t){var e=Xt.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.length&&Xt.inBatch>0&&Gt(t),!1)}function Kt(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===at.BREAK){var n=[];!function t(e,n,r){n.length>=1e3?n.push("(and many more)"):(n.push(""+new Array(r).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return t(e,n,r+1)})))}((r=t,we(Pn(r,o))),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof It?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}var r,o}var $t=function(){function t(t,e,n,r){void 0===t&&(t="Reaction@"+c()),void 0===r&&(r=!1),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=it.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+c(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=at.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Xt.pendingReactions.push(this),qt())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(Yt(),this._isScheduled=!1,dt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&ee()&&ne({name:this.name,type:"scheduled-reaction"})}catch(t){this.reportExceptionInDerivation(t)}}Vt()}},t.prototype.track=function(t){Yt();var e,n=ee();n&&(e=Date.now(),re({name:this.name,type:"reaction"})),this._isRunning=!0;var r=vt(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&bt(this),pt(r)&&this.reportExceptionInDerivation(r.cause),n&&ie({time:Date.now()-e}),Vt()},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(Xt.disableErrorBoundaries)throw t;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Xt.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,t),ee()&&ne({type:"error",name:this.name,message:n,error:""+t}),Xt.globalReactionErrorHandlers.forEach((function(n){return n(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Yt(),bt(this),Vt()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t.$mobx=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var r=Be(t);if(!r)return s(!1);r.isTracing===at.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?at.BREAK:at.LOG}(this,t)},t}(),Zt=function(t){return t()};function qt(){Xt.inBatch>0||Xt.isRunningReactions||Zt(Qt)}function Qt(){Xt.isRunningReactions=!0;for(var t=Xt.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Xt.isRunningReactions=!1}var Jt=b("Reaction",$t);function te(t){var e=Zt;Zt=function(n){return t((function(){return e(n)}))}}function ee(){return!!Xt.spyListeners.length}function ne(t){if(Xt.spyListeners.length)for(var e=Xt.spyListeners,n=0,r=e.length;n<r;n++)e[n](t)}function re(t){ne(I(I({},t),{spyReportStart:!0}))}var oe={spyReportEnd:!0};function ie(t){ne(t?I(I({},t),{spyReportEnd:!0}):oe)}function ae(t){return Xt.spyListeners.push(t),f((function(){Xt.spyListeners=Xt.spyListeners.filter((function(e){return e!==t}))}))}function ue(){s(!1)}function ce(t){return function(e,n,r){if(r){if(r.value)return{value:Pt(t,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Pt(t,o.call(this))}}}return se(t).apply(this,arguments)}}function se(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){y(this,n,le(t,e))}})}}var le=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?Pt(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?Pt(t,e):1===arguments.length&&"string"==typeof t?ce(t):!0!==r?ce(e).apply(null,arguments):void(t[e]=Pt(t.name||e,n.value))};function fe(t,e){return At("string"==typeof t?t:t.name||"<unnamed action>","function"==typeof t?t:e,this,void 0)}function pe(t){return"function"==typeof t&&!0===t.isMobxAction}function de(t,e,n){y(t,e,Pt(e,n.bind(t)))}function he(t,e){void 0===e&&(e=i);var n,r=e&&e.name||t.name||"Autorun@"+c();if(e.scheduler||e.delay){var o=ve(e),a=!1;n=new $t(r,(function(){a||(a=!0,o((function(){a=!1,n.isDisposed||n.track(u)})))}),e.onError,e.requiresObservable)}else n=new $t(r,(function(){this.track(u)}),e.onError,e.requiresObservable);function u(){t(n)}return n.schedule(),n.getDisposer()}le.bound=function(t,e,n,r){return!0===r?(de(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return de(this,e,n.value||n.initializer.call(this)),this[e]},set:ue}:{enumerable:!1,configurable:!0,set:function(t){de(this,e,t)},get:function(){}}};var ye=function(t){return t()};function ve(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:ye}function be(t,e,n){void 0===n&&(n=i),"boolean"==typeof n&&(n={fireImmediately:n});var r,o,a,u=n.name||"Reaction@"+c(),s=le(u,n.onError?(r=n.onError,o=e,function(){try{return o.apply(this,arguments)}catch(t){r.call(this,t)}}):e),l=!n.scheduler&&!n.delay,f=ve(n),p=!0,d=!1,h=n.compareStructural?N.structural:n.equals||N.default,y=new $t(u,(function(){p||l?v():d||(d=!0,f(v))}),n.onError,n.requiresObservable);function v(){if(d=!1,!y.isDisposed){var e=!1;y.track((function(){var n=t(y);e=p||!h(a,n),a=n})),p&&n.fireImmediately&&s(a,y),p||!0!==e||s(a,y),p&&(p=!1)}}return y.schedule(),y.getDisposer()}function ge(t,e,n){return me("onBecomeUnobserved",t,e,n)}function me(t,e,n,r){var o="function"==typeof r?Pn(e,n):Pn(e),i="function"==typeof r?r:n,a=o[t];return"function"!=typeof a?s(!1):(o[t]=function(){a.call(this),i.call(this)},function(){o[t]=a})}function Oe(t){var e=t.enforceActions,n=t.computedRequiresReaction,r=t.computedConfigurable,o=t.disableErrorBoundaries,i=t.arrayBuffer,a=t.reactionScheduler,c=t.reactionRequiresObservable,l=t.observableRequiresReaction;if(!0===t.isolateGlobalState&&((Xt.pendingReactions.length||Xt.inBatch||Xt.isRunningReactions)&&s("isolateGlobalState should be called before MobX is running any reactions"),Ut=!0,Bt&&(0==--u().__mobxInstanceCount&&(u().__mobxGlobals=void 0),Xt=new zt)),void 0!==e){var f=void 0;switch(e){case!0:case"observed":f=!0;break;case!1:case"never":f=!1;break;case"strict":case"always":f="strict";break;default:s("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}Xt.enforceActions=f,Xt.allowStateChanges=!0!==f&&"strict"!==f}void 0!==n&&(Xt.computedRequiresReaction=!!n),void 0!==c&&(Xt.reactionRequiresObservable=!!c),void 0!==l&&(Xt.observableRequiresReaction=!!l,Xt.allowStateReads=!Xt.observableRequiresReaction),void 0!==r&&(Xt.computedConfigurable=!!r),void 0!==o&&(!0===o&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),Xt.disableErrorBoundaries=!!o),"number"==typeof i&&sn(i),a&&te(a)}function _e(t,e,n,r){var o=(r=Z(r)).defaultDecorator||(!1===r.deep?tt:Q);F(t),On(t,r.name,o.enhancer),Yt();try{for(var i=Object.getOwnPropertyNames(e),a=0,u=i.length;a<u;a++){var c=i[a],s=Object.getOwnPropertyDescriptor(e,c),l=(n&&c in n?n[c]:s.get?ct:o)(t,c,s,!0);l&&Object.defineProperty(t,c,l)}}finally{Vt()}return t}function we(t){var e,n,r={name:t.name};return t.observing&&t.observing.length>0&&(r.dependencies=(e=t.observing,n=[],e.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n).map(we)),r}var xe=0;function je(){this.message="FLOW_CANCELLED"}function Ee(t){1!==arguments.length&&s("Flow expects one 1 argument and cannot be used as decorator");var e=t.name||"<unnamed flow>";return function(){var n,r=this,o=arguments,i=++xe,a=le(e+" - runid: "+i+" - init",t).apply(r,o),u=void 0,c=new Promise((function(t,r){var o=0;function c(t){var n;u=void 0;try{n=le(e+" - runid: "+i+" - yield "+o++,a.next).call(a,t)}catch(c){return r(c)}l(n)}function s(t){var n;u=void 0;try{n=le(e+" - runid: "+i+" - yield "+o++,a.throw).call(a,t)}catch(c){return r(c)}l(n)}function l(e){if(!e||"function"!=typeof e.then)return e.done?t(e.value):(u=Promise.resolve(e.value)).then(c,s);e.then(l,r)}n=r,c(void 0)}));return c.cancel=le(e+" - runid: "+i+" - cancel",(function(){try{u&&Se(u);var t=a.return(void 0),e=Promise.resolve(t.value);e.then(p,p),Se(e),n(new je)}catch(r){n(r)}})),c}}function Se(t){"function"==typeof t.cancel&&t.cancel()}function Pe(t,e){if(null==t)return!1;if(void 0!==e){if(!1===Sn(t))return!1;if(!t.$mobx.values[e])return!1;var n=Pn(t,e);return Lt(n)}return Lt(t)}function Ae(t){return arguments.length>1?s(!1):Pe(t)}function ke(t,e){return"string"!=typeof e?s(!1):Pe(t,e)}function De(t,e){if(null==t)return!1;if(void 0!==e){if(Sn(t)){var n=t.$mobx;return n.values&&!!n.values[e]}return!1}return Sn(t)||!!t.$mobx||D(t)||Jt(t)||Lt(t)}function Me(t){return 1!==arguments.length&&s(!1),De(t)}function Te(t){return Sn(t)?t.$mobx.getKeys():yn(t)||gn(t)?O(t.keys()):fn(t)?t.map((function(t,e){return e})):s(!1)}function Ne(t){return Sn(t)?Te(t).map((function(e){return t[e]})):yn(t)?Te(t).map((function(e){return t.get(e)})):gn(t)?O(t.values()):fn(t)?t.slice():s(!1)}function Ce(t){return Sn(t)?Te(t).map((function(e){return[e,t[e]]})):yn(t)?Te(t).map((function(e){return[e,t.get(e)]})):gn(t)?O(t.entries()):fn(t)?t.map((function(t,e){return[e,t]})):s(!1)}function Re(t,e,n,r){return"function"==typeof n?(o=n,i=r,An(t,e).observe(o,i)):function(t,e,n){return An(t).observe(e,n)}(t,e,n);var o,i}je.prototype=Object.create(Error.prototype);var Ie={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Le(t,e,n,r){return r.detectCycles&&t.set(e,n),n}function ze(t,e){var n;return"boolean"==typeof e&&(e={detectCycles:e}),e||(e=Ie),e.detectCycles=void 0===e.detectCycles?!0===e.recurseEverything:!0===e.detectCycles,e.detectCycles&&(n=new Map),function t(e,n,r){if(!n.recurseEverything&&!Me(e))return e;if("object"!=typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Rt(e))return t(e.get(),n,r);if(Me(e)&&Te(e),!0===n.detectCycles&&null!==e&&r.has(e))return r.get(e);if(fn(e)||Array.isArray(e)){var o=Le(r,e,[],n),i=e.map((function(e){return t(e,n,r)}));o.length=i.length;for(var a=0,u=i.length;a<u;a++)o[a]=i[a];return o}if(gn(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===n.exportMapsAsObjects){var c=Le(r,e,new Set,n);return e.forEach((function(e){c.add(t(e,n,r))})),c}var s=Le(r,e,[],n);return e.forEach((function(e){s.push(t(e,n,r))})),s}if(yn(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===n.exportMapsAsObjects){var l=Le(r,e,new Map,n);return e.forEach((function(e,o){l.set(o,t(e,n,r))})),l}var f=Le(r,e,{},n);return e.forEach((function(e,o){f[o]=t(e,n,r)})),f}var p=Le(r,e,{},n);for(var d in e)p[d]=t(e[d],n,r);return p}(t,e,n)}function Be(t){switch(t.length){case 0:return Xt.trackingDerivation;case 1:return Pn(t[0]);case 2:return Pn(t[0],t[1])}}function Ue(t,e){void 0===e&&(e=void 0),Yt();try{return t.apply(e)}finally{Vt()}}function Xe(t,e,n){return 1===arguments.length||e&&"object"==typeof e?He(t,e):Fe(t,e,n||{})}function Fe(t,e,n){var r;"number"==typeof n.timeout&&(r=setTimeout((function(){if(!i.$mobx.isDisposed){i();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}}),n.timeout)),n.name=n.name||"When@"+c();var o=Pt(n.name+"-effect",e),i=he((function(e){t()&&(e.dispose(),r&&clearTimeout(r),o())}),n);return i}function He(t,e){var n,r=new Promise((function(r,o){var i=Fe(t,r,I(I({},e),{onError:o}));n=function(){i(),o("WHEN_CANCELLED")}}));return r.cancel=n,r}function Ge(t){return void 0!==t.interceptors&&t.interceptors.length>0}function Ye(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),f((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function Ve(t,e){var n=mt();try{var r=t.interceptors;if(r)for(var o=0,i=r.length;o<i&&(l(!(e=r[o](e))||e.type,"Intercept handlers should return nothing or a change object"),e);o++);return e}finally{Ot(n)}}function We(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function Ke(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),f((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function $e(t,e){var n=mt(),r=t.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](e);Ot(n)}}var Ze,qe,Qe,Je,tn=(Ze=!1,qe={},Object.defineProperty(qe,"0",{set:function(){Ze=!0}}),Object.create(qe)[0]=1,!1===Ze),en=0,nn=function(){};Qe=nn,Je=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(Qe.prototype,Je):void 0!==Qe.prototype.__proto__?Qe.prototype.__proto__=Je:Qe.prototype=Je,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(t){Object.defineProperty(nn.prototype,t,{configurable:!0,writable:!0,value:Array.prototype[t]})}));var rn=function(){function t(t,e,n,r){this.array=n,this.owned=r,this.values=[],this.lastKnownLength=0,this.atom=new k(t||"ObservableArray@"+c()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return Ye(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Ke(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=e,e>0&&t+e+1>en&&sn(t+e+1)},t.prototype.spliceWithArray=function(t,e,n){var r=this;yt(this.atom);var i=this.values.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===n&&(n=o),Ge(this)){var a=Ve(this,{object:this.array,type:"splice",index:t,removedCount:e,added:n});if(!a)return o;e=a.removedCount,n=a.added}var u=(n=0===n.length?n:n.map((function(t){return r.enhancer(t,void 0)}))).length-e;this.updateArrayLength(i,u);var c=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,c),this.dehanceValues(c)},t.prototype.spliceItemsIntoValues=function(t,e,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,z([t,e],n));var o=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),o},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&ee(),o=We(this),i=o||r?{object:this.array,type:"update",index:t,newValue:e,oldValue:n}:null;r&&re(I(I({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&$e(this,i),r&&ie()},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&ee(),o=We(this),i=o||r?{object:this.array,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;r&&re(I(I({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&$e(this,i),r&&ie()},t}(),on=function(t){function e(e,n,r,o){void 0===r&&(r="ObservableArray@"+c()),void 0===o&&(o=!1);var i=t.call(this)||this,a=new rn(r,n,i,o);if(v(i,"$mobx",a),e&&e.length){var u=Tt(!0);i.spliceWithArray(0,0,e),Nt(u)}return tn&&Object.defineProperty(a.array,"0",an),i}return R(e,t),e.prototype.intercept=function(t){return this.$mobx.intercept(t)},e.prototype.observe=function(t,e){return void 0===e&&(e=!1),this.$mobx.observe(t,e)},e.prototype.clear=function(){return this.splice(0)},e.prototype.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),t.map((function(t){return fn(t)?t.peek():t})))},e.prototype.replace=function(t){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,t)},e.prototype.toJS=function(){return this.slice()},e.prototype.toJSON=function(){return this.toJS()},e.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},e.prototype.find=function(t,e,n){void 0===n&&(n=0);var r=this.findIndex.apply(this,arguments);return-1===r?void 0:this.get(r)},e.prototype.findIndex=function(t,e,n){void 0===n&&(n=0);for(var r=this.peek(),o=r.length,i=n;i<o;i++)if(t.call(e,r[i],i,this))return i;return-1},e.prototype.splice=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(t);case 2:return this.$mobx.spliceWithArray(t,e)}return this.$mobx.spliceWithArray(t,e,n)},e.prototype.spliceWithArray=function(t,e,n){return this.$mobx.spliceWithArray(t,e,n)},e.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,t),n.values.length},e.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},e.prototype.shift=function(){return this.splice(0,1)[0]},e.prototype.unshift=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.$mobx;return n.spliceWithArray(0,0,t),n.values.length},e.prototype.reverse=function(){var t=this.slice();return t.reverse.apply(t,arguments)},e.prototype.sort=function(t){var e=this.slice();return e.sort.apply(e,arguments)},e.prototype.remove=function(t){var e=this.$mobx.dehanceValues(this.$mobx.values).indexOf(t);return e>-1&&(this.splice(e,1),!0)},e.prototype.move=function(t,e){function n(t){if(t<0)throw new Error("[mobx.array] Index out of bounds: "+t+" is negative");var e=this.$mobx.values.length;if(t>=e)throw new Error("[mobx.array] Index out of bounds: "+t+" is not smaller than "+e)}if(n.call(this,t),n.call(this,e),t!==e){var r,o=this.$mobx.values;r=t<e?z(o.slice(0,t),o.slice(t+1,e+1),[o[t]],o.slice(e+1)):z(o.slice(0,e),[o[t]],o.slice(e,t),o.slice(t+1)),this.replace(r)}},e.prototype.get=function(t){var e=this.$mobx;if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},e.prototype.set=function(t,e){var n=this.$mobx,r=n.values;if(t<r.length){yt(n.atom);var o=r[t];if(Ge(n)){var i=Ve(n,{type:"update",object:this,index:t,newValue:e});if(!i)return;e=i.newValue}(e=n.enhancer(e,o))!==o&&(r[t]=e,n.notifyArrayChildUpdate(t,e,o))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}},e}(nn);E(on.prototype,(function(){this.$mobx.atom.reportObserved();var t=this,e=0;return S({next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(on.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(t){this.$mobx.setArrayLength(t)}}),y(on.prototype,P(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(t){var e=Array.prototype[t];l("function"==typeof e,"Base function not defined on Array prototype: '"+t+"'"),y(on.prototype,t,(function(){return e.apply(this.peek(),arguments)}))})),["every","filter","forEach","map","some"].forEach((function(t){l("function"==typeof Array.prototype[t],"Base function not defined on Array prototype: '"+t+"'"),y(on.prototype,t,(function(e,n){var r=this,o=this.$mobx;return o.atom.reportObserved(),o.dehanceValues(o.values)[t]((function(t,o){return e.call(n,t,o,r)}),n)}))})),["reduce","reduceRight"].forEach((function(t){y(on.prototype,t,(function(){var e=this,n=this.$mobx;n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(t,o,i){return o=n.dehanceValue(o),r(t,o,i,e)},n.values[t].apply(n.values,arguments)}))})),function(t,e){for(var n=0;n<e.length;n++)y(t,e[n],t[e[n]])}(on.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var an=un(0);function un(t){return{enumerable:!1,configurable:!1,get:function(){return this.get(t)},set:function(e){this.set(t,e)}}}function cn(t){Object.defineProperty(on.prototype,""+t,un(t))}function sn(t){for(var e=en;e<t;e++)cn(e);en=t}sn(1e3);var ln=b("ObservableArrayAdministration",rn);function fn(t){return d(t)&&ln(t.$mobx)}var pn={},dn=function(){function t(t,e,n){if(void 0===e&&(e=Y),void 0===n&&(n="ObservableMap@"+c()),this.enhancer=e,this.name=n,this.$mobx=pn,this._keysAtom=M(this.name+".keys()"),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!Xt.trackingDerivation)return this._has(t);var n=this._hasMap.get(t);if(!n){var r=n=new Ct(this._has(t),V,this.name+"."+hn(t)+"?",!1);this._hasMap.set(t,r),ge(r,(function(){return e._hasMap.delete(t)}))}return n.get()},t.prototype.set=function(t,e){var n=this._has(t);if(Ge(this)){var r=Ve(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(yt(this._keysAtom),Ge(this)&&!(o=Ve(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var n=ee(),r=We(this),o=r||n?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return n&&re(I(I({},o),{name:this.name,key:t})),Ue((function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)})),r&&$e(this,o),n&&ie(),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);n&&n.setNewValue(e)},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if((e=n.prepareNewValue(e))!==Xt.UNCHANGED){var r=ee(),o=We(this),i=o||r?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;r&&re(I(I({},i),{name:this.name,key:t})),n.setNewValue(e),o&&$e(this,i),r&&ie()}},t.prototype._addValue=function(t,e){var n=this;yt(this._keysAtom),Ue((function(){var r=new Ct(e,n.enhancer,n.name+"."+hn(t),!1);n._data.set(t,r),e=r.value,n._updateHasMapEntry(t,!0),n._keysAtom.reportChanged()}));var r=ee(),o=We(this),i=o||r?{type:"add",object:this,name:t,newValue:e}:null;r&&re(I(I({},i),{name:this.name,key:t})),o&&$e(this,i),r&&ie()},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=this.keys();return S({next:function(){var n=e.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:t.get(o)}}})},t.prototype.entries=function(){var t=this,e=this.keys();return S({next:function(){var n=e.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:[o,t.get(o)]}}})},t.prototype.forEach=function(t,e){var n=this;this._keysAtom.reportObserved(),this._data.forEach((function(r,o){return t.call(e,n.get(o),o,n)}))},t.prototype.merge=function(t){var e=this;return yn(t)&&(t=t.toJS()),Ue((function(){var n=Tt(!0);try{h(t)?Object.keys(t).forEach((function(n){return e.set(n,t[n])})):Array.isArray(t)?t.forEach((function(t){var n=L(t,2),r=n[0],o=n[1];return e.set(r,o)})):g(t)?t.constructor!==Map?s("Cannot initialize from classes that inherit from Map: "+t.constructor.name):t.forEach((function(t,n){return e.set(n,t)})):null!=t&&s("Cannot initialize map from "+t)}finally{Nt(n)}})),this},t.prototype.clear=function(){var t=this;Ue((function(){gt((function(){t._data.forEach((function(e,n){return t.delete(n)}))}))}))},t.prototype.replace=function(t){var e=this;return Ue((function(){var n=function(t){if(g(t)||yn(t))return t;if(Array.isArray(t))return new Map(t);if(h(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}return s("Cannot convert to map from '"+t+"'")}(t),r=new Map,o=!1;if(x(e._data.keys(),(function(t){if(!n.has(t))if(e.delete(t))o=!0;else{var i=e._data.get(t);r.set(t,i)}})),x(n.entries(),(function(t){var n=L(t,2),i=n[0],a=n[1],u=e._data.has(i);if(e.set(i,a),e._data.has(i)){var c=e._data.get(i);r.set(i,c),u||(o=!0)}})),!o)if(e._data.size!==r.size)e._keysAtom.reportChanged();else for(var i=e._data.keys(),a=r.keys(),u=i.next(),c=a.next();!u.done;){if(u.value!==c.value){e._keysAtom.reportChanged();break}u=i.next(),c=a.next()}e._data=r})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t=this,e={};return this.forEach((function(n,r){return e["symbol"==typeof r?r:hn(r)]=t.get(r)})),e},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+O(this.keys()).map((function(e){return hn(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return Ke(this,t)},t.prototype.intercept=function(t){return Ye(this,t)},t}();function hn(t){return t&&t.toString?t.toString():new String(t).toString()}E(dn.prototype,(function(){return this.entries()})),v(dn.prototype,P(),"Map");var yn=b("ObservableMap",dn),vn={},bn=function(){function t(t,e,n){if(void 0===e&&(e=Y),void 0===n&&(n="ObservableSet@"+c()),this.name=n,this.$mobx=vn,this._data=new Set,this._atom=M(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,r){return e(t,r,n)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;Ue((function(){gt((function(){t._data.forEach((function(e){t.delete(e)}))}))}))},t.prototype.forEach=function(t,e){var n=this;this._atom.reportObserved(),this._data.forEach((function(r){t.call(e,r,r,n)}))},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if(yt(this._atom),Ge(this)&&!(o=Ve(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){Ue((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var n=ee(),r=We(this),o=r||n?{type:"add",object:this,newValue:t}:null;r&&$e(this,o)}return this},t.prototype.delete=function(t){var e=this;if(Ge(this)&&!(o=Ve(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var n=ee(),r=We(this),o=r||n?{type:"delete",object:this,oldValue:t}:null;return Ue((function(){e._atom.reportChanged(),e._data.delete(t)})),r&&$e(this,o),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=O(this.keys()),n=O(this.values());return S({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t,e=this,n=0;return void 0!==this._data.values?t=O(this._data.values()):(t=[],this._data.forEach((function(e){return t.push(e)}))),S({next:function(){return n<t.length?{value:e.dehanceValue(t[n++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return gn(t)&&(t=t.toJS()),Ue((function(){var n=Tt(!0);try{Array.isArray(t)||m(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&s("Cannot initialize set from "+t)}finally{Nt(n)}})),this},t.prototype.observe=function(t,e){return Ke(this,t)},t.prototype.intercept=function(t){return Ye(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+O(this.keys()).join(", ")+" ]"},t}();E(bn.prototype,(function(){return this.values()})),v(bn.prototype,P(),"Set");var gn=b("ObservableSet",bn),mn=function(){function t(t,e,n){this.target=t,this.name=e,this.defaultEnhancer=n,this.values={}}return t.prototype.read=function(t,e){if(this.target===t||(this.illegalAccess(t,e),this.values[e]))return this.values[e].get()},t.prototype.write=function(t,e,n){var r=this.target;r!==t&&this.illegalAccess(t,e);var o=this.values[e];if(o instanceof It)o.set(n);else{if(Ge(this)){if(!(u=Ve(this,{type:"update",object:r,name:e,newValue:n})))return;n=u.newValue}if((n=o.prepareNewValue(n))!==Xt.UNCHANGED){var i=We(this),a=ee(),u=i||a?{type:"update",object:r,oldValue:o.value,name:e,newValue:n}:null;a&&re(I(I({},u),{name:this.name,key:e})),o.setNewValue(n),i&&$e(this,u),a&&ie()}}},t.prototype.remove=function(t){if(this.values[t]){var e=this.target;if(Ge(this)&&!(i=Ve(this,{object:e,name:t,type:"remove"})))return;try{Yt();var n=We(this),r=ee(),o=this.values[t].get();this.keys&&this.keys.remove(t),delete this.values[t],delete this.target[t];var i=n||r?{type:"remove",object:e,oldValue:o,name:t}:null;r&&re(I(I({},i),{name:this.name,key:t})),n&&$e(this,i),r&&ie()}finally{Vt()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return Ke(this,t)},t.prototype.intercept=function(t){return Ye(this,t)},t.prototype.getKeys=function(){var t=this;return void 0===this.keys&&(this.keys=new on(Object.keys(this.values).filter((function(e){return t.values[e]instanceof Ct})),V,"keys("+this.name+")",!0)),this.keys.slice()},t}();function On(t,e,n){void 0===e&&(e=""),void 0===n&&(n=Y);var r=t.$mobx;return r||(h(t)||(e=(t.constructor.name||"ObservableObject")+"@"+c()),e||(e="ObservableObject@"+c()),v(t,"$mobx",r=new mn(t,e,n)),r)}function _n(t,e,n,r){var o,i=On(t);if(Ge(i)){var a=Ve(i,{object:t,name:e,type:"add",newValue:n});if(!a)return;n=a.newValue}n=(i.values[e]=new Ct(n,r,i.name+"."+e,!1)).value,Object.defineProperty(t,e,wn[o=e]||(wn[o]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,o)},set:function(t){this.$mobx.write(this,o,t)}})),i.keys&&i.keys.push(e),function(t,e,n,r){var o=We(t),i=ee(),a=o||i?{type:"add",object:e,name:n,newValue:r}:null;i&&re(I(I({},a),{name:t.name,key:n})),o&&$e(t,a),i&&ie()}(i,t,e,n)}var wn=Object.create(null),xn=Object.create(null);function jn(t){return t.$mobx||(F(t),t.$mobx)}var En=b("ObservableObjectAdministration",mn);function Sn(t){return!!d(t)&&(F(t),En(t.$mobx))}function Pn(t,e){if("object"==typeof t&&null!==t){if(fn(t))return void 0!==e&&s(!1),t.$mobx.atom;if(gn(t))return t.$mobx;if(yn(t)){var n=t;return void 0===e?n._keysAtom:((r=n._data.get(e)||n._hasMap.get(e))||s(!1),r)}var r;if(F(t),e&&!t.$mobx&&t[e],Sn(t))return e?((r=t.$mobx.values[e])||s(!1),r):s(!1);if(D(t)||Lt(t)||Jt(t))return t}else if("function"==typeof t&&Jt(t.$mobx))return t.$mobx;return s(!1)}function An(t,e){return t||s("Expecting some object"),void 0!==e?An(Pn(t,e)):D(t)||Lt(t)||Jt(t)||yn(t)||gn(t)?t:(F(t),t.$mobx?t.$mobx:void s(!1))}function kn(t,e){return(void 0!==e?Pn(t,e):Sn(t)||yn(t)||gn(t)?An(t):Pn(t)).name}var Dn=Object.prototype.toString;function Mn(t,e,n){return void 0===n&&(n=-1),function t(e,n,r,o,i){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var a=typeof e;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;e=Tn(e),n=Tn(n);var u=Dn.call(e);if(u!==Dn.call(n))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(n)}var c="[object Array]"===u;if(!c){if("object"!=typeof e||"object"!=typeof n)return!1;var s=e.constructor,l=n.constructor;if(s!==l&&!("function"==typeof s&&s instanceof s&&"function"==typeof l&&l instanceof l)&&"constructor"in e&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1),i=i||[];for(var f=(o=o||[]).length;f--;)if(o[f]===e)return i[f]===n;if(o.push(e),i.push(n),c){if((f=e.length)!==n.length)return!1;for(;f--;)if(!t(e[f],n[f],r-1,o,i))return!1}else{var p=Object.keys(e),d=void 0;if(f=p.length,Object.keys(n).length!==f)return!1;for(;f--;)if(!Nn(n,d=p[f])||!t(e[d],n[d],r-1,o,i))return!1}return o.pop(),i.pop(),!0}(t,e,n)}function Tn(t){return fn(t)?t.peek():g(t)||yn(t)||m(t)||gn(t)?O(t.entries()):t}function Nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Cn="$mobx";"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ae,extras:{getDebugName:kn},$mobx:Cn})}).call(this,n(132),n(159))},function(t,e,n){n.d(e,"j",(function(){return L})),n.d(e,"h",(function(){return z})),n.d(e,"e",(function(){return h})),n.d(e,"g",(function(){return h})),n.d(e,"b",(function(){return b})),n.d(e,"f",(function(){return v})),n.d(e,"a",(function(){return g})),n.d(e,"c",(function(){return B})),n.d(e,"d",(function(){return U})),n.d(e,"k",(function(){return E})),n.d(e,"i",(function(){return r}));var r,o,i,a,u,c,s={},l=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function p(t,e){for(var n in e)t[n]=e[n];return t}function d(t){var e=t.parentNode;e&&e.removeChild(t)}function h(t,e,n){var r,o,i,a=arguments,u={};for(i in e)"key"==i?r=e[i]:"ref"==i?o=e[i]:u[i]=e[i];if(arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(a[i]);if(null!=n&&(u.children=n),"function"==typeof t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===u[i]&&(u[i]=t.defaultProps[i]);return y(t,u,r,o,null)}function y(t,e,n,o,i){var a={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++r.__v:i};return null!=r.vnode&&r.vnode(a),a}function v(){return{current:null}}function b(t){return t.children}function g(t,e){this.props=t,this.context=e}function m(t,e){if(null==e)return t.__?m(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?m(t):null}function O(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return O(t)}}function _(t){(!t.__d&&(t.__d=!0)&&o.push(t)&&!w.__r++||a!==r.debounceRendering)&&((a=r.debounceRendering)||i)(w)}function w(){for(var t;w.__r=o.length;)t=o.sort((function(t,e){return t.__v.__b-e.__v.__b})),o=[],t.some((function(t){var e,n,r,o,i,a;t.__d&&(i=(o=(e=t).__v).__e,(a=e.__P)&&(n=[],(r=p({},o)).__v=o.__v+1,M(a,o,r,e.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?m(o):i,o.__h),T(n,o),o.__e!=i&&O(o)))}))}function x(t,e,n,r,o,i,a,u,c,f){var p,h,v,g,O,_,w,x=r&&r.__k||l,E=x.length;for(c==s&&(c=null!=a?a[0]:E?m(r,0):null),n.__k=[],p=0;p<e.length;p++)if(null!=(g=n.__k[p]=null==(g=e[p])||"boolean"==typeof g?null:"string"==typeof g||"number"==typeof g?y(null,g,null,null,g):Array.isArray(g)?y(b,{children:g},null,null,null):g.__b>0?y(g.type,g.props,g.key,null,g.__v):g)){if(g.__=n,g.__b=n.__b+1,null===(v=x[p])||v&&g.key==v.key&&g.type===v.type)x[p]=void 0;else for(h=0;h<E;h++){if((v=x[h])&&g.key==v.key&&g.type===v.type){x[h]=void 0;break}v=null}M(t,g,v=v||s,o,i,a,u,c,f),O=g.__e,(h=g.ref)&&v.ref!=h&&(w||(w=[]),v.ref&&w.push(v.ref,null,g),w.push(h,g.__c||O,g)),null!=O?(null==_&&(_=O),"function"==typeof g.type&&g.__k===v.__k?g.__d=c=j(g,c,t):c=S(t,g,v,x,a,O,c),f||"option"!==n.type?"function"==typeof n.type&&(n.__d=c):t.value=""):c&&v.__e==c&&c.parentNode!=t&&(c=m(v))}if(n.__e=_,null!=a&&"function"!=typeof n.type)for(p=a.length;p--;)null!=a[p]&&d(a[p]);for(p=E;p--;)null!=x[p]&&("function"==typeof n.type&&null!=x[p].__e&&x[p].__e==n.__d&&(n.__d=m(r,p+1)),R(x[p],x[p]));if(w)for(p=0;p<w.length;p++)C(w[p],w[++p],w[++p])}function j(t,e,n){var r,o;for(r=0;r<t.__k.length;r++)(o=t.__k[r])&&(o.__=t,"function"==typeof o.type?j(o,e,n):e=S(n,o,o,t.__k,null,o.__e,e));return e}function E(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){E(t,e)})):e.push(t)),e}function S(t,e,n,r,o,i,a){var u,c,s;if(void 0!==e.__d)u=e.__d,e.__d=void 0;else if(o==n||i!=a||null==i.parentNode)t:if(null==a||a.parentNode!==t)t.appendChild(i),u=null;else{for(c=a,s=0;(c=c.nextSibling)&&s<r.length;s+=2)if(c==i)break t;t.insertBefore(i,a),u=a}return void 0!==u?u:i.nextSibling}function P(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||f.test(e)?n:n+"px"}function A(t,e,n,r,o){var i,a,u;if(o&&"className"==e&&(e="class"),"style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||P(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||P(t.style,e,n[e])}else"o"===e[0]&&"n"===e[1]?(i=e!==(e=e.replace(/Capture$/,"")),(a=e.toLowerCase())in t&&(e=a),e=e.slice(2),t.l||(t.l={}),t.l[e+i]=n,u=i?D:k,n?r||t.addEventListener(e,u,i):t.removeEventListener(e,u,i)):"list"!==e&&"tagName"!==e&&"form"!==e&&"type"!==e&&"size"!==e&&"download"!==e&&"href"!==e&&!o&&e in t?t[e]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,n))}function k(t){this.l[t.type+!1](r.event?r.event(t):t)}function D(t){this.l[t.type+!0](r.event?r.event(t):t)}function M(t,e,n,o,i,a,u,c,s){var l,f,d,h,y,v,m,O,_,w,j,E=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(s=n.__h,c=e.__e=n.__e,e.__h=null,a=[c]),(l=r.__b)&&l(e);try{t:if("function"==typeof E){if(O=e.props,_=(l=E.contextType)&&o[l.__c],w=l?_?_.props.value:l.__:o,n.__c?m=(f=e.__c=n.__c).__=f.__E:("prototype"in E&&E.prototype.render?e.__c=f=new E(O,w):(e.__c=f=new g(O,w),f.constructor=E,f.render=I),_&&_.sub(f),f.props=O,f.state||(f.state={}),f.context=w,f.__n=o,d=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=E.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=p({},f.__s)),p(f.__s,E.getDerivedStateFromProps(O,f.__s))),h=f.props,y=f.state,d)null==E.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==E.getDerivedStateFromProps&&O!==h&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(O,w),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(O,f.__s,w)||e.__v===n.__v){f.props=O,f.state=f.__s,e.__v!==n.__v&&(f.__d=!1),f.__v=e,e.__e=n.__e,e.__k=n.__k,f.__h.length&&u.push(f);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(O,f.__s,w),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(h,y,v)}))}f.context=w,f.props=O,f.state=f.__s,(l=r.__r)&&l(e),f.__d=!1,f.__v=e,f.__P=t,l=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(o=p(p({},o),f.getChildContext())),d||null==f.getSnapshotBeforeUpdate||(v=f.getSnapshotBeforeUpdate(h,y)),j=null!=l&&l.type===b&&null==l.key?l.props.children:l,x(t,Array.isArray(j)?j:[j],e,n,o,i,a,u,c,s),f.base=e.__e,e.__h=null,f.__h.length&&u.push(f),m&&(f.__E=f.__=null),f.__e=!1}else null==a&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=N(n.__e,e,n,o,i,a,u,s);(l=r.diffed)&&l(e)}catch(S){e.__v=null,(s||null!=a)&&(e.__e=c,e.__h=!!s,a[a.indexOf(c)]=null),r.__e(S,e,n)}}function T(t,e){r.__c&&r.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(n){r.__e(n,e.__v)}}))}function N(t,e,n,r,o,i,a,u){var c,f,p,d,h,y=n.props,v=e.props;if(o="svg"===e.type||o,null!=i)for(c=0;c<i.length;c++)if(null!=(f=i[c])&&((null===e.type?3===f.nodeType:f.localName===e.type)||t==f)){t=f,i[c]=null;break}if(null==t){if(null===e.type)return document.createTextNode(v);t=o?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,v.is&&{is:v.is}),i=null,u=!1}if(null===e.type)y===v||u&&t.data===v||(t.data=v);else{if(null!=i&&(i=l.slice.call(t.childNodes)),p=(y=n.props||s).dangerouslySetInnerHTML,d=v.dangerouslySetInnerHTML,!u){if(null!=i)for(y={},h=0;h<t.attributes.length;h++)y[t.attributes[h].name]=t.attributes[h].value;(d||p)&&(d&&(p&&d.__html==p.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}(function(t,e,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in e||A(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===e[i]||A(t,i,e[i],n[i],r)})(t,v,y,o,u),d?e.__k=[]:(c=e.props.children,x(t,Array.isArray(c)?c:[c],e,n,r,"foreignObject"!==e.type&&o,i,a,s,u)),u||("value"in v&&void 0!==(c=v.value)&&(c!==t.value||"progress"===e.type&&!c)&&A(t,"value",c,y.value,!1),"checked"in v&&void 0!==(c=v.checked)&&c!==t.checked&&A(t,"checked",c,y.checked,!1))}return t}function C(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(o){r.__e(o,n)}}function R(t,e,n){var o,i,a;if(r.unmount&&r.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||C(o,null,e)),n||"function"==typeof t.type||(n=null!=(i=t.__e)),t.__e=t.__d=void 0,null!=(o=t.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(u){r.__e(u,e)}o.base=o.__P=null}if(o=t.__k)for(a=0;a<o.length;a++)o[a]&&R(o[a],e,n);null!=i&&d(i)}function I(t,e,n){return this.constructor(t,n)}function L(t,e,n){var o,i,a;r.__&&r.__(t,e),i=(o=n===u)?null:n&&n.__k||e.__k,t=h(b,null,[t]),a=[],M(e,(o?e:n||e).__k=t,i||s,s,void 0!==e.ownerSVGElement,n&&!o?[n]:i?null:e.childNodes.length?l.slice.call(e.childNodes):null,a,n||s,o),T(a,t)}function z(t,e){L(t,e,u)}function B(t,e,n){var r,o,i,a=arguments,u=p({},t.props);for(i in e)"key"==i?r=e[i]:"ref"==i?o=e[i]:u[i]=e[i];if(arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(a[i]);return null!=n&&(u.children=n),y(t.type,u,r||t.key,o||t.ref,null)}function U(t,e){var n={__c:e="__cC"+c++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,r;return this.getChildContext||(n=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(_)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}r={__e:function(t,e){for(var n,r,o,i=e.__h;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(t)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(t),o=n.__d),o)return e.__h=i,n.__E=n}catch(a){t=a}throw t},__v:0},g.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof t&&(t=t(p({},n),this.props)),t&&p(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),_(this))},g.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),_(this))},g.prototype.render=b,o=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,w.__r=0,u=s,c=0},function(t,e,n){var r,o,i,a,u,c,s;n.d(e,"b",(function(){return r})),n.d(e,"e",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"f",(function(){return c})),n.d(e,"a",(function(){return l})),(s=r||(r={}))[s.DEFAULT=1]="DEFAULT",s[s.TEXT_EDIT=2]="TEXT_EDIT",s[s.SHOW_MENU=3]="SHOW_MENU",s[s.ALLOW_CONNECT=4]="ALLOW_CONNECT",s[s.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT",function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(o||(o={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(i||(i={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(a||(a={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update"}(u||(u={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(c||(c={}));var l=999},function(t,e,n){n.d(e,"b",(function(){return u})),n.d(e,"n",(function(){return c})),n.d(e,"a",(function(){return l})),n.d(e,"l",(function(){return f})),n.d(e,"i",(function(){return d})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return y})),n.d(e,"k",(function(){return v})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return g})),n.d(e,"m",(function(){return m})),n.d(e,"h",(function(){return O})),n.d(e,"g",(function(){return _})),n.d(e,"j",(function(){return w})),n(21),n(228),n(91),n(92),n(157),n(22);var r=n(44),o=n(66),i=n(2),a=n(4),u=function(t){return t.anchors},c=function(t,e){for(var n,r=e.length-1;r>=0;r--)if(p(t,e[r])){var o=s(t,e[r]);if(o){n={node:e[r],anchorIndex:o.index,anchor:o.anchor};break}}return n},s=function(t,e){for(var n,r=u(e),o=Number.MAX_SAFE_INTEGER,i=0;i<r.length;i++){var a=l(t.x,t.y,r[i].x,r[i].y);a<o&&(o=a,n={index:i,anchor:{x:r[i].x,y:r[i].y,id:r[i].id}})}return n},l=function(t,e,n,r){return Math.hypot(t-n,e-r)},f=function(t,e){var n=!1,r=d(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},p=function(t,e){var n=!1,r=d(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},d=function(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2,x:e,y:n,width:r,height:o,centerX:e,centerY:n}},h=function(t,e,n){var r,o,i,a,u,c,s,f=(i=(o=n).x,a=o.y,u=o.width,c=o.height,s=o.radius,[{x:i-u/2+s,y:a-c/2+s,r:s},{x:i+u/2-s,y:a-c/2+s,r:s},{x:i-u/2+s,y:a+c/2-s,r:s},{x:i+u/2-s,y:a+c/2-s,r:s}]),p=Number.MAX_SAFE_INTEGER;return f.forEach((function(e){var n=l(t.x,t.y,e.x,e.y);n<p&&(p=n,r=e)})),y(t,e,r)},y=function(t,e,n){var r,o=n,a=o.x,u=o.y,c=o.r;if(e===i.f.HORIZONTAL){var s=a-Math.sqrt(c*c-(t.y-u)*(t.y-u)),l=a+Math.sqrt(c*c-(t.y-u)*(t.y-u));r={x:Math.abs(s-t.x)<Math.abs(l-t.x)?s:l,y:t.y}}else if(e===i.f.VERTICAL){var f=u-Math.sqrt(c*c-(t.x-a)*(t.x-a)),p=u+Math.sqrt(c*c-(t.x-a)*(t.x-a)),d=Math.abs(f-t.y)<Math.abs(p-t.y)?f:p;r={x:t.x,y:d}}return r},v=function(t,e){var n=e,r=!1,o=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,a=n.y-n.height/2+n.radius,u=n.y+n.height/2-n.radius,c=n.x,s=n.y,l=n.width,f=n.height;return t.y===s+f/2||t.y===s-f/2?r=t.x>o&&t.x<i:t.x!==c+l/2&&t.x!==c-l/2||(r=t.y>a&&t.y<u),r},b=function(t,e,n){var r,o=n,a=o.x,u=o.y,c=o.rx,s=o.ry;if(e===i.f.HORIZONTAL){var l=a-Math.sqrt(c*c-(t.y-u)*(t.y-u)*c*c/(s*s)),f=a+Math.sqrt(c*c-(t.y-u)*(t.y-u)*c*c/(s*s));r={x:Math.abs(l-t.x)<Math.abs(f-t.x)?l:f,y:t.y}}else if(e===i.f.VERTICAL){var p=u-Math.sqrt(s*s-(t.x-a)*(t.x-a)*s*s/(c*c)),d=u+Math.sqrt(s*s-(t.x-a)*(t.x-a)*s*s/(c*c)),h=Math.abs(p-t.y)<Math.abs(d-t.y)?p:d;r={x:t.x,y:h}}return r},g=function(t,e,n){for(var r,a=n.pointsPosition,u=Number.MAX_SAFE_INTEGER,c=[],s=0;s<a.length;s++)c.push({start:a[s],end:a[(s+1)%a.length]});return c.forEach((function(n){var a=n.start,c=n.end,s=a,f=c;a.x>c.x&&(s=c,f=a);var p,d=(f.y-s.y)/(f.x-s.x),h=(s.x*f.y-f.x*s.y)/(s.x-f.x);if(d>Number.MAX_SAFE_INTEGER||h>Number.MAX_SAFE_INTEGER?p={x:t.x,y:t.y}:e===i.f.HORIZONTAL?p={x:(t.y-h)/d,y:t.y}:e===i.f.VERTICAL&&(p={x:t.x,y:d*t.x+h}),Object(o.b)(p,a,c)){var y=l(p.x,p.y,t.x,t.y);y<u&&(u=y,r=p)}})),r},m=function(t){return Object(r.a)(t,["id","type","x","y","text","properties"])},O=function(t,e,n,r){var o=t.x,i=t.y;return e.x>t.x?o=t.x+n/2:e.x<t.x&&(o=t.x-n/2),e.y>t.y?i=t.y+r/2:e.y<t.y&&(i=t.y-r/2),{x:o,y:i}},_=function(t){var e=t.rows,n=t.style,r=t.rowsLength,o=t.className,i=document.createElement("div");i.style.fontSize=n.fontSize,i.style.width=n.width,i.className=o,i.style.lineHeight=n.lineHeight,i.style.padding=n.padding,n.fontFamily&&(i.style.fontFamily=n.fontFamily),r>1?e.forEach((function(t){var e=document.createElement("div");e.textContent=t,i.appendChild(e)})):i.textContent=e,document.body.appendChild(i);var a=i.clientHeight;return document.body.removeChild(i),a},w=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,o=0;return e&&e.forEach((function(t){var e=Object(a.e)(t);o=e>o?e:o})),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}}},function(t,e,n){n.d(e,"b",(function(){return O})),n.d(e,"o",(function(){return k})),n.d(e,"j",(function(){return D})),n.d(e,"i",(function(){return M})),n.d(e,"l",(function(){return T})),n.d(e,"k",(function(){return N})),n.d(e,"g",(function(){return C})),n.d(e,"p",(function(){return R})),n.d(e,"n",(function(){return I})),n.d(e,"e",(function(){return B})),n.d(e,"a",(function(){return U})),n.d(e,"c",(function(){return X})),n.d(e,"d",(function(){return F})),n.d(e,"h",(function(){return G})),n.d(e,"f",(function(){return Y})),n.d(e,"m",(function(){return V})),n.d(e,"q",(function(){return W})),n(31),n(221),n(21),n(143),n(108),n(91),n(92),n(187),n(71),n(188),n(110),n(22);var r=n(44),o=(n(93),n(114),n(66)),i=n(2),a=n(3),u=n(62);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var v=function(t){var e=[],n={};return t.forEach((function(t){var e="".concat(t.x,"-").concat(t.y);t.id=e,n[e]=t})),Object.keys(n).forEach((function(t){e.push(n[t])})),e},b=function(t,e){return 0===t.width&&0===t.height?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},g=function(t,e){return n=e,r=t,o=Math.abs(n.x-r.centerX),a=Math.abs(n.y-r.centerY),(o/r.width>a/r.height?i.f.HORIZONTAL:i.f.VERTICAL)===i.f.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY};var n,r,o,a},m=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),o=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(n+o)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:o,maxY:i,height:i-r,width:o-n}},O=function(){var t=arguments.length>1?arguments[1]:void 0,e=[],n=[];(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){e.push(t.x),n.push(t.y)}));var r=Math.min.apply(Math,e),o=Math.max.apply(Math,e),i=Math.min.apply(Math,n),a=Math.max.apply(Math,n),u=o-r,c=a-i;return t&&(u+=t,c+=t),{centerX:(r+o)/2,centerY:(i+a)/2,maxX:o,maxY:a,minX:r,minY:i,x:(r+o)/2,y:(i+a)/2,height:c,width:u}},_=function(t){var e=t.minX,n=t.minY,r=t.maxX,o=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:o},{x:e,y:o}]},w=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},x=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},j=function(t,e,n,r,o){return x(t,e)+x(t,n)+(i=t,a=0,[e,n,r,o].forEach((function(t){t&&(i.x===t.x&&(a+=-2),i.y===t.y&&(a+=-2))})),a);var i,a},E=function(t,e,n,r){var o=e.x-t.x,i=e.y-t.y,a=r.x-n.x,u=r.y-n.y,c=(-i*(t.x-n.x)+o*(t.y-n.y))/(-a*i+o*u),s=(a*(t.y-n.y)-u*(t.x-n.x))/(-a*i+o*u);return c>=0&&c<=1&&s>=0&&s<=1},S=function(t,e,n){if(0===n.width&&0===n.height)return!1;var r=d(_(n),4),o=r[0],i=r[1],a=r[2],u=r[3];return E(t,e,o,i)||E(t,e,o,u)||E(t,e,i,a)||E(t,e,a,u)},P=function(t,e,n,r,o,i,a){var u=[],c=[e],s={},l={},f={};l[e.id]=0,f[e.id]=j(e,n,e);var d={};t.forEach((function(t){d[t.id]=t}));for(var h=function(){var p,h,y,b,g,m,O,_,w=void 0,E=1/0;if(c.forEach((function(t){f[t.id]<E&&(E=f[t.id],w=t)})),w===n){var P=[];return function t(e,n,r,o,i){i||(i=0),e.unshift(n[o]),r[o]&&r[o]!==o&&i<=100&&t(e,n,r,r[o],i+1)}(P,d,s,n.id),{v:P}}h=w,(y=(p=c).indexOf(h))>-1&&p.splice(y,1),u.push(w),(b=t,g=w,m=r,O=o,_=[],b.forEach((function(t){t!==g&&(t.x!==g.x&&t.y!==g.y||S(t,g,m)||S(t,g,O)||_.push(t))})),v(_)).forEach((function(t){if(-1===u.indexOf(t)){-1===c.indexOf(t)&&c.push(t);var r=f[w.id]+x(w,t);l[t.id]&&r>=l[t.id]||(s[t.id]=w.id,l[t.id]=r,f[t.id]=l[t.id]+j(t,n,e,i,a))}}))};c.length;){var y=h();if("object"===p(y))return y.v}return[e,n]},A=function(t){return Object(a.i)(t)},k=function(t){for(var e=t,n=1;n<e.length-1;){var r=e[n-1],o=e[n],i=e[n+1];r.x===o.x&&o.x===i.x||r.y===o.y&&o.y===i.y?e.splice(n,1):n++}return e},D=function(t,e,n,r,o){var i,a,u=A(n),c=A(r),s=b(u,o),l=b(c,o),p=g(s,t),d=g(l,e);if(i=s,a=l,2*Math.abs(i.centerX-a.centerX)<i.width+a.width&&2*Math.abs(i.centerY-a.centerY)<i.height+a.height){var h=L(t,e,p,d);return[t,p].concat(f(h),[d,e])}var y=O([p,d]),x=m(s,y),j=m(l,y),E=[];E=(E=E.concat(_(x))).concat(_(j));var S={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[y,x,j].forEach((function(t){var e,n,r,o;E=E.concat((e=t,n=S,(r=e,o=n.x,o<r.minX||o>r.maxX?[]:[{x:o,y:r.minY},{x:o,y:r.maxY}]).concat(function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]}(e,n.y))).filter((function(t){return w(t,s)&&w(t,l)})))})),[{x:p.x,y:d.y},{x:d.x,y:p.y}].forEach((function(t){w(t,s)&&w(t,l)&&E.push(t)})),E.unshift(p),E.push(d),E=v(E);var D=P(E,p,d,u,c,t,e);return D.unshift(t),D.push(e),D.length>2&&(D=k(D)),v(D)},M=function(t){var e;if(1===t.length)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],o=Object(a.a)(n.x,n.y,r.x,r.y),i=1;i<t.length-1;i++){var u=t[i],c=t[i+1],s=Object(a.a)(u.x,u.y,c.x,c.y);s>o&&(o=s,n=u,r=c)}e=[n,r]}return e},T=function(t,e,n){var r=Object(a.l)(t,n),o=Object(a.l)(e,n);return r&&o},N=function(t,e,n){var r=Object(a.l)(t,n),o=Object(a.l)(e,n);return!(r&&o)&&(r||o)},C=function(t,e,n){for(var r,i,u=Object(a.i)(n),c=_(u),s=0;s<c.length;s++)E(t,e,c[s],c[(s+1)%c.length])&&(i=[c[s],c[(s+1)%c.length]]);return i&&(r=Object(o.a)(t,e,i[0],i[1])),r},R=function(t,e){var n;return t.x===e.x?n=i.f.VERTICAL:t.y===e.y&&(n=i.f.HORIZONTAL),n},I=function(t){var e=t.split(" "),n=[];return e&&e.forEach((function(t){var e=d(t.split(","),2),r=e[0],o=e[1];n.push({x:Number(r),y:Number(o)})})),n},L=function(t,e,n,r){var i=[];if(R(t,n)===R(e,r))t.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var a={x:n.x,y:r.y},u=Object(o.b)(a,t,n),c=Object(o.b)(a,e,r);if(u||c)a={x:r.x,y:n.y};else{var s=z(a,t,n),l=z(a,e,r);s&&l&&(a={x:r.x,y:n.y})}i.push(a)}return i},z=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},B=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},U=function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=Object(u.a)(s(s({},o),{},{type:"start"})),a=Object(u.a)(s(s({},o),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY," \n    L").concat(i.rightX," ").concat(i.rightY," \n    L").concat(a.rightX," ").concat(a.rightY,"\n    L").concat(a.leftX," ").concat(a.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},X=function(t){var e=t.start,n=t.end,r=t.sourceNode,o=t.targetNode,i=t.offset,u=Object(a.i)(r),c=Object(a.i)(o),s=b(u,i),l=b(c,i);return{sNext:g(s,e),ePre:g(l,n)}},F=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[H(e[0]),H(e[1]),H(e[2]),H(e[3])]},H=function(t){var e=d(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},G=function(t){var e=F(t);return[e[2],e[3]]},Y=function(t,e){for(var n,r=t.x,i=t.y,a=I(e),u=Number.MAX_SAFE_INTEGER,c=[],s=0;s<a.length;s++)c.push({start:a[s],end:a[(s+1)%a.length]});if(c.forEach((function(t){var e=t.start,a=t.end;if(e.x===a.x){var c={x:e.x,y:i};if(Object(o.b)(c,e,a)){var s=Math.abs(e.x-r);s<u&&(u=s,n=c)}}else if(e.y===a.y){var l={x:r,y:e.y};if(Object(o.b)(l,e,a)){var f=Math.abs(e.y-i);f<u&&(u=f,n=l)}}})),!n){var l=c[0],f=l.start,p=l.end;n={x:f.x+(p.x-f.x)/2,y:f.y+(p.y-f.y)/2}}return n},V=function(t){return Object(r.a)(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},W=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}},function(t,e,n){n.r(e);var r=n(194);n.d(e,"BaseEdgeModel",(function(){return r.a})),n.d(e,"BezierEdgeModel",(function(){return r.b})),n.d(e,"LineEdgeModel",(function(){return r.c})),n.d(e,"PolylineEdgeModel",(function(){return r.d}));var o=n(193);n.d(e,"BaseNodeModel",(function(){return o.a})),n.d(e,"CircleNodeModel",(function(){return o.b})),n.d(e,"DiamondNodeModel",(function(){return o.c})),n.d(e,"EllipseNodeModel",(function(){return o.d})),n.d(e,"PolygonNodeModel",(function(){return o.f})),n.d(e,"RectNodeModel",(function(){return o.g})),n.d(e,"TextNodeModel",(function(){return o.h})),n.d(e,"HtmlNodeModel",(function(){return o.e}));var i=n(190);for(var a in i)["default","BaseEdgeModel","BezierEdgeModel","LineEdgeModel","PolylineEdgeModel","BaseNodeModel","CircleNodeModel","DiamondNodeModel","EllipseNodeModel","PolygonNodeModel","RectNodeModel","TextNodeModel","HtmlNodeModel"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);var u=n(112);n.d(e,"EditConfigModel",(function(){return u.a}));var c=n(119);n.d(e,"GraphModel",(function(){return c.a}));var s=n(116);n.d(e,"SnaplineModel",(function(){return s.a})),n(113)},function(t,e,n){n.d(e,"c",(function(){return W})),n.d(e,"l",(function(){return at})),n.d(e,"e",(function(){return gt})),n.d(e,"j",(function(){return Mt})),n.d(e,"f",(function(){return Ht})),n.d(e,"g",(function(){return oe})),n.d(e,"m",(function(){return pe})),n.d(e,"h",(function(){return me})),n.d(e,"b",(function(){return an})),n.d(e,"i",(function(){return gn})),n.d(e,"k",(function(){return Cn})),n.d(e,"d",(function(){return Kn})),n.d(e,"a",(function(){return Re})),n(40),n(143),n(13),n(14),n(157);var r=n(1),o=n(240),i=(n(69),n(106),n(70),n(107),n(77),n(20)),a=n(3),u=n(73),c=n(43),s=n(2);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(o,t);var e,n=v(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this)).preTargetNode=void 0,t.dragHandler=void 0,t.sourceRuleResults=void 0,t.targetRuleResults=void 0,t.onDragStart=function(){var e=t.props,n=e.x,r=e.y,o=e.nodeModel,i=e.graphModel;i.selectNodeById(o.id),i.toFront(o.id),t.setState({startX:n,startY:r,endX:n,endY:r})},t.onDraging=function(e){var n=e.deltaX,r=e.deltaY,o=t.state,i=o.endX,u=o.endY,c=t.props,l=c.graphModel,f=c.nodeModel,d=l.transformMatrix,h=l.nodes,y=p(d.moveCanvasPointByHtml([i,u],n,r),2),v=y[0],b=y[1];t.setState({endX:v,endY:b,draging:!0});var g=Object(a.n)({x:i,y:u},h);if(g){var m=g.node;if(t.preTargetNode=m,!t.targetRuleResults.has(m.id)){var O=f.isAllowConnectedAsSource(m),_=m.isAllowConnectedAsTarget(f);t.sourceRuleResults.set(m.id,O),t.targetRuleResults.set(m.id,_)}var w=t.sourceRuleResults.get(m.id).isAllPass,x=t.targetRuleResults.get(m.id).isAllPass;w&&x?m.setElementState(s.b.ALLOW_CONNECT):m.setElementState(s.b.NOT_ALLOW_CONNECT)}else t.preTargetNode&&t.preTargetNode.state!==s.b.DEFAULT&&t.preTargetNode.setElementState(s.b.DEFAULT)},t.onDragEnd=function(){t.checkEnd(),t.setState({startX:0,startY:0,endX:0,endY:0,draging:!1})},t.onDblClick=function(){var e=t.props,n=e.graphModel,r=e.nodeModel;n.setElementStateById(r.id,s.b.TEXT_EDIT)},t.checkEnd=function(){var e=t.props,n=e.graphModel,r=e.nodeModel,o=e.x,i=e.y,u=e.eventCenter,c=e.id,l=n.nodes,f=n.edgeType,p=t.state,d=p.endX,h=p.endY,y=p.draging,v=Object(a.n)({x:d,y:h},l);if(t.preTargetNode&&t.preTargetNode.state!==s.b.DEFAULT&&t.preTargetNode.setElementState(s.b.DEFAULT),y&&v&&v.node){var b=v.node,g=t.sourceRuleResults.get(b.id)||{},m=g.isAllPass,O=g.msg,_=t.targetRuleResults.get(b.id)||{},w=_.isAllPass,x=_.msg;if(m&&w)b.setElementState(s.b.ALLOW_CONNECT),o===v.anchor.x&&i===v.anchor.y||n.createEdge({type:f,sourceNodeId:r.id,sourceAnchorId:c,startPoint:{x:o,y:i},targetNodeId:v.node.id,targetAnchorId:v.anchor.id,endPoint:{x:v.anchor.x,y:v.anchor.y}});else{var j=b.getData();u.emit(s.d.CONNECTION_NOT_ALLOWED,{data:j,msg:x||O})}}},t.sourceRuleResults=new Map,t.targetRuleResults=new Map,t.state={startX:0,startY:0,endX:0,endY:0,draging:!1},t.dragHandler=Object(i.b)({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd}),t}return(e=[{key:"isShowLine",value:function(){var t=this.state,e=t.startX,n=t.startY,r=t.endX,o=t.endY;return Object(a.a)(e,n,r,o)>10}},{key:"render",value:function(){var t=this.state,e=t.startX,n=t.startY,o=t.endX,i=t.endY,a=this.props,s=a.x,l=a.y,p=a.style,d=a.edgeStyle,h=a.hoverStyle;return Object(r.g)("g",{className:"lf-anchor",onDblClick:this.onDblClick},Object(r.g)(u.a,f({className:"lf-node-anchor-hover"},{x:s,y:l},h,{onMouseDown:this.dragHandler})),Object(r.g)(u.a,f({className:"lf-node-anchor"},{x:s,y:l},p,{onMouseDown:this.dragHandler})),this.isShowLine()&&Object(r.g)(c.a,f({x1:e,y1:n,x2:o,y2:i,"pointer-events":"none"},d)))}}])&&h(o.prototype,e),o}(r.a);function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t){var e=t.x,n=void 0===e?0:e,o=t.y,i=void 0===o?0:o,u=t.value,c=t.color,l=void 0===c?"#000000":c,f=t.fontSize,p=t.fill,d=void 0===p?"currentColor":p,h=t.model,y=t.fontFamily,v=void 0===y?"":y,b=t.lineHeight,g=t.autoWrap,m=void 0!==g&&g,w=t.wrapPadding,x=void 0===w?"0, 0":w,j=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:d},t);if(u){var E=String(u).split(/[\r\n]/g),S=E.length,P=h.BaseType,A=h.width,k=h.textWidth,D=h.modelType;if(P===s.c.NODE&&D!==s.e.TEXT_NODE&&m||P===s.c.EDGE&&m&&k){var M=k||A,T=Object(a.g)({rows:E,style:{fontSize:"".concat(f,"px"),width:"".concat(M,"px"),fontFamily:v,lineHeight:b,padding:x},rowsLength:S,className:"lf-get-text-height"}),N=h.height>T?h.height:T;return Object(r.g)("g",null,Object(r.g)("foreignObject",{width:M,height:N,x:j.x-M/2,y:j.y-N/2},Object(r.g)("div",{className:"lf-node-text-auto-wrap",style:{boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid transparent",minHeight:h.height,width:M,color:l,padding:x}},Object(r.g)("div",{className:"lf-node-text-auto-wrap-content",style:{fontSize:f,fontFamily:v,lineHeight:b,background:"transparent",textAlign:"center",wordBreak:"break-all"}},E.map((function(t){return Object(r.g)("div",null,t)}))))))}if(S>1){var C=E.map((function(t,e){var o=(e-(S-1)/2)*(f+2);return Object(r.g)("tspan",{className:"lf-text-tspan",x:n,y:i+o},t)}));return Object(r.g)("text",j,C)}return Object(r.g)("text",j,u)}}function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(){return(j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=M(t);if(e){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}function D(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(38),n(71),n(110);var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(o,t);var e,n=k(o);function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this)).dragHandler=void 0,e.sumDeltaX=0,e.sumDeltaY=0,e.stepDrag=void 0,e.onDraging=function(t){var n=t.deltaX,r=t.deltaY,o=e.props,i=o.model,a=E(o.graphModel.transformMatrix.fixDeltaXY(n,r),2),u=a[0],c=a[1];i.moveText(u,c)},e.dblClickHandler=function(){e.props.editable&&e.props.model.setElementState(s.b.TEXT_EDIT)},e.mouseDownHandle=function(t){var n=e.props,r=n.draggable,o=n.graphModel.editConfig.nodeTextDraggable;(r||o)&&e.stepDrag.handleMouseDown(t)};var r=t.model,a=t.draggable;return e.stepDrag=new i.a({onDraging:e.onDraging,step:1,model:r,isStopPropagation:a}),e}return(e=[{key:"getShape",value:function(){var t=this.props,e=t.model,n=t.style,o=e.text,i=o.value,a={x:o.x,y:o.y,className:"lf-element-text",value:i};return Object(r.g)(w,j({},a,n,{model:e}))}},{key:"render",value:function(){if(this.props.model.text)return Object(r.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&P(o.prototype,e),o}(r.a),N=(n(234),null!==window.navigator.userAgent.match(/MSIE|Trident/));function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(){return(R=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return U(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t,e,n){return e&&X(t.prototype,e),n&&X(t,n),t}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=V(t);if(e){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(t,e){return!e||"object"!==C(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(n,t);var e=G(n);function n(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this)).stepDrag=void 0,r.contextMenuTime=void 0,r.startTime=void 0,r.clickTimer=void 0,r.onDragStart=function(){},r.onDraging=function(t){var e=t.deltaX,n=t.deltaY,o=r.props,i=o.model,a=o.graphModel;r.state.isDraging||r.setState({isDraging:!0});var u=B(a.transformMatrix.fixDeltaXY(e,n),2),c=u[0],s=u[1];i.modelType.indexOf("node")>-1&&a.moveNode(i.id,c,s)},r.onDragEnd=function(){r.setState({isDraging:!1})},r.handleClick=function(t){if(r.startTime&&!((new Date).getTime()-r.startTime>200)){var e=r.props,n=e.model,o=e.eventCenter,i=e.graphModel,a={data:n.getData(),e:t,position:i.getPointByClient({x:t.clientX,y:t.clientY})},u=2===t.button,c=2===t.detail;if(!u){c?(i.editConfig.nodeTextEdit&&n.text.editable&&(n.setSelected(!1),i.setElementStateById(n.id,s.b.TEXT_EDIT)),o.emit(s.d.NODE_DBCLICK,a)):(o.emit(s.d.ELEMENT_CLICK,a),o.emit(s.d.NODE_CLICK,a));var l=i.editConfig.metaKeyMultipleSelected;i.selectNodeById(n.id,t.metaKey&&l),i.toFront(n.id)}}},r.handleContextMenu=function(t){t.preventDefault(),r.contextMenuTime=(new Date).getTime(),r.clickTimer&&clearTimeout(r.clickTimer);var e=r.props,n=e.model,o=e.eventCenter,i=e.graphModel,a=n.getData(),u=i.getPointByClient({x:t.clientX,y:t.clientY});i.setElementStateById(n.id,s.b.SHOW_MENU,u.domOverlayPosition),i.selectNodeById(n.id),i.toFront(n.id),o.emit(s.d.NODE_CONTEXTMENU,{data:a,e:t,position:u})},r.handleMouseDown=function(t){var e=r.props,n=e.model;e.graphModel.toFront(n.id),r.startTime=(new Date).getTime(),r.stepDrag&&r.stepDrag.handleMouseDown(t)},r.setHoverON=function(t){if(!r.state.isHovered){r.setState({isHovered:!0});var e=r.props,n=e.model,o=e.eventCenter,i=n.getData();n.setHovered(!0),o.emit(s.d.NODE_MOUSEENTER,{data:i,e:t})}},r.setHoverOFF=function(t){r.setState({isHovered:!1});var e=r.props,n=e.model,o=e.eventCenter,i=n.getData();n.setHovered(!1),o.emit(s.d.NODE_MOUSELEAVE,{data:i,e:t})},r.onMouseOut=function(t){N&&r.setHoverOFF(t)};var o=t.graphModel,a=o.gridSize,u=o.editConfig,c=t.eventCenter,l=t.model;return u.adjustNodePosition&&l.draggable&&(r.stepDrag=new i.a({onDragStart:r.onDragStart,onDraging:r.onDraging,onDragEnd:r.onDragEnd,step:a,eventType:"NODE",eventCenter:c,model:l})),r.state={isDraging:!1,isHovered:!1},r}return F(n,null,[{key:"getModel",value:function(t){return t}}]),F(n,[{key:"getShapeStyle",value:function(){var t=this.props.model;return{width:t.width,height:t.height,fill:t.fill,fillOpacity:t.fillOpacity,strokeWidth:t.strokeWidth,stroke:t.stroke,strokeOpacity:t.strokeOpacity,opacity:t.opacity,outlineColor:t.outlineColor}}},{key:"getAttributes",value:function(){var t=this.props.model,e=t.id,n=t.properties,r=void 0===n?{}:n,o=t.type,i=t.x,a=t.y,u=t.isSelected,c=t.isHovered,s=t.text,l=this.getShapeStyle();return L({id:e,properties:L({},r),type:o,x:i,y:a,isSelected:u,isHovered:c,text:L({},s)},l)}},{key:"getProperties",value:function(){return this.props.model.getProperties()}},{key:"getAnchorStyle",value:function(){return L({},this.props.graphModel.theme.anchor)}},{key:"getAnchorHoverStyle",value:function(){return L({},this.props.graphModel.theme.anchorHover)}},{key:"getNewEdgeStyle",value:function(){return L({},this.props.graphModel.theme.anchorLine)}},{key:"getAnchors",value:function(){var t=this,e=this.props,n=e.model,i=e.graphModel,a=e.eventCenter,u=n.isSelected,c=n.isHitable,s=this.state,l=s.isHovered,f=s.isDraging;if(c&&(u||l)){var p=this.getAnchorStyle(),d=this.getAnchorHoverStyle(),h=this.getNewEdgeStyle();return Object(o.a)(n.anchors,(function(e,o){return Object(r.g)(m,R({},e,{nodeDraging:f,style:p,hoverStyle:d,edgeStyle:h,anchorIndex:o,nodeModel:n,eventCenter:a,graphModel:i,setHoverOFF:t.setHoverOFF}))}))}return[]}},{key:"getTextStyle",value:function(){return L({},this.props.graphModel.theme.nodeText)}},{key:"getText",value:function(){var t=this.props,e=t.model,n=t.graphModel;if(e.state===s.b.TEXT_EDIT)return"";var o=this.getTextStyle();if(e.text){var i=n.editConfig,a=!1;return(e.text.draggable||i.nodeTextDraggable)&&(a=!0),Object(r.g)(T,{editable:i.nodeTextEdit&&e.text.editable,style:o,model:e,graphModel:n,draggable:a})}}},{key:"getStateClassName",value:function(){var t="lf-node";switch(this.props.model.state){case s.b.ALLOW_CONNECT:t+=" lf-node-allow";break;case s.b.NOT_ALLOW_CONNECT:t+=" lf-node-not-allow";break;default:t+=" lf-node-default"}return this.state.isDraging&&(t+=" lf-dragging"),t}},{key:"render",value:function(){var t,e=this.props,n=e.model,o=e.graphModel,i=o.editConfig,a=i.hideAnchors,u=i.adjustNodePosition,c=o.gridSize,s=o.transformMatrix.SCALE_X,l=n.isHitable,f=n.draggable,p=Object(r.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),a?null:this.getAnchors());return l?(u&&f&&this.stepDrag.setStep(c*s),t=Object(r.g)("g",{className:this.getStateClassName(),id:n.id,onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},p)):t=Object(r.g)("g",{className:this.getStateClassName(),id:n.id},p),t}}]),n}(r.a),K=n(49);function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){Q(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function et(t,e,n){return(et="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=it(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=it(t);if(e){var o=it(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ot(this,n)}}function ot(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(o,t);var e,n=rt(o);function o(){return J(this,o),n.apply(this,arguments)}return(e=[{key:"getShapeStyle",value:function(){var t=et(it(o.prototype),"getShapeStyle",this).call(this),e=this.props.model.radius;return q(q({},t),{},{radius:e})}},{key:"getAttributes",value:function(){var t=et(it(o.prototype),"getAttributes",this).call(this),e=this.getShapeStyle();return q(q({},t),e)}},{key:"getShape",value:function(){var t=this.getAttributes();return Object(r.g)(K.a,t)}}])&&tt(o.prototype,e),o}(W);function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dt(t,e,n){return(dt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bt(t);if(e){var o=bt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vt(this,n)}}function vt(t,e){return!e||"object"!==ut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bt(t){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}(o,t);var e,n=yt(o);function o(){return ft(this,o),n.apply(this,arguments)}return(e=[{key:"getShapeStyle",value:function(){var t=dt(bt(o.prototype),"getShapeStyle",this).call(this),e=this.props.model.r;return st(st({},t),{},{r:e})}},{key:"getAttributes",value:function(){var t=dt(bt(o.prototype),"getAttributes",this).call(this),e=this.getShapeStyle();return st(st({},t),e)}},{key:"getShape",value:function(){var t=this.getAttributes();return Object(r.g)(u.a,t)}}])&&pt(o.prototype,e),o}(W);function mt(t){var e=t.fillOpacity,n=void 0===e?1:e,o=t.strokeWidth,i=void 0===o?1:o,a=t.strokeOpacity,u=void 0===a?1:a,c=t.fill,s=void 0===c?"transparent":c,l=t.stroke,f=void 0===l?"#000":l,p=t.points,d=t.className,h={fill:s,fillOpacity:n,strokeWidth:i,stroke:f,strokeOpacity:u,points:"",className:void 0===d?"lf-basic-shape":d};return h.points=p.map((function(t){return t.join(",")})).join(" "),Object(r.g)("polygon",h)}function Ot(t){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(n),!0).forEach((function(e){xt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function St(t,e,n){return(St="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Dt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function At(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Dt(t);if(e){var o=Dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kt(this,n)}}function kt(t,e){return!e||"object"!==Ot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dt(t){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(31),n(111);var Mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(o,t);var e,n=At(o);function o(){return jt(this,o),n.apply(this,arguments)}return(e=[{key:"getShapeStyle",value:function(){var t=St(Dt(o.prototype),"getShapeStyle",this).call(this),e=this.props.model.points;return wt(wt({},t),{},{points:e})}},{key:"getAttributes",value:function(){var t=St(Dt(o.prototype),"getAttributes",this).call(this),e=this.getShapeStyle();return wt(wt({},t),e)}},{key:"getShape",value:function(){var t=this.getAttributes(),e=t.width,n=t.height,o=t.x,i=t.y,a=t.fill,u=t.fillOpacity,c=t.strokeWidth,s=t.stroke,l=t.strokeOpacity,f=t.points,p={transform:"matrix(1 0 0 1 ".concat(o-e/2," ").concat(i-n/2,")")},d={fill:a,fillOpacity:u,strokeWidth:c,stroke:s,strokeOpacity:l,points:f};return Object(r.g)("g",p,Object(r.g)(mt,d))}}])&&Et(o.prototype,e),o}(W);function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(n),!0).forEach((function(e){Rt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function It(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zt(t,e,n){return(zt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ft(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Bt(t,e){return(Bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ft(t);if(e){var o=Ft(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(t,e){return!e||"object"!==Tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ft(t){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bt(t,e)}(o,t);var e,n=Ut(o);function o(){return It(this,o),n.apply(this,arguments)}return(e=[{key:"getShapeStyle",value:function(){var t=this.props.model.points;return Ct(Ct({},zt(Ft(o.prototype),"getShapeStyle",this).call(this)),{},{points:t})}},{key:"getAttributes",value:function(){var t=zt(Ft(o.prototype),"getAttributes",this).call(this),e=this.getShapeStyle();return Ct(Ct({},t),e)}},{key:"getShape",value:function(){var t=this.props.model.points,e=this.getAttributes(),n={fill:e.fill,fillOpacity:e.fillOpacity,strokeWidth:e.strokeWidth,stroke:e.stroke,strokeOpacity:e.strokeOpacity,points:t};return Object(r.g)("g",null,Object(r.g)(mt,n))}}])&&Lt(o.prototype,e),o}(W);function Gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vt(t){var e=t.x,n=void 0===e?0:e,o=t.y,i=void 0===o?0:o,a=t.rx,u=void 0===a?4:a,c=t.ry,s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(n),!0).forEach((function(e){Yt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({cx:n,cy:i,rx:u,ry:void 0===c?4:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1},t);return Object(r.g)("ellipse",s)}function Wt(t){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(n),!0).forEach((function(e){Zt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jt(t,e,n){return(Jt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=re(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function te(t,e){return(te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=re(t);if(e){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ne(this,n)}}function ne(t,e){return!e||"object"!==Wt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function re(t){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&te(t,e)}(o,t);var e,n=ee(o);function o(){return qt(this,o),n.apply(this,arguments)}return(e=[{key:"getAttributes",value:function(){var t=Jt(re(o.prototype),"getAttributes",this).call(this),e=this.props.model,n=e.rx,r=e.ry;return $t($t({},t),{},{rx:n,ry:r})}},{key:"getShape",value:function(){var t=this.getAttributes();return Object(r.g)(Vt,t)}}])&&Qt(o.prototype,e),o}(W);function ie(t){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ce(t,e){return(ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fe(t);if(e){var o=fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return le(this,n)}}function le(t,e){return!e||"object"!==ie(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fe(t){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ce(t,e)}(o,t);var e,n=se(o);function o(){return ae(this,o),n.apply(this,arguments)}return(e=[{key:"getShape",value:function(){var t=this.getAttributes();return Object(r.g)(w,t)}}])&&ue(o.prototype,e),o}(W);function de(t){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function he(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ye(t,e){return(ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ve(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ge(t);if(e){var o=ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return be(this,n)}}function be(t,e){return!e||"object"!==de(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ge(t){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ye(t,e)}(o,t);var e,n=ve(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,t)).rootElId=void 0,e.rootElId="htmlNode_".concat(t.model.id),e}return(e=[{key:"setHtml",value:function(t){t.appendChild(document.createElement("div"))}},{key:"componentDidMount",value:function(){this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var t=this.getAttributes(),e=t.x,n=t.y,o=t.width,i=t.height;return Object(r.g)("foreignObject",{x:e-o/2,y:n-i/2,width:o,height:i,id:this.rootElId})}},{key:"rootEl",get:function(){return document.querySelector("#".concat(this.rootElId))}}])&&he(o.prototype,e),o}(W),Oe=n(28);function _e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function we(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xe(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_e(Object(n),!0).forEach((function(e){we(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({d:""},t);return Object(r.g)("path",e)}xe.defaultProps={strokeDasharray:""};var je=xe,Ee=n(62);function Se(t){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Me(t,e){return(Me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Te(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ce(t);if(e){var o=Ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ne(this,n)}}function Ne(t,e){return!e||"object"!==Se(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ce(t){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Me(t,e)}(o,t);var e,n=Te(o);function o(){return ke(this,o),n.apply(this,arguments)}return(e=[{key:"getArrowAttibutes",value:function(){var t=this.props,e=t.arrowInfo,n=t.style,r=e.start,o=e.end,i={start:r,end:o,offset:n.offset,verticalLength:n.verticalLength,type:"end"},a=Object(Ee.a)(i),u=a.leftX,c=a.leftY,s=a.rightX,l=a.rightY;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pe(Object(n),!0).forEach((function(e){Ae(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({d:"M".concat(u," ").concat(c," L").concat(o.x," ").concat(o.y," L").concat(s," ").concat(l," z")},n)}},{key:"getShape",value:function(){var t=this.getArrowAttibutes(),e=t.d,n=t.strokeWidth,o=t.stroke,i=t.fill;return Object(r.g)(je,{d:e,fill:i,strokeWidth:n,stroke:o})}},{key:"render",value:function(){return Object(r.g)("g",{className:"lf-arrow"},this.getShape())}}])&&De(o.prototype,e),o}(r.a),Ie=(n(21),n(22),n(44)),Le=n(4);function ze(t){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Be(){return(Be=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ue(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(n),!0).forEach((function(e){Fe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function He(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ge(t,e){return(Ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=We(t);if(e){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}function Ve(t,e){return!e||"object"!==ze(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function We(t){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ge(t,e)}(o,t);var e,n=Ye(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,t)).setHoverON=function(){e.setState({isHoverd:!0})},e.setHoverOFF=function(){e.setState({isHoverd:!1})},e.state={isHoverd:!1},e}return(e=[{key:"getBackgroud",value:function(){var t=this.props.model,e=this.props.style,n=t.text,o=t.textWidth,i=Object(Ie.a)(e.background,"fill","stroke","radius","height");if(this.state.isHoverd&&e.hoverBackground&&(i=Xe(Xe({},i),e.hoverBackground)),n&&n.value&&"transparnet"!==i.fill){var u,c=e.fontSize,s=e.autoWrap,l=e.lineHeight,f=e.wrapPadding,p=n.value,d=n.x,h=n.y,y=String(p).split(/[\r\n]/g),v=y.length;if(s&&o){var b=Object(a.g)({rows:y,style:{fontSize:"".concat(c,"px"),width:"".concat(o,"px"),lineHeight:l,padding:f},rowsLength:v,className:"lf-get-text-height"});u=Xe(Xe({},i),{},{x:d-1,y:h-1,width:o,height:b})}else{y&&y.forEach((function(t){Object(Le.e)(t)}));var g=Object(a.j)({rows:y,fontSize:c,rowsLength:v}),m=g.width,O=g.height;u=Xe(Xe({},i),{},{x:d-1,y:h-1,width:m,height:O})}return Object(r.g)(K.a,u)}}},{key:"getShape",value:function(){var t=this.props,e=t.model,n=t.style,o=e.text,i=o.value,a=Xe({x:o.x,y:o.y,className:"lf-element-text",value:i},n);return Object(r.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(r.g)(w,Be({},a,{model:e})))}}])&&He(o.prototype,e),o}(T);function $e(t){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ze(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ze(Object(n),!0).forEach((function(e){Qe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function en(t,e){return(en=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=on(t);if(e){var o=on(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rn(this,n)}}function rn(t,e){return!e||"object"!==$e(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var an=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&en(t,e)}(o,t);var e,n=nn(o);function o(){var t;Je(this,o);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(t=n.call.apply(n,[this].concat(r))).startTime=void 0,t.preStartTime=void 0,t.contextMenuTime=void 0,t.clickTimer=void 0,t.handleHover=function(e,n){var r=t.props,o=r.model,i=r.eventCenter;o.setHovered(e);var a=e?s.d.EDGE_MOUSEENTER:s.d.EDGE_MOUSELEAVE,u=o.getData();i.emit(a,{data:u,e:n})},t.setHoverON=function(e){t.handleHover(!0,e)},t.setHoverOFF=function(e){t.handleHover(!1,e)},t.handleContextMenu=function(e){e.preventDefault(),t.contextMenuTime=(new Date).getTime(),t.clickTimer&&clearTimeout(t.clickTimer);var n=t.props,r=n.model,o=n.graphModel,i=n.eventCenter,a=o.getPointByClient({x:e.clientX,y:e.clientY});o.setElementStateById(r.id,s.b.SHOW_MENU,a.domOverlayPosition),o.toFront(r.id),o.selectEdgeById(r.id);var u=null==r?void 0:r.getData();i.emit(s.d.EDGE_CONTEXTMENU,{data:u,e:e,position:a})},t.handleMouseDown=function(e){e.stopPropagation(),t.startTime=(new Date).getTime()},t.handleMouseUp=function(e){if(t.startTime&&!((new Date).getTime()-t.startTime>200)){var n=t.props,r=n.model,o=n.graphModel,i=n.eventCenter,a=null==r?void 0:r.getData(),u=o.getPointByClient({x:e.clientX,y:e.clientY});if(t.preStartTime&&t.startTime-t.preStartTime<200){t.clickTimer&&window.clearTimeout(t.clickTimer);var c=o.editConfig,l=o.textEditElement;if(l&&l.id===r.id&&o.setElementStateById(r.id,s.b.DEFAULT),c.edgeTextEdit&&r.text.editable&&o.setElementStateById(r.id,s.b.TEXT_EDIT),r.modelType===s.e.POLYLINE_EDGE){var f=r,p=o.getPointByClient({x:e.x,y:e.y}).canvasOverlayPosition,d=p.x,h=p.y,y=Object(Le.f)({x:d,y:h},f.points);f.dbClickPosition=y}i.emit(s.d.EDGE_DBCLICK,{data:a,e:e,position:u})}else t.clickTimer=window.setTimeout((function(){(!t.contextMenuTime||t.startTime>t.contextMenuTime)&&(i.emit(s.d.ELEMENT_CLICK,{data:a,e:e,position:u}),i.emit(s.d.EDGE_CLICK,{data:a,e:e,position:u}))}),400);var v=o.editConfig.metaKeyMultipleSelected;o.selectEdgeById(r.id,e.metaKey&&v),o.toFront(r.id),t.preStartTime=t.startTime}},t}return(e=[{key:"getAttributes",value:function(){var t=this.props.model,e=t.strokeWidth,n=t.strokeOpacity,r=t.strokeDashArray,o=t.isSelected,i=t.isHovered,a=t.hoverStroke,u=t.selectedStroke,c=t.properties,s=this.props.model.stroke;return i?s=a:o&&(s=u),{stroke:s,strokeWidth:e,strokeOpacity:n,strokeDashArray:r,isSelected:o,isHovered:i,hoverStroke:a,selectedStroke:u,properties:qe({},c)}}},{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var t=this.props,e=t.model,n=t.graphModel;if(e.state===s.b.TEXT_EDIT)return"";var o=n.theme.edgeText,i=this.getTextStyle(),a=Object(Oe.a)({},o,i),u=!1,c=n.editConfig;return(e.text.draggable||c.edgeTextDraggable)&&(u=!0),Object(r.g)(Ke,{editable:c.edgeTextEdit&&e.text.editable,model:e,graphModel:n,style:a,draggable:u})}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=t.startPoint,n=t.endPoint,r=t.isSelected;return{start:e,end:n,hover:this.state.hover,isSelected:r}}},{key:"getArrowStyle",value:function(){var t=this.getAttributes().stroke,e=this.props.graphModel.theme.arrow;return{stroke:t,strokeWidth:1,fill:t,offset:e.offset,verticalLength:e.verticalLength}}},{key:"getArrow",value:function(){var t=this.getArrowInfo(),e=t.start,n=t.end;if(e&&n&&(e.x!==n.x||e.y!==n.y)){var o=this.getArrowStyle();return Object(r.g)(Re,{arrowInfo:t,style:o})}}},{key:"getAppendWidth",value:function(){return Object(r.g)("g",null)}},{key:"getAppend",value:function(){return Object(r.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"render",value:function(){var t=this.props.model;return Object(r.g)("g",{className:"lf-edge",id:t.id,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow())}}])&&tn(o.prototype,e),o}(r.a);function un(t){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cn(Object(n),!0).forEach((function(e){ln(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dn(t,e,n){return(dn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function hn(t,e){return(hn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bn(t);if(e){var o=bn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vn(this,n)}}function vn(t,e){return!e||"object"!==un(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bn(t){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hn(t,e)}(o,t);var e,n=yn(o);function o(){return fn(this,o),n.apply(this,arguments)}return(e=[{key:"getAttributes",value:function(){var t=this.props.model,e=t.startPoint,n=t.endPoint;return sn(sn({},dn(bn(o.prototype),"getAttributes",this).call(this)),{},{startPoint:e,endPoint:n})}},{key:"getEdge",value:function(){var t=this.getAttributes(),e=t.stroke,n=t.startPoint,o=t.endPoint,i=t.strokeWidth,a=t.strokeOpacity,u=t.strokeDashArray;return Object(r.g)(c.a,{x1:n.x,y1:n.y,x2:o.x,y2:o.y,strokeOpacity:a,strokeWidth:i,stroke:e,strokeDasharray:u})}},{key:"getShape",value:function(){return Object(r.g)("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var t=this.props.model,e={start:t.startPoint,end:t.endPoint},n=Object(Le.a)(e),o=n.d,i=n.strokeWidth,a=n.fill,u=n.strokeDasharray,c=n.stroke;return Object(r.g)(je,{d:o,fill:a,strokeWidth:i,stroke:c,strokeDasharray:u})}}])&&pn(o.prototype,e),o}(an);function mn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function On(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _n=function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mn(Object(n),!0).forEach((function(e){On(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({points:"",fill:"none"},t);return Object(r.g)("polyline",e)};function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xn(Object(n),!0).forEach((function(e){En(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function En(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Pn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function An(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kn(t,e,n){return(kn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Nn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Dn(t,e){return(Dn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nn(t);if(e){var o=Nn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tn(this,n)}}function Tn(t,e){return!e||"object"!==wn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nn(t){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dn(t,e)}(o,t);var e,n=Mn(o);function o(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this)).drag=void 0,t.isDraging=void 0,t.appendInfo=void 0,t.dragHandler=void 0,t.onDragStart=function(){t.props.model.dragAppendStart()},t.onDraging=function(e){var n=e.deltaX,r=e.deltaY,o=t.props,i=o.model,a=o.graphModel;t.isDraging=!0;var u=Sn(a.transformMatrix.fixDeltaXY(n,r),2),c=u[0],s=u[1],l=i;t.appendInfo=l.dragAppend(t.appendInfo,{x:c,y:s})},t.onDragEnd=function(){t.props.model.dragAppendEnd(),t.isDraging=!1,t.appendInfo=void 0},t.beforeDragStart=function(e,n){t.dragHandler(e),t.appendInfo=n},t.drag=Object(i.b)({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd,isStopPropagation:!1}),t}return(e=[{key:"getAttributes",value:function(){var t=kn(Nn(o.prototype),"getAttributes",this).call(this),e=this.props.model.points;return jn(jn({},t),{},{points:e})}},{key:"getEdge",value:function(){var t=this.getAttributes(),e=t.points,n=t.strokeWidth,o=t.stroke,i=t.strokeDashArray;return Object(r.g)(_n,{points:e,strokeWidth:n,stroke:o,strokeDasharray:i})}},{key:"getShape",value:function(){return Object(r.g)("g",null,this.getEdge())}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=t.points,n=t.isSelected,r={start:null,end:null,hover:this.state.hover,isSelected:n},o=Object(Le.n)(e);return o.length>=2&&(r.start=o[o.length-2],r.end=o[o.length-1]),r}},{key:"getAppendAttibutes",value:function(t){var e,n=t.start,r=t.end;if(n.x===r.x&&n.y===r.y)e="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=Object(Ee.a)(jn(jn({},o),{},{type:"start"})),a=Object(Ee.a)(jn(jn({},o),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY," \n      L").concat(i.rightX," ").concat(i.rightY," \n      L").concat(a.rightX," ").concat(a.rightY,"\n      L").concat(a.leftX," ").concat(a.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(t){var e=this.getAppendAttibutes(t),n=e.d,o=e.strokeWidth,i=e.fill,a=e.strokeDasharray,u=e.stroke;return Object(r.g)(je,{d:n,fill:i,strokeWidth:o,stroke:u,strokeDasharray:a})}},{key:"getAppendWidth",value:function(){for(var t=this,e=this.props,n=e.model,o=e.graphModel,i=n.pointsList,a=n.draggable,u=[],c=function(e){var n="lf-polyline-append",c={start:{x:i[e].x,y:i[e].y},end:{x:i[e+1].x,y:i[e+1].y},startIndex:e,endIndex:e+1,direction:""},l=Object(r.g)("g",{className:n},t.getAppendShape(c));o.editConfig.adjustEdge&&a?(t.dragHandler=t.drag,c.start.x===c.end.x?(n+="-ew-resize",c.direction=s.f.VERTICAL):c.start.y===c.end.y&&(n+="-ns-resize",c.direction=s.f.HORIZONTAL),l=Object(r.g)("g",{className:t.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(e){return t.beforeDragStart(e,c)}},Object(r.g)("g",{className:n},t.getAppendShape(c)))):t.dragHandler=function(){},u.push(l)},l=0;l<i.length-1;l++)c(l);return Object(r.g)("g",null,u)}}])&&An(o.prototype,e),o}(an);function Rn(t){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function In(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ln(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ln(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ln(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zn(Object(n),!0).forEach((function(e){Un(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hn(t,e,n){return(Hn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wn(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Gn(t,e){return(Gn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wn(t);if(e){var o=Wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vn(this,n)}}function Vn(t,e){return!e||"object"!==Rn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wn(t){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gn(t,e)}(o,t);var e,n=Yn(o);function o(){return Xn(this,o),n.apply(this,arguments)}return(e=[{key:"getAttributes",value:function(){var t=Hn(Wn(o.prototype),"getAttributes",this).call(this),e=this.props.model.path;return Bn(Bn({},t),{},{path:e})}},{key:"getEdge",value:function(){var t=this.getAttributes(),e=t.path,n=t.strokeWidth,o=t.stroke,i=t.strokeDashArray;return Object(r.g)(je,{d:e,strokeWidth:n,stroke:o,fill:"none",strokeDasharray:i})}},{key:"getShape",value:function(){return Object(r.g)("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var t=this.getAttributes().path;return Object(r.g)(je,{d:t,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=this.state.hover,n=t,r=n.path,o=n.isSelected,i=In(Object(Le.h)(r),2);return{start:i[0],end:i[1],hover:e,isSelected:o}}}])&&Fn(o.prototype,e),o}(an)},function(t,e,n){var r=n(19),o=n(95).f,i=n(46),a=n(51),u=n(133),c=n(201),s=n(140);t.exports=function(t,e){var n,l,f,p,d,h=t.target,y=t.global,v=t.stat;if(n=y?r:v?r[h]||u(h,{}):(r[h]||{}).prototype)for(l in e){if(p=e[l],f=t.noTargetGet?(d=o(n,l))&&d.value:n[l],!s(y?l:h+(v?".":"#")+l,t.forced)&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(t.sham||f&&f.sham)&&i(p,"sham",!0),a(n,l,p,t)}}},function(t,e,n){var r=Array.isArray;e.a=r},function(t,e,n){function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return g}));var a={fill:"#FFFFFF",stroke:"#000000",strokeWidth:2,fillOpacity:1,strokeOpacity:1,opacity:1,outlineColor:"#000000",outlineStrokeDashArray:"3,3",hoverOutlineColor:"#000000",hoverOutlineStrokeDashArray:"3,3"},u=o(o({},a),{},{width:100,height:80,radius:0}),c=o(o({},a),{},{r:50}),s=o(o({},a),{},{rx:55,ry:45}),l=o(o({},a),{},{rx:50,ry:50}),f=o({},a),p=o(o({},a),{},{stroke:"#000000",strokeWidth:1,r:4}),d={stroke:"#000000",strokeWidth:2,hoverStroke:"#000000",selectedStroke:"#000000",strokeDashArray:"1,0",outlineColor:"#000000",outlineStrokeDashArray:"3,3"},h=o({},d),y=o(o({},d),{},{offset:30}),v=o(o({},d),{},{offset:100,adjustLineColor:"#4169E1",adjustAnchorStroke:"#4169E1",adjustAnchorFill:"#1E90FF",adjustAnchorFillOpacity:.5}),b={color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:""},g={rect:u,circle:c,diamond:l,ellipse:s,polygon:f,anchor:p,text:b,nodeText:o(o({},b),{},{autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"}),edgeText:{color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:"",background:{fill:"transparent",height:20,stroke:"transparent",radius:0},hoverBackground:null,autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"},line:h,polyline:y,bezier:v,arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},anchorHover:{fill:"#1E90FF",fillOpacity:.5,stroke:"#4169E1",strokeWidth:1,r:10},snapline:{stroke:"#1E90FF",strokeWidth:1}}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(120),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();e.a=i},function(t,e,n){e.a=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(7),o=n(10),i=n(37),a=n(147),u=n(173);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!u},{getPrototypeOf:function(t){return a(i(t))}})},function(t,e,n){n(7)({target:"Object",stat:!0},{setPrototypeOf:n(149)})},function(t,e,n){n.r(e),n.d(e,"observer",(function(){return p}));var r=n(64),o=n(1);n.d(e,"h",(function(){return o.g}));var i=n(118);n.d(e,"LogicFlow",(function(){return i.a}));var a=n(191);n.d(e,"LogicFlowUtil",(function(){return a})),n(192);var u=n(6);n.d(e,"BaseNode",(function(){return u.c})),n.d(e,"RectNode",(function(){return u.l})),n.d(e,"CircleNode",(function(){return u.e})),n.d(e,"PolygonNode",(function(){return u.j})),n.d(e,"DiamondNode",(function(){return u.f})),n.d(e,"EllipseNode",(function(){return u.g})),n.d(e,"TextNode",(function(){return u.m})),n.d(e,"HtmlNode",(function(){return u.h})),n.d(e,"BaseEdge",(function(){return u.b})),n.d(e,"LineEdge",(function(){return u.i})),n.d(e,"PolylineEdge",(function(){return u.k})),n.d(e,"BezierEdge",(function(){return u.d})),n.d(e,"Arrow",(function(){return u.a}));var c=n(5);for(var s in c)["default","observer","LogicFlow","h","LogicFlowUtil","BaseNode","RectNode","CircleNode","PolygonNode","DiamondNode","EllipseNode","TextNode","HtmlNode","BaseEdge","LineEdge","PolylineEdge","BezierEdge","Arrow"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return c[t]}))}(s);var l=n(117);n.d(e,"Keyboard",(function(){return l.a}));var f=n(115);function p(t){return Object(r.c)(t)}n.d(e,"get",(function(){return f.b})),n.d(e,"defaults",(function(){return f.a})),e.default=i.a},function(t,e,n){var r=n(11).a.Symbol;e.a=r},function(t,e,n){var r=n(19),o=n(164),i=n(30),a=n(137),u=n(171),c=n(204),s=o("wks"),l=r.Symbol,f=c?l:l&&l.withoutSetter||a;t.exports=function(t){return i(s,t)||(u&&i(l,t)?s[t]=l[t]:s[t]=f("Symbol."+t)),s[t]}},,function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(132))},function(t,e,n){n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return c}));var r=function(){},o=n(2);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=window.document;function u(t){var e=t.onDragStart,n=void 0===e?r:e,o=t.onDraging,i=void 0===o?r:o,u=t.onDragEnd,c=void 0===u?r:u,s=t.step,l=void 0===s?1:s,f=t.isStopPropagation,p=void 0===f||f,d=!1,h=0,y=0,v=0,b=0;function g(t){if(p&&t.stopPropagation(),d&&(v+=t.clientX-h,b+=t.clientY-y,h=t.clientX,y=t.clientY,Math.abs(v)>l||Math.abs(b)>l)){var e=v%l,n=b%l,r=v-e,o=b-n;v=e,b=n,i({deltaX:r,deltaY:o,event:t})}}function m(t){return p&&t.stopPropagation(),d=!1,a.removeEventListener("mousemove",g,!1),a.removeEventListener("mouseup",m,!1),c({event:t})}return function(t){if(0===t.button)return p&&t.stopPropagation(),d=!0,h=t.clientX,y=t.clientY,a.addEventListener("mousemove",g,!1),a.addEventListener("mouseup",m,!1),n({event:t})}}var c=function(){function t(e){var n=this,i=e.onDragStart,u=void 0===i?r:i,c=e.onDraging,s=void 0===c?r:c,l=e.onDragEnd,f=void 0===l?r:l,p=e.eventType,d=void 0===p?"":p,h=e.eventCenter,y=void 0===h?null:h,v=e.step,b=void 0===v?1:v,g=e.isStopPropagation,m=void 0===g||g,O=e.model,_=void 0===O?null:O;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onDragStart=void 0,this.onDraging=void 0,this.onDragEnd=void 0,this.step=void 0,this.isStopPropagation=void 0,this.isDraging=!1,this.startX=0,this.startY=0,this.sumDeltaX=0,this.sumDeltaY=0,this.eventType=void 0,this.eventCenter=void 0,this.model=void 0,this.startTime=void 0,this.handleMouseDown=function(t){var e,r,i;if(0===t.button){n.isStopPropagation&&t.stopPropagation(),n.isDraging=!0,n.startX=t.clientX,n.startY=t.clientY,a.addEventListener("mousemove",n.handleMouseMove,!1),a.addEventListener("mouseup",n.handleMouseUp,!1),n.onDragStart({event:t});var u=null===(e=n.model)||void 0===e?void 0:e.getData();null===(r=n.eventCenter)||void 0===r||r.emit(o.d["".concat(n.eventType,"_MOUSEDOWN")],{e:t,data:u}),null===(i=n.eventCenter)||void 0===i||i.emit(o.d["".concat(n.eventType,"_DRAGSTART")],{e:t,data:u}),n.startTime=(new Date).getTime()}},this.handleMouseMove=function(t){if(n.isStopPropagation&&t.stopPropagation(),n.isDraging&&(n.sumDeltaX+=t.clientX-n.startX,n.sumDeltaY+=t.clientY-n.startY,n.startX=t.clientX,n.startY=t.clientY,Math.abs(n.sumDeltaX)>n.step||Math.abs(n.sumDeltaY)>n.step)){var e,r,i=n.sumDeltaX%n.step,a=n.sumDeltaY%n.step,u=n.sumDeltaX-i,c=n.sumDeltaY-a;n.sumDeltaX=i,n.sumDeltaY=a,n.onDraging({deltaX:u,deltaY:c,event:t});var s,l=null===(e=n.model)||void 0===e?void 0:e.getData();null===(r=n.eventCenter)||void 0===r||r.emit(o.d["".concat(n.eventType,"_MOUSEMOVE")],{e:t,data:l}),(new Date).getTime()-n.startTime>200&&(null===(s=n.eventCenter)||void 0===s||s.emit(o.d["".concat(n.eventType,"_DRAG")],{e:t,data:l}))}},this.handleMouseUp=function(t){var e,r;n.isStopPropagation&&t.stopPropagation(),n.isDraging=!1,a.removeEventListener("mousemove",n.handleMouseMove,!1),a.removeEventListener("mouseup",n.handleMouseUp,!1),n.onDragEnd({event:t});var i,u=null===(e=n.model)||void 0===e?void 0:e.getData();null===(r=n.eventCenter)||void 0===r||r.emit(o.d["".concat(n.eventType,"_MOUSEUP")],{e:t,data:u}),(new Date).getTime()-n.startTime>200&&(null===(i=n.eventCenter)||void 0===i||i.emit(o.d["".concat(n.eventType,"_DROP")],{e:t,data:u}))},this.onDragStart=u,this.onDraging=s,this.onDragEnd=f,this.step=b,this.isStopPropagation=m,this.eventType=d,this.eventCenter=y,this.model=_}var e;return(e=[{key:"setStep",value:function(t){this.step=t}}])&&i(t.prototype,e),t}()},function(t,e,n){var r=n(7),o=n(169);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(t,e,n){var r=n(19),o=n(184),i=n(169),a=n(46);for(var u in o){var c=r[u],s=c&&c.prototype;if(s&&s.forEach!==i)try{a(s,"forEach",i)}catch(l){s.forEach=i}}},function(t,e,n){var r=n(7),o=n(10),i=n(75),a=n(95).f,u=n(29),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!u||c,sham:!u},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},function(t,e,n){e.a=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){n.d(e,"a",(function(){return r}));var r=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}},function(t,e,n){var r=n(34);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r,o=n(121),i=n(11).a["__core-js_shared__"],a=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",u=function(t){return!!a&&a in t},c=n(12),s=n(50),l=/^\[object .+?Constructor\]$/,f=Function.prototype,p=Object.prototype,d=f.toString,h=p.hasOwnProperty,y=RegExp("^"+d.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=function(t){return!(!Object(c.a)(t)||u(t))&&(Object(o.a)(t)?y:l).test(Object(s.a)(t))},b=function(t,e){return null==t?void 0:t[e]};e.a=function(t,e){var n=b(t,e);return v(n)?n:void 0}},function(t,e,n){var r=n(57),o=n(41),i=n(78),a=n(131),u=n(127),c=function(t,e){return Object(u.a)(Object(a.a)(t,e,i.a),t+"")},s=n(55),l=n(32),f=n(54),p=n(12),d=function(t,e,n){if(!Object(p.a)(n))return!1;var r=typeof e;return!!("number"==r?Object(l.a)(n)&&Object(f.a)(e,n.length):"string"==r&&e in n)&&Object(s.a)(n[e],t)},h=function(t){return c((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&d(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,i)}return e}))},y=n(56),v=n(33),b=Object.prototype.hasOwnProperty,g=h((function(t,e){if(Object(y.a)(e)||Object(l.a)(e))Object(o.a)(e,Object(v.a)(e),t);else for(var n in e)b.call(e,n)&&Object(r.a)(t,n,e[n])}));e.a=g},function(t,e,n){var r=n(10);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(7),o=n(10),i=n(170),a=n(34),u=n(37),c=n(36),s=n(152),l=n(142),f=n(105),p=n(17),d=n(150),h=p("isConcatSpreadable"),y=d>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),v=f("concat"),b=function(t){if(!a(t))return!1;var e=t[h];return void 0!==e?!!e:i(t)};r({target:"Array",proto:!0,forced:!y||!v},{concat:function(t){var e,n,r,o,i,a=u(this),f=l(a,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(b(i=-1===e?a:arguments[e])){if(p+(o=c(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,p++)n in i&&s(f,p,i[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(f,p++,i)}return f.length=p,f}})},function(t,e,n){var r=n(121),o=n(79);e.a=function(t){return null!=t&&Object(o.a)(t.length)&&!Object(r.a)(t)}},function(t,e,n){var r=n(130),o=n(56),i=n(123),a=Object(i.a)(Object.keys,Object),u=Object.prototype.hasOwnProperty,c=function(t){if(!Object(o.a)(t))return a(t);var e=[];for(var n in Object(t))u.call(t,n)&&"constructor"!=n&&e.push(n);return e},s=n(32);e.a=function(t){return Object(s.a)(t)?Object(r.a)(t):c(t)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(29),o=n(161),i=n(26),a=n(97),u=Object.defineProperty;e.f=r?u:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return u(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(76),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(45);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(7),o=n(101).map,i=n(105),a=n(68),u=i("map"),c=a("map");r({target:"Array",proto:!0,forced:!u||!c},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(16),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r.a?r.a.toStringTag:void 0,c=function(t){var e=i.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(c){}var o=a.call(t);return r&&(e?t[u]=n:delete t[u]),o},s=Object.prototype.toString,l=function(t){return s.call(t)},f=r.a?r.a.toStringTag:void 0;e.a=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":f&&f in Object(t)?c(t):l(t)}},function(t,e,n){var r=n(7),o=n(233),i=n(144);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(t,e,n){var r=n(57),o=n(122);e.a=function(t,e,n,i){var a=!n;n||(n={});for(var u=-1,c=e.length;++u<c;){var s=e[u],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),a?Object(o.a)(n,s,l):Object(r.a)(n,s,l)}return n}},function(t,e,n){var r=n(58);e.a=function(t){if("string"==typeof t||Object(r.a)(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){var r=n(1);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a=function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({x1:10,y1:10,x2:20,y2:20,stroke:"black"},t);return Object(r.g)("line",e)}},function(t,e,n){var r,o=n(82),i=n(57),a=n(60),u=n(54),c=n(12),s=n(42),l=function(t,e,n,r){if(!Object(c.a)(t))return t;for(var o=-1,l=(e=Object(a.a)(e,t)).length,f=l-1,p=t;null!=p&&++o<l;){var d=Object(s.a)(e[o]),h=n;if("__proto__"===d||"constructor"===d||"prototype"===d)return t;if(o!=f){var y=p[d];void 0===(h=r?r(y,d,p):void 0)&&(h=Object(c.a)(y)?y:Object(u.a)(e[o+1])?[]:{})}Object(i.a)(p,d,h),p=p[d]}return t},f=function(t,e,n){for(var r=-1,i=e.length,u={};++r<i;){var c=e[r],s=Object(o.a)(t,c);n(s,c)&&l(u,Object(a.a)(c,t),s)}return u},p=n(128),d=function(t,e){return f(t,e,(function(e,n){return Object(p.a)(t,n)}))},h=n(81),y=n(16),v=n(85),b=n(8),g=y.a?y.a.isConcatSpreadable:void 0,m=function(t){return Object(b.a)(t)||Object(v.a)(t)||!!(g&&t&&t[g])},O=function t(e,n,r,o,i){var a=-1,u=e.length;for(r||(r=m),i||(i=[]);++a<u;){var c=e[a];n>0&&r(c)?n>1?t(c,n-1,r,o,i):Object(h.a)(i,c):o||(i[i.length]=c)}return i},_=function(t){return null!=t&&t.length?O(t,1):[]},w=n(131),x=n(127),j=(r=function(t,e){return null==t?{}:d(t,e)},Object(x.a)(Object(w.a)(r,void 0,_),r+""));e.a=j},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(29),o=n(35),i=n(96);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(27),o=n(11),i=Object(r.a)(o.a,"DataView"),a=n(61),u=Object(r.a)(o.a,"Promise"),c=Object(r.a)(o.a,"Set"),s=Object(r.a)(o.a,"WeakMap"),l=n(39),f=n(50),p=Object(f.a)(i),d=Object(f.a)(a.a),h=Object(f.a)(u),y=Object(f.a)(c),v=Object(f.a)(s),b=l.a;(i&&"[object DataView]"!=b(new i(new ArrayBuffer(1)))||a.a&&"[object Map]"!=b(new a.a)||u&&"[object Promise]"!=b(u.resolve())||c&&"[object Set]"!=b(new c)||s&&"[object WeakMap]"!=b(new s))&&(b=function(t){var e=Object(l.a)(t),n="[object Object]"==e?t.constructor:void 0,r=n?Object(f.a)(n):"";if(r)switch(r){case p:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case y:return"[object Set]";case v:return"[object WeakMap]"}return e}),e.a=b},function(t,e,n){(function(t){var r=n(120),o=y&&!y.nodeType&&y,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.a.process,u=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();e.a=u}).call(this,n(153)(t))},function(t,e,n){n.d(e,"a",(function(){return u}));var r=n(1);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){var e=t.x,n=t.y,o=t.width,a=t.height,u=t.radius,c=t.className,s=e-o/2,l=n-a/2,f=i(i({width:10,height:10,cx:0,cy:0,rx:u||0,ry:u||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape ".concat(c)},t),{},{x:s,y:l});return Object(r.g)("rect",f)}u.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""}},function(t,e,n){var r=Function.prototype.toString;e.a=function(t){if(null!=t){try{return r.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},function(t,e,n){var r=n(19),o=n(46),i=n(30),a=n(133),u=n(163),c=n(98),s=c.get,l=c.enforce,f=String(String).split("String");(t.exports=function(t,e,n,u){var c,s=!!u&&!!u.unsafe,p=!!u&&!!u.enumerable,d=!!u&&!!u.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),(c=l(n)).source||(c.source=f.join("string"==typeof e?e:""))),t!==r?(s?!d&&t[e]&&(p=!0):delete t[e],p?t[e]=n:o(t,e,n)):p?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||u(this)}))},function(t,e,n){n.d(e,"a",(function(){return H})),n(21),n(189),n(23),n(70),n(185),n(22);var r,o,i,a,u,c,s,l,f,p,d,h,y,v,b,g,m,O,_,w,x,j,E,S,P=n(0),A=n(28),k=n(44),D=n(53),M=n(3),T=n(2),N=n(9),C=n(25),R=n(4);function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function X(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var F=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){X(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({sourceNodeId:"",sourceAnchorId:"",targetNodeId:"",targetAnchorId:"",startPoint:null,endPoint:null,zIndex:0,isSelected:!1,isHovered:!1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},points:"",pointsList:[],strokeOpacity:1},N.a.line),H=(o=B((r=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=Object(D.a)(),this.BaseType=T.c.EDGE,L(this,"state",o,this),this.modelType=T.e.EDGE,this.additionStateData=void 0,this.graphModel=void 0,this.menu=void 0,this.sourceAnchorId=F.sourceAnchorId,this.targetAnchorId=F.targetAnchorId,L(this,"text",i,this),L(this,"type",a,this),L(this,"properties",u,this),L(this,"sourceNodeId",c,this),L(this,"targetNodeId",s,this),L(this,"startPoint",l,this),L(this,"endPoint",f,this),L(this,"strokeWidth",p,this),L(this,"stroke",d,this),L(this,"strokeDashArray",h,this),L(this,"outlineColor",y,this),L(this,"outlineStrokeDashArray",v,this),L(this,"strokeOpacity",b,this),L(this,"zIndex",g,this),L(this,"isSelected",m,this),L(this,"isHovered",O,this),L(this,"isHitable",_,this),L(this,"hoverStroke",w,this),L(this,"selectedStroke",x,this),L(this,"points",j,this),L(this,"pointsList",E,this),L(this,"draggable",S,this),this.graphModel=n,this.setStyleFromTheme(r,n),this.initEdgeData(e),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(e)}var e;return(e=[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var e=this.graphModel.idGenerator,n=e&&e();n&&(t.id=n);var r=this.createId();r&&(t.id=r)}Object(A.a)(this,Object(R.m)(t))}},{key:"createId",value:function(){return null}},{key:"setAttributes",value:function(){}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"move",value:function(){}},{key:"getBeginAnchor",value:function(t,e){var n,r;return Object(M.b)(t).forEach((function(t){var o=Object(R.q)(t,e);r?o<r&&(r=o,n=t):(r=o,n=t)})),n}},{key:"getEndAnchor",value:function(t){var e,n,r=this;return Object(M.b)(t).forEach((function(t){var o=Object(R.q)(t,r.startPoint);n?o<n&&(n=o,e=t):(n=o,e=t)})),e}},{key:"getProperties",value:function(){return Object(P.G)(this.properties)}},{key:"getData",value:function(){var t=this.text,e=t.x,n=t.y,r=t.value,o={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(P.G)(this.properties)};return r&&(o.text={x:e,y:n,value:r}),o}},{key:"setProperty",value:function(t,e){this.properties[t]=Object(C.a)(e)}},{key:"setProperties",value:function(t){this.properties=Object.assign(this.properties,t)}},{key:"updateData",value:function(t){var e=Object(C.a)(Object(k.a)(t,"type","sourceNodeId","targetNodeId","startPoint","endPoint","text","properties")),n=this.text,r=n.x,o=n.y,i=n.draggable,a=n.editable;if(e.text&&"string"==typeof e.text){var u={value:e.text,draggable:i,editable:a},c=this.textPosition;e.text=r||o?Object.assign({},u,{x:r,y:o}):Object.assign({},u,c)}else if("object"===I(e.text)){var s=Object.assign({},this.text,e.text);e.text=Object(k.a)(s,"x","y","value","draggable","editable")}Object(A.a)(this,e)}},{key:"formatText",value:function(t){var e=this.textPosition,n=e.x,r=e.y;t.text&&"string"!=typeof t.text?"[object Object]"===Object.prototype.toString.call(t.text)&&(this.text={x:t.text.x||n,y:t.text.y||r,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:t.text||"",x:n,y:r,draggable:this.text.draggable,editable:this.text.editable}}},{key:"moveText",value:function(t,e){if(this.text){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,u=n.editable;this.text={value:i,draggable:a,x:r+t,y:o+e,editable:u}}}},{key:"setText",value:function(t){t&&(this.text=Object(A.a)(this.text,t))}},{key:"updateText",value:function(t){var e=this.text,n=e.x,r=e.y,o=e.draggable,i=e.editable;this.text={x:n,y:r,draggable:o,editable:i,value:t}}},{key:"setAnchors",value:function(){if(!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint=t}if(!this.endPoint){var e=this.getEndAnchor(this.targetNode);this.endPoint=e}}},{key:"setSelected",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=t}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t}},{key:"setHitable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=t}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"updateStroke",value:function(t){this.stroke=t}},{key:"updateStrokeWidth",value:function(t){this.strokeWidth=t}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"setStyleFromTheme",value:function(t,e){var n=e.theme;n[t]&&Object(A.a)(this,n[t])}},{key:"setZIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.zIndex;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){Object(A.a)(this,t)}},{key:"sourceNode",get:function(){var t,e;return null===(t=this.graphModel)||void 0===t||null===(e=t.nodesMap[this.sourceNodeId])||void 0===e?void 0:e.model}},{key:"targetNode",get:function(){var t,e;return null===(t=this.graphModel)||void 0===t||null===(e=t.nodesMap[this.targetNodeId])||void 0===e?void 0:e.model}},{key:"textPosition",get:function(){return this.getTextPosition()}}])&&z(t.prototype,e),t}()).prototype,"state",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),i=B(r.prototype,"text",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.text}}),a=B(r.prototype,"type",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=B(r.prototype,"properties",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=B(r.prototype,"sourceNodeId",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.sourceNodeId}}),s=B(r.prototype,"targetNodeId",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.targetNodeId}}),l=B(r.prototype,"startPoint",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.startPoint}}),f=B(r.prototype,"endPoint",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.endPoint}}),p=B(r.prototype,"strokeWidth",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.strokeWidth}}),d=B(r.prototype,"stroke",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.stroke}}),h=B(r.prototype,"strokeDashArray",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.strokeDashArray}}),y=B(r.prototype,"outlineColor",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.outlineColor}}),v=B(r.prototype,"outlineStrokeDashArray",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.outlineStrokeDashArray}}),b=B(r.prototype,"strokeOpacity",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.strokeOpacity}}),g=B(r.prototype,"zIndex",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.zIndex}}),m=B(r.prototype,"isSelected",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.isSelected}}),O=B(r.prototype,"isHovered",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.isHovered}}),_=B(r.prototype,"isHitable",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=B(r.prototype,"hoverStroke",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.hoverStroke}}),x=B(r.prototype,"selectedStroke",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.selectedStroke}}),j=B(r.prototype,"points",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.points}}),E=B(r.prototype,"pointsList",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.pointsList}}),S=B(r.prototype,"draggable",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B(r.prototype,"sourceNode",[P.k],Object.getOwnPropertyDescriptor(r.prototype,"sourceNode"),r.prototype),B(r.prototype,"targetNode",[P.k],Object.getOwnPropertyDescriptor(r.prototype,"targetNode"),r.prototype),B(r.prototype,"textPosition",[P.k],Object.getOwnPropertyDescriptor(r.prototype,"textPosition"),r.prototype),B(r.prototype,"setProperty",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setProperty"),r.prototype),B(r.prototype,"setProperties",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setProperties"),r.prototype),B(r.prototype,"updateData",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"updateData"),r.prototype),B(r.prototype,"formatText",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"formatText"),r.prototype),B(r.prototype,"moveText",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"moveText"),r.prototype),B(r.prototype,"setText",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setText"),r.prototype),B(r.prototype,"updateText",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"updateText"),r.prototype),B(r.prototype,"setAnchors",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setAnchors"),r.prototype),B(r.prototype,"setSelected",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setSelected"),r.prototype),B(r.prototype,"setHovered",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setHovered"),r.prototype),B(r.prototype,"setHitable",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setHitable"),r.prototype),B(r.prototype,"setElementState",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setElementState"),r.prototype),B(r.prototype,"updateStroke",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"updateStroke"),r.prototype),B(r.prototype,"updateStrokeWidth",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"updateStrokeWidth"),r.prototype),B(r.prototype,"updateStartPoint",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"updateStartPoint"),r.prototype),B(r.prototype,"updateEndPoint",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"updateEndPoint"),r.prototype),B(r.prototype,"setStyleFromTheme",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setStyleFromTheme"),r.prototype),B(r.prototype,"setZIndex",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setZIndex"),r.prototype),B(r.prototype,"initPoints",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"initPoints"),r.prototype),B(r.prototype,"updateAttributes",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"updateAttributes"),r.prototype),r);e.b=H},function(t,e,n){var r;n.d(e,"a",(function(){return p}));var o=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}for(var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,u=function(t){return"string"==typeof t&&a.test(t)},c=[],s=0;s<256;++s)c.push((s+256).toString(16).substr(1));var l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase();if(!u(n))throw TypeError("Stringified UUID is invalid");return n},f=function(t,e,n){var r=(t=t||{}).random||(t.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return l(r)},p=function(){return f()}},function(t,e,n){var r=/^(?:0|[1-9]\d*)$/;e.a=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){e.a=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=Object.prototype;e.a=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e,n){var r=n(122),o=n(55),i=Object.prototype.hasOwnProperty;e.a=function(t,e,n){var a=t[e];i.call(t,e)&&Object(o.a)(a,n)&&(void 0!==n||e in t)||Object(r.a)(t,e,n)}},function(t,e,n){var r=n(39),o=n(24);e.a=function(t){return"symbol"==typeof t||Object(o.a)(t)&&"[object Symbol]"==Object(r.a)(t)}},function(t,e,n){var r=function(){this.__data__=[],this.size=0},o=n(55),i=function(t,e){for(var n=t.length;n--;)if(Object(o.a)(t[n][0],e))return n;return-1},a=Array.prototype.splice,u=function(t){var e=this.__data__,n=i(e,t);return!(n<0||(n==e.length-1?e.pop():a.call(e,n,1),--this.size,0))},c=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]},s=function(t){return i(this.__data__,t)>-1},l=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function f(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}f.prototype.clear=r,f.prototype.delete=u,f.prototype.get=c,f.prototype.has=s,f.prototype.set=l,e.a=f},function(t,e,n){var r=n(8),o=n(83),i=n(74);function a(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(a.Cache||i.a),n}a.Cache=i.a;var u,c,s,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,p=(u=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(l,(function(t,n,r,o){e.push(r?o.replace(f,"$1"):n||t)})),e},c=a(u,(function(t){return 500===s.size&&s.clear(),t})),s=c.cache,c),d=n(16),h=n(124),y=n(58),v=d.a?d.a.prototype:void 0,b=v?v.toString:void 0,g=function t(e){if("string"==typeof e)return e;if(Object(r.a)(e))return Object(h.a)(e,t)+"";if(Object(y.a)(e))return b?b.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},m=function(t){return null==t?"":g(t)};e.a=function(t,e){return Object(r.a)(t)?t:Object(o.a)(t,e)?[t]:p(m(t))}},function(t,e,n){var r=n(27),o=n(11),i=Object(r.a)(o.a,"Map");e.a=i},function(t,e,n){n.d(e,"a",(function(){return r}));var r=function(t){var e=t.start,n=t.end,r=t.offset,o=t.verticalLength,i=t.type,a={leftX:0,leftY:0,rightX:0,rightY:0},u=Math.atan((n.y-e.y)/(n.x-e.x)),c=Math.atan(r/o),s=Math.sqrt(o*o+r*r);return"start"===i?n.x>=e.x?(a.leftX=e.x+s*Math.sin(u+c),a.leftY=e.y-s*Math.cos(u+c),a.rightX=e.x-s*Math.sin(u-c),a.rightY=e.y+s*Math.cos(u-c)):(a.leftX=e.x-s*Math.sin(u+c),a.leftY=e.y+s*Math.cos(u+c),a.rightX=e.x+s*Math.sin(u-c),a.rightY=e.y-s*Math.cos(u-c)):"end"===i&&(n.x>=e.x?(a.leftX=n.x+s*Math.sin(u-c),a.leftY=n.y-s*Math.cos(u-c),a.rightX=n.x-s*Math.sin(u+c),a.rightY=n.y+s*Math.cos(u+c)):(a.leftX=n.x-s*Math.sin(u-c),a.leftY=n.y+s*Math.cos(u-c),a.rightX=n.x+s*Math.sin(u+c),a.rightY=n.y-s*Math.cos(u+c))),a}},function(t,e,n){var r=n(59),o=function(){this.__data__=new r.a,this.size=0},i=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},a=function(t){return this.__data__.get(t)},u=function(t){return this.__data__.has(t)},c=n(61),s=n(74),l=function(t,e){var n=this.__data__;if(n instanceof r.a){var o=n.__data__;if(!c.a||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new s.a(o)}return n.set(t,e),this.size=n.size,this};function f(t){var e=this.__data__=new r.a(t);this.size=e.size}f.prototype.clear=o,f.prototype.delete=i,f.prototype.get=a,f.prototype.has=u,f.prototype.set=l,e.a=f},function(t,e,n){n.d(e,"c",(function(){return de})),n.d(e,"a",(function(){return Oe})),n.d(e,"b",(function(){return Kt}));var r,o,i,a=n(0),u=n(1),c=0,s=[],l=u.i.__b,f=u.i.__r,p=u.i.diffed,d=u.i.__c,h=u.i.unmount;function y(t,e){u.i.__h&&u.i.__h(o,t,c||e),c=0;var n=o.__H||(o.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function v(t){return c=1,b(E,t)}function b(t,e,n){var i=y(r++,2);return i.t=t,i.__c||(i.__=[n?n(e):E(void 0,e),function(t){var e=i.t(i.__[0],t);i.__[0]!==e&&(i.__=[e,i.__[1]],i.__c.setState({}))}],i.__c=o),i.__}function g(t,e){var n=y(r++,4);!u.i.__s&&j(n.__H,e)&&(n.__=t,n.__H=e,o.__h.push(n))}function m(t,e){var n=y(r++,7);return j(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function O(){s.forEach((function(t){if(t.__P)try{t.__H.__h.forEach(w),t.__H.__h.forEach(x),t.__H.__h=[]}catch(e){t.__H.__h=[],u.i.__e(e,t.__v)}})),s=[]}u.i.__b=function(t){o=null,l&&l(t)},u.i.__r=function(t){f&&f(t),r=0;var e=(o=t.__c).__H;e&&(e.__h.forEach(w),e.__h.forEach(x),e.__h=[])},u.i.diffed=function(t){p&&p(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==s.push(e)&&i===u.i.requestAnimationFrame||((i=u.i.requestAnimationFrame)||function(t){var e,n=function(){clearTimeout(r),_&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);_&&(e=requestAnimationFrame(n))})(O)),o=void 0},u.i.__c=function(t,e){e.some((function(t){try{t.__h.forEach(w),t.__h=t.__h.filter((function(t){return!t.__||x(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],u.i.__e(n,t.__v)}})),d&&d(t,e)},u.i.unmount=function(t){h&&h(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(w)}catch(n){u.i.__e(n,e.__v)}};var _="function"==typeof requestAnimationFrame;function w(t){var e=o;"function"==typeof t.__c&&t.__c(),o=e}function x(t){var e=o;t.__c=t.__(),o=e}function j(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function E(t,e){return"function"==typeof e?e(t):e}function S(t,e){for(var n in e)t[n]=e[n];return t}function P(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function A(t){this.props=t}(A.prototype=new u.a).isPureReactComponent=!0,A.prototype.shouldComponentUpdate=function(t,e){return P(this.props,t)||P(this.state,e)};var k=u.i.__b;u.i.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),k&&k(t)};var D="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function M(t){function e(e,n){var r=S({},e);return delete r.ref,t(r,(n=e.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return e.$$typeof=D,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var T=function(t,e){return null==t?null:Object(u.k)(Object(u.k)(t).map(e))},N={map:T,forEach:T,count:function(t){return t?Object(u.k)(t).length:0},only:function(t){var e=Object(u.k)(t);if(1!==e.length)throw"Children.only";return e[0]},toArray:u.k},C=u.i.__e;function R(t){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),t.__c.__H=null),(t=S({},t)).__c=null,t.__k=t.__k&&t.__k.map(R)),t}function I(t){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(I)),t}function L(){this.__u=0,this.t=null,this.__b=null}function z(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function B(){this.u=null,this.o=null}u.i.__e=function(t,e,n){if(t.then)for(var r,o=e;o=o.__;)if((r=o.__c)&&r.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e);C(t,e,n)},(L.prototype=new u.a).__c=function(t,e){var n=e.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=z(r.__v),i=!1,a=function(){i||(i=!0,n.componentWillUnmount=n.__c,o?o(u):u())};n.__c=n.componentWillUnmount,n.componentWillUnmount=function(){a(),n.__c&&n.__c()};var u=function(){var t;if(!--r.__u)for(r.__v.__k[0]=I(r.state.__e),r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()};!0===e.__h||r.__u++||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(a,a)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(t,e){this.__b&&(this.__v.__k&&(this.__v.__k[0]=R(this.__b)),this.__b=null);var n=e.__e&&Object(u.e)(u.b,null,t.fallback);return n&&(n.__h=null),[Object(u.e)(u.b,null,e.__e?null:t.children),n]};var U=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function X(t){return this.getChildContext=function(){return t.context},t.children}function F(t){var e=this,n=t.i;e.componentWillUnmount=function(){Object(u.j)(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={parentNode:n,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t,n){this.childNodes.push(t),e.i.appendChild(t,n)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),Object(u.j)(Object(u.e)(X,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}(B.prototype=new u.a).__e=function(t){var e=this,n=z(e.__v),r=e.o.get(t);return r[0]++,function(o){var i=function(){e.props.revealOrder?(r.push(o),U(e,t,r)):o()};n?n(i):i()}},B.prototype.render=function(t){this.u=null,this.o=new Map;var e=Object(u.k)(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},B.prototype.componentDidUpdate=B.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){U(t,n,e)}))};var H="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,G=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Y=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t)};u.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(u.a.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var V=u.i.event;function W(){}function K(){return this.cancelBubble}function $(){return this.defaultPrevented}u.i.event=function(t){return V&&(t=V(t)),t.persist=W,t.isPropagationStopped=K,t.isDefaultPrevented=$,t.nativeEvent=t};var Z,q={configurable:!0,get:function(){return this.class}},Q=u.i.vnode;u.i.vnode=function(t){var e=t.type,n=t.props,r=n;if("string"==typeof e){for(var o in r={},n){var i=n[o];"defaultValue"===o&&"value"in n&&null==n.value?o="value":"download"===o&&!0===i?i="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!Y(n.type)?o="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():G.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),r[o]=i}"select"==e&&r.multiple&&Array.isArray(r.value)&&(r.value=Object(u.k)(n.children).forEach((function(t){t.props.selected=-1!=r.value.indexOf(t.props.value)}))),"select"==e&&null!=r.defaultValue&&(r.value=Object(u.k)(n.children).forEach((function(t){t.props.selected=r.multiple?-1!=r.defaultValue.indexOf(t.props.value):r.defaultValue==t.props.value}))),t.props=r}e&&n.class!=n.className&&(q.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",q)),t.$$typeof=H,Q&&Q(t)};var J=u.i.__r;u.i.__r=function(t){J&&J(t),Z=t.__c};var tt={ReactCurrentDispatcher:{current:{readContext:function(t){return Z.__n[t.__c].props.value}}}};function et(t){return!!t&&t.$$typeof===H}function nt(t){return t&&(t.base||1===t.nodeType&&t)||null}var rt=function(t,e){return t(e)},ot=(u.b,{useState:v,useReducer:b,useEffect:function(t,e){var n=y(r++,3);!u.i.__s&&j(n.__H,e)&&(n.__=t,n.__H=e,o.__H.__h.push(n))},useLayoutEffect:g,useRef:function(t){return c=5,m((function(){return{current:t}}),[])},useImperativeHandle:function(t,e,n){c=6,g((function(){"function"==typeof t?t(e()):t&&(t.current=e())}),null==n?n:n.concat(t))},useMemo:m,useCallback:function(t,e){return c=8,m((function(){return t}),e)},useContext:function(t){var e=o.context[t.__c],n=y(r++,9);return n.__c=t,e?(null==n.__&&(n.__=!0,e.sub(o)),e.props.value):t.__},useDebugValue:function(t,e){u.i.useDebugValue&&u.i.useDebugValue(e?e(t):t)},version:"16.8.0",Children:N,render:function(t,e,n){return null==e.__k&&(e.textContent=""),Object(u.j)(t,e),"function"==typeof n&&n(),t?t.__c:null},hydrate:function(t,e,n){return Object(u.h)(t,e),"function"==typeof n&&n(),t?t.__c:null},unmountComponentAtNode:function(t){return!!t.__k&&(Object(u.j)(null,t),!0)},createPortal:function(t,e){return Object(u.e)(F,{__v:t,i:e})},createElement:u.e,createContext:u.d,createFactory:function(t){return u.e.bind(null,t)},cloneElement:function(t){return et(t)?u.c.apply(null,arguments):t},createRef:u.f,Fragment:u.b,isValidElement:et,findDOMNode:nt,Component:u.a,PureComponent:A,memo:function(t,e){function n(t){var n=this.props.ref,r=n==t.ref;return!r&&n&&(n.call?n(null):n.current=null),e?!e(this.props,t)||!r:P(this.props,t)}function r(e){return this.shouldComponentUpdate=n,Object(u.e)(t,e)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r},forwardRef:M,unstable_batchedUpdates:rt,StrictMode:u.b,Suspense:L,SuspenseList:B,lazy:function(t){var e,n,r;function o(o){if(e||(e=t()).then((function(t){n=t.default||t}),(function(t){r=t})),r)throw r;if(!n)throw e;return Object(u.e)(n,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:tt});
/** @license mobx-react v5.4.4
       * index.module.js
       *
       * Copyright (c) 2015 Michel Weststrate.
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE file in the root directory of this source tree.
       */function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ct(t,e,n){return e&&ut(t.prototype,e),n&&ut(t,n),t}function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}function ft(t){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dt(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ht(t,e){return t(e={exports:{}},e.exports),e.exports}var yt,vt=ht((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116;function v(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case l:case f:case i:case u:case a:return t;default:switch(t=t&&t.$$typeof){case s:case p:case c:return t;default:return e}}case o:return e}}}function b(t){return v(t)===f}e.typeOf=v,e.AsyncMode=l,e.ConcurrentMode=f,e.ContextConsumer=s,e.ContextProvider=c,e.Element=r,e.ForwardRef=p,e.Fragment=i,e.Profiler=u,e.Portal=o,e.StrictMode=a,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===f||t===u||t===a||t===d||"object"==typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===h||t.$$typeof===c||t.$$typeof===s||t.$$typeof===p)},e.isAsyncMode=function(t){return b(t)||v(t)===l},e.isConcurrentMode=b,e.isContextConsumer=function(t){return v(t)===s},e.isContextProvider=function(t){return v(t)===c},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return v(t)===p},e.isFragment=function(t){return v(t)===i},e.isProfiler=function(t){return v(t)===u},e.isPortal=function(t){return v(t)===o},e.isStrictMode=function(t){return v(t)===a}}));(yt=vt)&&yt.__esModule&&Object.prototype.hasOwnProperty.call(yt,"default")&&yt.default,vt.typeOf,vt.AsyncMode,vt.ConcurrentMode,vt.ContextConsumer,vt.ContextProvider,vt.Element,vt.ForwardRef,vt.Fragment,vt.Profiler,vt.Portal,vt.StrictMode,vt.isValidElementType,vt.isAsyncMode,vt.isConcurrentMode,vt.isContextConsumer,vt.isContextProvider,vt.isElement,vt.isForwardRef,vt.isFragment,vt.isProfiler,vt.isPortal,vt.isStrictMode;var bt=ht((function(t){t.exports=vt})),gt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},mt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ot={};Ot[bt.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var _t=Object.defineProperty,wt=Object.getOwnPropertyNames,xt=Object.getOwnPropertySymbols,jt=Object.getOwnPropertyDescriptor,Et=Object.getPrototypeOf,St=Object.prototype,Pt=function t(e,n,r){if("string"!=typeof n){if(St){var o=Et(n);o&&o!==St&&t(e,o,r)}var i=wt(n);xt&&(i=i.concat(xt(n)));for(var a=Ot[e.$$typeof]||gt,u=Ot[n.$$typeof]||gt,c=0;c<i.length;++c){var s=i[c];if(!(mt[s]||r&&r[s]||u&&u[s]||a&&a[s])){var l=jt(n,s);try{_t(e,s,l)}catch(f){}}}return e}return e},At=function(){function t(){at(this,t),this.listeners=[]}return ct(t,[{key:"on",value:function(t){var e=this;return this.listeners.push(t),function(){var n=e.listeners.indexOf(t);-1!==n&&e.listeners.splice(n,1)}}},{key:"emit",value:function(t){this.listeners.forEach((function(e){return e(t)}))}}]),t}();function kt(t){function e(e,n,r,o,i,u){for(var c=arguments.length,s=new Array(c>6?c-6:0),l=6;l<c;l++)s[l-6]=arguments[l];return Object(a.I)((function(){if(o=o||"<<anonymous>>",u=u||r,null==n[r]){if(e){var a=null===n[r]?"null":"undefined";return new Error("The "+i+" `"+u+"` is marked as required in `"+o+"`, but its value is `"+a+"`.")}return null}return t.apply(void 0,[n,r,o,i,u].concat(s))}))}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function Dt(t){var e,n=it(t);return Array.isArray(t)?"array":t instanceof RegExp?"object":(e=t,"symbol"===n||"Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol?"symbol":n)}function Mt(t,e){return kt((function(n,r,o,i,u){return Object(a.I)((function(){if(t&&Dt(n[r])===e.toLowerCase())return null;var i;switch(e){case"Array":i=a.w;break;case"Object":i=a.y;break;case"Map":i=a.x;break;default:throw new Error("Unexpected mobxType: ".concat(e))}var c=n[r];if(!i(c)){var s=function(t){var e=Dt(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}(c),l=t?" or javascript `"+e.toLowerCase()+"`":"";return new Error("Invalid prop `"+u+"` of type `"+s+"` supplied to `"+o+"`, expected `mobx.Observable"+e+"`"+l+".")}return null}))}))}function Tt(t,e){return kt((function(n,r,o,i,u){for(var c=arguments.length,s=new Array(c>5?c-5:0),l=5;l<c;l++)s[l-5]=arguments[l];return Object(a.I)((function(){if("function"!=typeof e)return new Error("Property `"+u+"` of component `"+o+"` has invalid PropType notation.");var a=Mt(t,"Array")(n,r,o);if(a instanceof Error)return a;for(var c=n[r],l=0;l<c.length;l++)if((a=e.apply(void 0,[c,l,o,i,u+"["+l+"]"].concat(s)))instanceof Error)return a;return null}))}))}Mt(!1,"Array"),Tt.bind(null,!1),Mt(!1,"Map"),Mt(!1,"Object"),Mt(!0,"Array"),Tt.bind(null,!0);var Nt=Mt(!0,"Object"),Ct=0,Rt={};function It(t){return Rt[t]||(Rt[t]=function(t){if("function"==typeof Symbol)return Symbol(t);var e="__$mobx-react ".concat(t," (").concat(Ct,")");return Ct++,e}(t)),Rt[t]}var Lt=It("patchMixins"),zt=It("patchedDefinition");function Bt(t,e){var n=t[Lt]=t[Lt]||{},r=n[e]=n[e]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function Ut(t,e){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];e.locks++;try{var a;return null!=t&&(a=t.apply(this,o)),a}finally{e.locks--,0===e.locks&&e.methods.forEach((function(t){t.apply(n,o)}))}}function Xt(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];Ut.call.apply(Ut,[this,t,e].concat(r))}}function Ft(t,e){for(var n=Bt(t,e),r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];for(var a=0;a<o.length;a++){var u=o[a];n.methods.indexOf(u)<0&&n.methods.push(u)}var c=Object.getOwnPropertyDescriptor(t,e);if(!c||!c[zt]){var s=t[e],l=Ht(t,e,c?c.enumerable:void 0,n,s);Object.defineProperty(t,e,l)}}function Ht(t,e,n,r,o){var i,a=Xt(o,r);return st(i={},zt,!0),st(i,"get",(function(){return a})),st(i,"set",(function(o){if(this===t)a=Xt(o,r);else{var i=Ht(this,e,n,r,o);Object.defineProperty(this,e,i)}})),st(i,"configurable",!0),st(i,"enumerable",n),i}var Gt={mobxStores:Nt};Object.seal(Gt);var Yt={contextTypes:{get:function(){return Gt},set:function(t){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function Vt(t,e,n){var r="inject-"+(e.displayName||e.name||e.constructor&&e.constructor.name||"Unknown");n&&(r+="-with-"+n);var o=function(n){function r(){var t,e;at(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=dt(this,(t=ft(r)).call.apply(t,[this].concat(o)))).storeRef=function(t){e.wrappedInstance=t},e}return lt(r,n),ct(r,[{key:"render",value:function(){var n={};for(var r in this.props)this.props.hasOwnProperty(r)&&(n[r]=this.props[r]);var o,i=t(this.context.mobxStores||{},n,this.context)||{};for(var a in i)n[a]=i[a];return!((o=e).prototype&&o.prototype.render)||(n.ref=this.storeRef),Object(u.e)(e,n)}}]),r}(u.a);return o.displayName=r,Pt(o,e),o.wrappedComponent=e,Object.defineProperties(o,Yt),o}function Wt(t){return function(e,n){return t.forEach((function(t){if(!(t in n)){if(!(t in e))throw new Error("MobX injector: Store '"+t+"' is not available! Make sure it is provided by some Provider");n[t]=e[t]}})),n}}function Kt(){var t;if("function"==typeof arguments[0])return t=arguments[0],function(e){var n=Vt(t,e);return n.isMobxInjector=!1,(n=de(n)).isMobxInjector=!0,n};for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t=Wt(e),function(n){return Vt(t,n,e.join("-"))}}var $t=a.a||"$mobx",Zt=It("isUnmounted"),qt=!1,Qt=!1,Jt="undefined"!=typeof WeakMap?new WeakMap:void 0,te=new At,ee=It("skipRender"),ne=It("isForcingUpdate"),re=M((function(t,e){})).$$typeof;function oe(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}function ie(t){if(nt)try{return nt(t)}catch(e){return null}return null}function ae(t){var e=ie(t);e&&Jt&&Jt.set(e,t),te.emit({event:"render",renderTime:t.__$mobRenderEnd-t.__$mobRenderStart,totalTime:Date.now()-t.__$mobRenderStart,component:t,node:e})}var ue=new At;function ce(t,e){if(se(t,e))return!0;if("object"!==it(t)||null===t||"object"!==it(e)||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!hasOwnProperty.call(e,n[o])||!se(t[n[o]],e[n[o]]))return!1;return!0}function se(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function le(t){var e=this;function n(){var t=this;c=!1;var e=void 0,n=void 0;if(s.track((function(){qt&&(t.__$mobRenderStart=Date.now());try{n=Object(a.d)(!1,i)}catch(r){e=r}qt&&(t.__$mobRenderEnd=Date.now())})),e)throw ue.emit(e),e;return n}var r=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",o=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;oe(this,ee,!1),oe(this,ne,!1);var i=t.bind(this),c=!1,s=new a.c("".concat(r,"#").concat(o,".render()"),(function(){if(!c&&(c=!0,"function"==typeof e.componentWillReact&&e.componentWillReact(),!0!==e[Zt])){var t=!0;try{oe(e,ne,!0),e[ee]||u.a.prototype.forceUpdate.call(e),t=!1}finally{oe(e,ne,!1),t&&s.dispose()}}}));return s.reactComponent=this,n[$t]=s,this.render=n,n.call(this)}var fe={componentWillUnmount:function(){if(this.render[$t]&&this.render[$t].dispose(),this[Zt]=!0,qt){var t=ie(this);t&&Jt&&Jt.delete(t),te.emit({event:"destroy",component:this,node:t})}},componentDidMount:function(){qt&&ae(this)},componentDidUpdate:function(){qt&&ae(this)},shouldComponentUpdate:function(t,e){return this.state!==e||!ce(this.props,t)}};function pe(t,e){var n=It("reactProp_".concat(e,"_valueHolder")),r=It("reactProp_".concat(e,"_atomHolder"));function o(){return this[r]||oe(this,r,Object(a.m)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return o.call(this).reportObserved(),this[n]},set:function(t){this[ne]||ce(this[n],t)?oe(this,n,t):(oe(this,n,t),oe(this,ee,!0),o.call(this).reportChanged(),oe(this,ee,!1))}})}function de(t,e){if("string"==typeof t)throw new Error("Store names should be provided as array");if(Array.isArray(t))return Qt||(Qt=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),e?Kt.apply(null,t)(de(e)):function(e){return de(t,e)};var n=t;if(!0===n.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===A&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),re&&n.$$typeof===re){var r=n.render;if("function"!=typeof r)throw new Error("render property of ForwardRef was not a function");return M((function(){var t=arguments;return ot.createElement(he,null,(function(){return r.apply(void 0,t)}))}))}if(!("function"!=typeof n||n.prototype&&n.prototype.render||n.isReactClass||u.a.isPrototypeOf(n))){var o,i,a=de((i=o=function(t){function e(){return at(this,e),dt(this,ft(e).apply(this,arguments))}return lt(e,t),ct(e,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),e}(u.a),o.displayName=n.displayName||n.name,o.contextTypes=n.contextTypes,o.propTypes=n.propTypes,o.defaultProps=n.defaultProps,i));return Pt(a,n),a}if(!n)throw new Error("Please pass a valid component to 'observer'");var c,s=n.prototype||n;c=s,["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach((function(t){var e;Ft(c,e=t,fe[e])})),c.shouldComponentUpdate?c.shouldComponentUpdate!==fe.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):c.shouldComponentUpdate=fe.shouldComponentUpdate,n.isMobXReactObserver=!0,pe(s,"props"),pe(s,"state");var l=s.render;return s.render=function(){return le.call(this,l)},n}var he=de((function(t){var e=t.children,n=t.inject,r=t.render,o=e||r;if(void 0===o)return null;if(!n)return o();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var i=Kt(n)(o);return ot.createElement(i,null)}));he.displayName="Observer";var ye=function(t,e,n,r,o){var i="children"===e?"render":"children";return"function"==typeof t[e]&&"function"==typeof t[i]?new Error("Invalid prop,do not use children and render in the same time in`"+n):"function"!=typeof t[e]&&"function"!=typeof t[i]?new Error("Invalid prop `"+o+"` of type `"+it(t[e])+"` supplied to `"+n+"`, expected `function`."):void 0};function ve(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=t&&this.setState(t)}function be(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!=n?n:null}.bind(this))}function ge(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}he.propTypes={render:ye,children:ye},ve.__suppressDeprecationWarning=!0,be.__suppressDeprecationWarning=!0,ge.__suppressDeprecationWarning=!0;var me={children:!0,key:!0,ref:!0},Oe=function(t){function e(t,n){var r;return at(this,e),(r=dt(this,ft(e).call(this,t,n))).state={},_e(t,r.state),r}return lt(e,t),ct(e,[{key:"render",value:function(){return N.only(this.props.children)}},{key:"getChildContext",value:function(){var t={};return _e(this.context.mobxStores,t),_e(this.props,t),{mobxStores:t}}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(!t)return null;if(!e)return t;if(Object.keys(t).filter(we).length!==Object.keys(e).filter(we).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!t.suppressChangedStoreWarning)for(var n in t)we(n)&&e[n]!==t[n]&&console.warn("MobX Provider: Provided store '"+n+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return t}}]),e}(u.a);function _e(t,e){if(t)for(var n in t)we(n)&&(e[n]=t[n])}function we(t){return!me[t]&&"suppressChangedStoreWarning"!==t}if(Oe.contextTypes={mobxStores:Nt},Oe.childContextTypes={mobxStores:Nt.isRequired},function(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var n=null,r=null,o=null;if("function"==typeof e.componentWillMount?n="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?o="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=t.displayName||t.name,a="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=ve,e.componentWillReceiveProps=be),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=ge;var u=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,t,e,r)}}}(Oe),It("disposeOnUnmount"),!u.a)throw new Error("mobx-react requires React to be available");if(!a.F)throw new Error("mobx-react requires mobx to be available");if(Object(a.l)({reactionScheduler:rt}),"object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":it(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var xe={spy:a.F,extras:{getDebugName:a.r}},je={renderReporter:te,componentByNodeRegistry:Jt,componentByNodeRegistery:Jt,trackComponents:function(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");qt||(qt=!0)}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(je,xe)}},function(t,e,n){function r(t,e){return e*Math.round(t/e)||t}function o(t,e){return t%e}n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}))},function(t,e,n){n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r=function(t,e,n,r){var o=(e.y-t.y)*(r.x-n.x)-(t.x-e.x)*(n.y-r.y);if(0===o)return!1;var i=((e.x-t.x)*(r.x-n.x)*(n.y-t.y)+(e.y-t.y)*(r.x-n.x)*t.x-(r.y-n.y)*(e.x-t.x)*n.x)/o,a=-((e.y-t.y)*(r.y-n.y)*(n.x-t.x)+(e.x-t.x)*(r.y-n.y)*t.y-(r.x-n.x)*(e.y-t.y)*n.y)/o;return(i-t.x)*(i-e.x)<=0&&(a-t.y)*(a-e.y)<=0&&(i-n.x)*(i-r.x)<=0&&(a-n.y)*(a-r.y)<=0&&{x:i,y:a}},o=function(t,e,n){var r=t.x,o=t.y;return(r-e.x)*(r-n.x)<=0&&(o-e.y)*(o-n.y)<=0}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(29),o=n(10),i=n(30),a=Object.defineProperty,u={},c=function(t){throw t};t.exports=function(t,e){if(i(u,t))return u[t];e||(e={});var n=[][t],s=!!i(e,"ACCESSORS")&&e.ACCESSORS,l=i(e,0)?e[0]:c,f=i(e,1)?e[1]:void 0;return u[t]=!!n&&!o((function(){if(s&&!r)return!0;var t={length:-1};s?a(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,l,f)}))}},function(t,e,n){var r=n(75),o=n(144),i=n(90),a=n(98),u=n(146),c=a.set,s=a.getterFor("Array Iterator");t.exports=u(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=s(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var r=n(151),o=n(51),i=n(216);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){var r=n(7),o=n(109);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e,n){(function(t){var r=n(11),o=n(195),i=y&&!y.nodeType&&y,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i?r.a.Buffer:void 0,c=(u?u.isBuffer:void 0)||o.a;e.a=c}).call(this,n(153)(t))},function(t,e,n){n.d(e,"a",(function(){return a}));var r=n(1);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){var e=t.x,n=void 0===e?0:e,a=t.y,u=void 0===a?0:a,c=t.r,s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({cx:n,cy:u,r:void 0===c?4:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape"},t);return Object(r.g)("circle",s)}},function(t,e,n){var r=n(27),o=Object(r.a)(Object,"create"),i=function(){this.__data__=o?o(null):{},this.size=0},a=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},u=Object.prototype.hasOwnProperty,c=function(t){var e=this.__data__;if(o){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return u.call(e,t)?e[t]:void 0},s=Object.prototype.hasOwnProperty,l=function(t){var e=this.__data__;return o?void 0!==e[t]:s.call(e,t)},f=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=o&&void 0===e?"__lodash_hash_undefined__":e,this};function p(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}p.prototype.clear=i,p.prototype.delete=a,p.prototype.get=c,p.prototype.has=l,p.prototype.set=f;var d=p,h=n(59),y=n(61),v=function(){this.size=0,this.__data__={hash:new d,map:new(y.a||h.a),string:new d}},b=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},g=function(t,e){var n=t.__data__;return b(e)?n["string"==typeof e?"string":"hash"]:n.map},m=function(t){var e=g(this,t).delete(t);return this.size-=e?1:0,e},O=function(t){return g(this,t).get(t)},_=function(t){return g(this,t).has(t)},w=function(t,e){var n=g(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function x(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}x.prototype.clear=v,x.prototype.delete=m,x.prototype.get=O,x.prototype.has=_,x.prototype.set=w,e.a=x},function(t,e,n){var r=n(89),o=n(45);t.exports=function(t){return r(o(t))}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(19),o=n(184),i=n(69),a=n(46),u=n(17),c=u("iterator"),s=u("toStringTag"),l=i.values;for(var f in o){var p=r[f],d=p&&p.prototype;if(d){if(d[c]!==l)try{a(d,c,l)}catch(y){d[c]=l}if(d[s]||a(d,s,f),o[f])for(var h in i)if(d[h]!==i[h])try{a(d,h,i[h])}catch(y){d[h]=i[h]}}}},function(t,e,n){e.a=function(t){return t}},function(t,e,n){e.a=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){e.a=function(t){return function(e){return t(e)}}},function(t,e,n){e.a=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(60),o=n(42);e.a=function(t,e){for(var n=0,i=(e=Object(r.a)(e,t)).length;null!=t&&n<i;)t=t[Object(o.a)(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){var r=n(8),o=n(58),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.a=function(t,e){if(Object(r.a)(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Object(o.a)(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},function(t,e,n){var r=n(63),o=n(74),i=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},a=function(t){return this.__data__.has(t)};function u(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new o.a;++e<n;)this.add(t[e])}u.prototype.add=u.prototype.push=i,u.prototype.has=a;var c=u,s=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},l=function(t,e){return t.has(e)},f=function(t,e,n,r,o,i){var a=1&n,u=t.length,f=e.length;if(u!=f&&!(a&&f>u))return!1;var p=i.get(t),d=i.get(e);if(p&&d)return p==e&&d==t;var h=-1,y=!0,v=2&n?new c:void 0;for(i.set(t,e),i.set(e,t);++h<u;){var b=t[h],g=e[h];if(r)var m=a?r(g,b,h,e,t,i):r(b,g,h,t,e,i);if(void 0!==m){if(m)continue;y=!1;break}if(v){if(!s(e,(function(t,e){if(!l(v,e)&&(b===t||o(b,t,n,r,i)))return v.push(e)}))){y=!1;break}}else if(b!==g&&!o(b,g,n,r,i)){y=!1;break}}return i.delete(t),i.delete(e),y},p=n(16),d=n(88),h=n(55),y=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},v=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},b=p.a?p.a.prototype:void 0,g=b?b.valueOf:void 0,m=function(t,e,n,r,o,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new d.a(t),new d.a(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(h.a)(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=y;case"[object Set]":var c=1&r;if(u||(u=v),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=2,a.set(t,e);var l=f(u(t),u(e),r,o,i,a);return a.delete(t),l;case"[object Symbol]":if(g)return g.call(t)==g.call(e)}return!1},O=n(94),_=Object.prototype.hasOwnProperty,w=function(t,e,n,r,o,i){var a=1&n,u=Object(O.a)(t),c=u.length;if(c!=Object(O.a)(e).length&&!a)return!1;for(var s=c;s--;){var l=u[s];if(!(a?l in e:_.call(e,l)))return!1}var f=i.get(t),p=i.get(e);if(f&&p)return f==e&&p==t;var d=!0;i.set(t,e),i.set(e,t);for(var h=a;++s<c;){var y=t[l=u[s]],v=e[l];if(r)var b=a?r(v,y,l,e,t,i):r(y,v,l,t,e,i);if(!(void 0===b?y===v||o(y,v,n,r,i):b)){d=!1;break}h||(h="constructor"==l)}if(d&&!h){var g=t.constructor,m=e.constructor;g==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m||(d=!1)}return i.delete(t),i.delete(e),d},x=n(47),j=n(8),E=n(72),S=n(129),P="[object Object]",A=Object.prototype.hasOwnProperty,k=function(t,e,n,o,i,a){var u=Object(j.a)(t),c=Object(j.a)(e),s=u?"[object Array]":Object(x.a)(t),l=c?"[object Array]":Object(x.a)(e),p=(s="[object Arguments]"==s?P:s)==P,d=(l="[object Arguments]"==l?P:l)==P,h=s==l;if(h&&Object(E.a)(t)){if(!Object(E.a)(e))return!1;u=!0,p=!1}if(h&&!p)return a||(a=new r.a),u||Object(S.a)(t)?f(t,e,n,o,i,a):m(t,e,s,n,o,i,a);if(!(1&n)){var y=p&&A.call(t,"__wrapped__"),v=d&&A.call(e,"__wrapped__");if(y||v){var b=y?t.value():t,g=v?e.value():e;return a||(a=new r.a),i(b,g,n,o,a)}}return!!h&&(a||(a=new r.a),w(t,e,n,o,i,a))},D=n(24);e.a=function t(e,n,r,o,i){return e===n||(null==e||null==n||!Object(D.a)(e)&&!Object(D.a)(n)?e!=e&&n!=n:k(e,n,r,o,t,i))}},function(t,e,n){var r=n(39),o=n(24),i=function(t){return Object(o.a)(t)&&"[object Arguments]"==Object(r.a)(t)},a=Object.prototype,u=a.hasOwnProperty,c=a.propertyIsEnumerable,s=i(function(){return arguments}())?i:function(t){return Object(o.a)(t)&&u.call(t,"callee")&&!c.call(t,"callee")};e.a=s},function(t,e,n){var r=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i},o=n(125),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return i.call(t,e)})))}:o.a;e.a=u},function(t,e,n){var r=n(27),o=function(){try{var t=Object(r.a)(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();e.a=o},function(t,e,n){var r=n(11).a.Uint8Array;e.a=r},function(t,e,n){var r=n(10),o=n(67),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e){t.exports={}},function(t,e,n){var r=n(29),o=n(19),i=n(140),a=n(51),u=n(30),c=n(67),s=n(182),l=n(97),f=n(10),p=n(104),d=n(165).f,h=n(95).f,y=n(35).f,v=n(222).trim,b=o.Number,g=b.prototype,m="Number"==c(p(g)),O=function(t){var e,n,r,o,i,a,u,c,s=l(t,!1);if("string"==typeof s&&s.length>2)if(43===(e=(s=v(s)).charCodeAt(0))||45===e){if(88===(n=s.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(s.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+s}for(a=(i=s.slice(2)).length,u=0;u<a;u++)if((c=i.charCodeAt(u))<48||c>o)return NaN;return parseInt(i,r)}return+s};if(i("Number",!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var _,w=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof w&&(m?f((function(){g.valueOf.call(n)})):"Number"!=c(n))?s(new b(O(e)),n,w):O(e)},x=r?d(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),j=0;x.length>j;j++)u(b,_=x[j])&&!u(w,_)&&y(w,_,h(b,_));w.prototype=g,g.constructor=w,a(o,"Number",w)}},function(t,e,n){n(7)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return f})),n(13),n(14);var r=n(52),o=n(2);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,t);var e,n=c(r);function r(t,e){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(i=n.call(this,t,e,"line")).modelType=o.e.LINE_EDGE,i}return(e=[{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&a(r.prototype,e),r}(r.b)},function(t,e,n){var r=n(126),o=n(86),i=n(33);e.a=function(t){return Object(r.a)(t,i.a,o.a)}},function(t,e,n){var r=n(29),o=n(160),i=n(96),a=n(75),u=n(97),c=n(30),s=n(161),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=u(e,!0),s)try{return l(t,e)}catch(n){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(34);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r,o,i,a=n(200),u=n(19),c=n(34),s=n(46),l=n(30),f=n(134),p=n(135),d=n(99),h=u.WeakMap;if(a){var y=f.state||(f.state=new h),v=y.get,b=y.has,g=y.set;r=function(t,e){return e.facade=t,g.call(y,t,e),e},o=function(t){return v.call(y,t)||{}},i=function(t){return b.call(y,t)}}else{var m=p("state");d[m]=!0,r=function(t,e){return e.facade=t,s(t,m,e),e},o=function(t){return l(t,m)?t[m]:{}},i=function(t){return l(t,m)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e){t.exports={}},function(t,e,n){var r=n(203),o=n(19),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e,n){var r=n(102),o=n(89),i=n(37),a=n(36),u=n(142),c=[].push,s=function(t){var e=1==t,n=2==t,s=3==t,l=4==t,f=6==t,p=7==t,d=5==t||f;return function(h,y,v,b){for(var g,m,O=i(h),_=o(O),w=r(y,v,3),x=a(_.length),j=0,E=b||u,S=e?E(h,x):n||p?E(h,0):void 0;x>j;j++)if((d||j in _)&&(m=w(g=_[j],j,O),t))if(e)S[j]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return j;case 2:c.call(S,g)}else switch(t){case 4:return!1;case 7:c.call(S,g)}return f?-1:s||l?l:S}};t.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterOut:s(7)}},function(t,e,n){var r=n(141);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(10);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var r,o=n(26),i=n(205),a=n(139),u=n(99),c=n(206),s=n(162),l=n(135)("IE_PROTO"),f=function(){},p=function(t){return"<script>"+t+"<\/script>"},d=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(o){}var t,e;d=r?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=s("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete d.prototype[a[n]];return d()};u[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=o(t),n=new f,f.prototype=null,n[l]=t):n=d(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(10),o=n(17),i=n(150),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){var r=n(211),o=n(213);t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,e,n){var r=n(183).charAt,o=n(98),i=n(146),a=o.set,u=o.getterFor("String Iterator");i(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=u(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(7),o=n(138),i=n(76),a=n(36),u=n(37),c=n(142),s=n(152),l=n(105),f=n(68),p=l("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,y=Math.min;r({target:"Array",proto:!0,forced:!p||!d},{splice:function(t,e){var n,r,l,f,p,d,v=u(this),b=a(v.length),g=o(t,b),m=arguments.length;if(0===m?n=r=0:1===m?(n=0,r=b-g):(n=m-2,r=y(h(i(e),0),b-g)),b+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=c(v,r),f=0;f<r;f++)(p=g+f)in v&&s(l,f,v[p]);if(l.length=r,n<r){for(f=g;f<b-r;f++)d=f+n,(p=f+r)in v?v[d]=v[p]:delete v[d];for(f=b;f>b-r+n;f--)delete v[f-1]}else if(n>r)for(f=b-r;f>g;f--)d=f+n-1,(p=f+r-1)in v?v[d]=v[p]:delete v[d];for(f=0;f<n;f++)v[f+g]=arguments[f+2];return v.length=b-r+n,l}})},function(t,e,n){var r,o,i=n(186),a=n(224),u=RegExp.prototype.exec,c=String.prototype.replace,s=u,l=(r=/a/,o=/b*/g,u.call(r,"a"),u.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),f=a.UNSUPPORTED_Y||a.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(l||p||f)&&(s=function(t){var e,n,r,o,a=this,s=f&&a.sticky,d=i.call(a),h=a.source,y=0,v=t;return s&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),v=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(h="(?: "+h+")",v=" "+v,y++),n=new RegExp("^(?:"+h+")",d)),p&&(n=new RegExp("^"+h+"$(?!\\s)",d)),l&&(e=a.lastIndex),r=u.call(s?n:a,v),s?r?(r.input=r.input.slice(y),r[0]=r[0].slice(y),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:l&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),p&&r&&r.length>1&&c.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=s},function(t,e,n){var r=n(154),o=n(225),i=n(26),a=n(45),u=n(226),c=n(155),s=n(36),l=n(156),f=n(109),p=n(10),d=[].push,h=Math.min,y=!p((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!o(t))return e.call(r,t,i);for(var u,c,s,l=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,y=new RegExp(t.source,p+"g");(u=f.call(y,r))&&!((c=y.lastIndex)>h&&(l.push(r.slice(h,u.index)),u.length>1&&u.index<r.length&&d.apply(l,u.slice(1)),s=u[0].length,h=c,l.length>=i));)y.lastIndex===u.index&&y.lastIndex++;return h===r.length?!s&&y.test("")||l.push(""):l.push(r.slice(h)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,n):r.call(String(o),e,n)},function(t,o){var a=n(r,t,this,o,r!==e);if(a.done)return a.value;var f=i(t),p=String(this),d=u(f,RegExp),v=f.unicode,b=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(y?"y":"g"),g=new d(y?f:"^(?:"+f.source+")",b),m=void 0===o?4294967295:o>>>0;if(0===m)return[];if(0===p.length)return null===l(g,p)?[p]:[];for(var O=0,_=0,w=[];_<p.length;){g.lastIndex=y?_:0;var x,j=l(g,y?p:p.slice(_));if(null===j||(x=h(s(g.lastIndex+(y?0:_)),p.length))===O)_=c(p,_,v);else{if(w.push(p.slice(O,_)),w.length===m)return w;for(var E=1;E<=j.length-1;E++)if(w.push(j[E]),w.length===m)return w;_=O=x}}return w.push(p.slice(O)),w}]}),!y)},function(t,e,n){var r=n(7),o=n(89),i=n(75),a=n(103),u=[].join,c=o!=Object,s=a("join",",");r({target:"Array",proto:!0,forced:c||!s},{join:function(t){return u.call(i(this),void 0===t?",":t)}})},function(t,e,n){n.d(e,"b",(function(){return x})),n.d(e,"a",(function(){return x})),n(69),n(23),n(70),n(77);var r,o,i,a,u,c,s,l,f,p,d,h,y,v=n(0),b=n(28),g=n(44);function m(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var w={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustNodePosition:!1,hideAnchors:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1,metaKeyMultipleSelected:!1},x=(o=_((r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,"stopZoomGraph",o,this),m(this,"stopScrollGraph",i,this),m(this,"stopMoveGraph",a,this),m(this,"adjustEdge",u,this),m(this,"adjustNodePosition",c,this),m(this,"hideAnchors",s,this),m(this,"hoverOutline",l,this),m(this,"nodeTextEdit",f,this),m(this,"edgeTextEdit",p,this),m(this,"nodeTextDraggable",d,this),m(this,"edgeTextDraggable",h,this),m(this,"metaKeyMultipleSelected",y,this),this.extraConf={},this.keys=void 0,this.keys=["stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustNodePosition","hideAnchors","hoverOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","metaKeyMultipleSelected","extraConf"];var n=e.isSilentMode,r=e.textEdit;n?Object(b.a)(this,Object(g.a)(w,this.keys),Object(g.a)(e,["stopZoomGraph","stopScrollGraph","stopMoveGraph","hideAnchors","hoverOutline","extraConf"])):r?Object(b.a)(this,Object(g.a)(e,this.keys)):Object(b.a)(this,Object(g.a)(e,this.keys),{nodeTextEdit:!1,edgeTextEdit:!1})}var e;return(e=[{key:"updateEditConfig",value:function(t){Object(b.a)(this,Object(g.a)(t,this.keys))}},{key:"getConfig",value:function(){return Object(g.a)(this,this.keys)}}])&&O(t.prototype,e),t}()).prototype,"stopZoomGraph",[v.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=_(r.prototype,"stopScrollGraph",[v.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=_(r.prototype,"stopMoveGraph",[v.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=_(r.prototype,"adjustEdge",[v.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),c=_(r.prototype,"adjustNodePosition",[v.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),s=_(r.prototype,"hideAnchors",[v.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=_(r.prototype,"hoverOutline",[v.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=_(r.prototype,"nodeTextEdit",[v.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=_(r.prototype,"edgeTextEdit",[v.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=_(r.prototype,"nodeTextDraggable",[v.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=_(r.prototype,"edgeTextDraggable",[v.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=_(r.prototype,"metaKeyMultipleSelected",[v.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_(r.prototype,"updateEditConfig",[v.i],Object.getOwnPropertyDescriptor(r.prototype,"updateEditConfig"),r.prototype),r)},function(t,e,n){n.d(e,"a",(function(){return b})),n(23);var r,o,i,a,u,c,s,l,f=n(0);function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var b=(o=v((r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.MINI_SCALE_SIZE=.2,this.MAX_SCALE_SIZE=16,h(this,"SCALE_X",o,this),h(this,"SKEW_Y",i,this),h(this,"SKEW_X",a,this),h(this,"SCALE_Y",u,this),h(this,"TRANSLATE_X",c,this),h(this,"TRANSLATE_Y",s,this),h(this,"ZOOM_SIZE",l,this)}var e;return(e=[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var e=p(t,2),n=e[0],r=e[1];return[(n-this.TRANSLATE_X)/this.SCALE_X,(r-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var e=p(t,2),n=e[0],r=e[1];return[n*this.SCALE_X+this.TRANSLATE_X,r*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,e,n){var r=p(t,2),o=r[0],i=r[1];return[o+e/this.SCALE_X,i+n/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,e){return[t/this.SCALE_X,e/this.SCALE_Y]}},{key:"zoom",value:function(){var t=arguments.length>1?arguments[1]:void 0,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.ZOOM_SIZE:-this.ZOOM_SIZE;return!(e<0&&this.SCALE_X<=this.MINI_SCALE_SIZE||e>0&&this.SCALE_X>=this.MAX_SCALE_SIZE||(this.SCALE_X+=e,this.SCALE_Y+=e,t&&(this.TRANSLATE_X-=e*t[0],this.TRANSLATE_Y-=e*t[1]),0))}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1}},{key:"translate",value:function(t,e){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=e}},{key:"focusOn",value:function(t,e,n,r){var o=p(this.CanvasPointToHtmlPoint([t,e]),2),i=n/2-o[0],a=r/2-o[1];this.TRANSLATE_X+=i,this.TRANSLATE_Y+=a}}])&&y(t.prototype,e),t}()).prototype,"SCALE_X",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),i=v(r.prototype,"SKEW_Y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),a=v(r.prototype,"SKEW_X",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=v(r.prototype,"SCALE_Y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),c=v(r.prototype,"TRANSLATE_X",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=v(r.prototype,"TRANSLATE_Y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=v(r.prototype,"ZOOM_SIZE",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),v(r.prototype,"zoom",[f.i],Object.getOwnPropertyDescriptor(r.prototype,"zoom"),r.prototype),v(r.prototype,"resetZoom",[f.i],Object.getOwnPropertyDescriptor(r.prototype,"resetZoom"),r.prototype),v(r.prototype,"translate",[f.i],Object.getOwnPropertyDescriptor(r.prototype,"translate"),r.prototype),v(r.prototype,"focusOn",[f.i],Object.getOwnPropertyDescriptor(r.prototype,"focusOn"),r.prototype),r)},function(t,e,n){n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return w})),n(31),n(21),n(111),n(38),n(108),n(189),n(23),n(22);var r,o,i,a=n(0),u=n(2),c=n(9),s=n(3),l=n(4);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O(t);if(e){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?m(t):e}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var w=(i=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(r,t);var e,n=b(r);function r(t,e){var i,a,s,l,f;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(i=n.call(this,t,e,"polyline")).modelType=u.e.POLYLINE_EDGE,i.offset=c.a.polyline.offset,i.draginngPointList=void 0,a=i,s="dbClickPosition",l=o,f=m(i),l&&Object.defineProperty(a,s,{enumerable:l.enumerable,configurable:l.configurable,writable:l.writable,value:l.initializer?l.initializer.call(f):void 0}),i}return(e=[{key:"getTextPosition",value:function(){var t,e=null===(t=this.text)||void 0===t?void 0:t.value;if(this.dbClickPosition&&!e){var n=this.dbClickPosition;return{x:n.x,y:n.y}}var r=Object(l.n)(this.points),o=p(Object(l.i)(r),2),i=o[0],a=o[1];return{x:(i.x+a.x)/2,y:(i.y+a.y)/2}}},{key:"getAfterAnchor",value:function(t,e,n){var r,o;return n.forEach((function(n){var i;t===u.f.HORIZONTAL?i=Math.abs(e.y-n.y):t===u.f.VERTICAL&&(i=Math.abs(e.x-n.x)),(!o||o>i)&&(o=i,r=n)})),r}},{key:"getCorssPoint",value:function(t,e,n){var r;return t===u.f.HORIZONTAL?r={x:n.x,y:e.y}:t===u.f.VERTICAL&&(r={x:e.x,y:n.y}),r}},{key:"removeCrossPoints",value:function(t,e,n){var r=n.map((function(t){return t}));if(1===t){var o=r[t],i=r[e],a=r[t-1];if(Object(l.l)(a,o,this.sourceNode)){if(Object(l.k)(o,i,this.sourceNode)){var u=Object(l.g)(o,i,this.sourceNode);u&&(r[t]=u,r.splice(t-1,1),t--,e--)}}else this.sourceNode.anchors.forEach((function(e){(e.x===a.x&&e.x===o.x||e.y===a.y&&e.y===o.y)&&Object(s.a)(e.x,e.y,o.x,o.y)<Object(s.a)(a.x,a.y,o.x,o.y)&&(r[t-1]=e)}))}if(e===n.length-2){var c=r[t],f=r[e],p=r[e+1];if(Object(l.l)(f,p,this.targetNode)){if(Object(l.k)(c,f,this.targetNode)){var d=Object(l.g)(c,f,this.targetNode);d&&(r[e]=d,r.splice(e+1,1))}}else this.targetNode.anchors.forEach((function(t){(t.x===p.x&&t.x===f.x||t.y===p.y&&t.y===f.y)&&Object(s.a)(t.x,t.y,f.x,f.y)<Object(s.a)(p.x,p.y,f.x,f.y)&&(r[e+1]=t)}))}return r}},{key:"getDragingPoints",value:function(t,e,n,r,o){var i=o.map((function(t){return t})),a=this.getAfterAnchor(t,n,r),u=this.getCorssPoint(t,n,a);return"start"===e?(i.unshift(u),i.unshift(a)):(i.push(u),i.push(a)),i}},{key:"updateCrossPoints",value:function(t){var e=t.map((function(t){return t})),n=t[0],r=t[1],o=t[e.length-2],i=t[e.length-1],a=this.sourceNode,c=this.targetNode,f=a.modelType,p=c.modelType,d=Object(l.p)(n,r),h=e[0];switch(f){case u.e.RECT_NODE:0!==a.radius&&(Object(s.k)(n,a)||(h=Object(s.c)(n,d,a)));break;case u.e.CIRCLE_NODE:h=Object(s.d)(n,d,a);break;case u.e.ELLIPSE_NODE:h=Object(s.e)(n,d,a);break;case u.e.DIAMOND_NODE:case u.e.POLYGON_NODE:h=Object(s.f)(n,d,a)}e[0]=h;var y=Object(l.p)(o,i),v=e[e.length-1];switch(p){case u.e.RECT_NODE:0!==c.radius&&(Object(s.k)(i,c)||(v=Object(s.c)(i,y,c)));break;case u.e.CIRCLE_NODE:v=Object(s.d)(i,y,c);break;case u.e.ELLIPSE_NODE:v=Object(s.e)(i,y,c);break;case u.e.DIAMOND_NODE:case u.e.POLYGON_NODE:v=Object(s.f)(i,y,c)}return e[e.length-1]=v,e}},{key:"getData",value:function(){var t=y(O(r.prototype),"getData",this).call(this),e=this.pointsList.map((function(t){return{x:t.x,y:t.y}}));return Object.assign({},t,{pointsList:e})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var t=Object(l.j)({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=t,this.points=t.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"updateStartPoint",value:function(t){this.startPoint=t,this.updatePoints()}},{key:"updateEndPoint",value:function(t){this.endPoint=t,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map((function(t){return t}))}},{key:"dragAppend",value:function(t,e){var n=t.start,r=t.end,o=t.startIndex,i=t.endIndex,a=t.direction,c=this.pointsList;if(a===u.f.HORIZONTAL){c[o]={x:n.x,y:n.y+e.y},c[i]={x:r.x,y:r.y+e.y};var f=this.pointsList.map((function(t){return t}));if(0!==o&&i!==this.pointsList.length-1&&(f=this.removeCrossPoints(o,i,f)),0===o){var p={x:n.x,y:n.y+e.y};if(!Object(s.l)(p,this.sourceNode)){var d=this.sourceNode.anchors;f=this.getDragingPoints(a,"start",p,d,f)}}if(i===this.pointsList.length-1){var h={x:r.x,y:r.y+e.y};if(!Object(s.l)(h,this.targetNode)){var y=this.targetNode.anchors;f=this.getDragingPoints(a,"end",h,y,f)}}f=Object(l.o)(f),this.updatePointsAfterDrage(f),this.draginngPointList=f}else if(a===u.f.VERTICAL){c[o]={x:n.x+e.x,y:n.y},c[i]={x:r.x+e.x,y:r.y};var v=this.pointsList.map((function(t){return t}));if(0!==o&&i!==this.pointsList.length-1&&(v=this.removeCrossPoints(o,i,v)),0===o){var b={x:n.x+e.x,y:n.y};if(!Object(s.l)(b,this.sourceNode)){var g=this.sourceNode.anchors;v=this.getDragingPoints(a,"start",b,g,v)}}if(i===this.pointsList.length-1){var m={x:r.x+e.x,y:r.y};if(!Object(s.l)(m,this.targetNode)){var O=this.targetNode.anchors;v=this.getDragingPoints(a,"end",m,O,v)}}v=Object(l.o)(v),this.updatePointsAfterDrage(v),this.draginngPointList=v}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},c[o]),end:Object.assign({},c[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var t=Object(l.n)(this.points);this.pointsList=t.map((function(t){return t})),this.draginngPointList=[];var e=t[0];this.startPoint=Object.assign({},e);var n=t[t.length-1];this.endPoint=Object.assign({},n)}}},{key:"updatePointsAfterDrage",value:function(t){var e=this.updateCrossPoints(t);this.points=e.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}}])&&h(r.prototype,e),r}(n(52).b),o=_((r=i).prototype,"dbClickPosition",[a.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_(r.prototype,"initPoints",[a.i],Object.getOwnPropertyDescriptor(r.prototype,"initPoints"),r.prototype),_(r.prototype,"updatePoints",[a.i],Object.getOwnPropertyDescriptor(r.prototype,"updatePoints"),r.prototype),_(r.prototype,"updateStartPoint",[a.i],Object.getOwnPropertyDescriptor(r.prototype,"updateStartPoint"),r.prototype),_(r.prototype,"updateEndPoint",[a.i],Object.getOwnPropertyDescriptor(r.prototype,"updateEndPoint"),r.prototype),_(r.prototype,"dragAppendStart",[a.i],Object.getOwnPropertyDescriptor(r.prototype,"dragAppendStart"),r.prototype),_(r.prototype,"dragAppend",[a.i],Object.getOwnPropertyDescriptor(r.prototype,"dragAppend"),r.prototype),_(r.prototype,"dragAppendEnd",[a.i],Object.getOwnPropertyDescriptor(r.prototype,"dragAppendEnd"),r.prototype),_(r.prototype,"updatePointsAfterDrage",[a.i],Object.getOwnPropertyDescriptor(r.prototype,"updatePointsAfterDrage"),r.prototype),r)},function(t,e,n){n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i}));var r=n(28);function o(t){var e=t.container,n=t.grid;if(!e)throw new Error("请检查 container 参数是否有效");return n&&(t.grid=Object(r.a)({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Object(r.a)({},i,t)}var i={background:!1,grid:!1,textEdit:!0}},function(t,e,n){n.d(e,"b",(function(){return v})),n.d(e,"a",(function(){return v})),n(23);var r,o,i,a,u=n(0),c=n(28),s=n(9),l=n(3);function f(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function h(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var y=s.a.snapline,v=(o=h((r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.graphModel=void 0,f(this,"isShowHorizontal",o,this),f(this,"isShowVertical",i,this),f(this,"position",a,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=e}return d(t,[{key:"stroke",get:function(){return this.graphModel.theme.snapline.stroke||y.stroke}},{key:"strokeWidth",get:function(){return this.graphModel.theme.snapline.strokeWidth||y.strokeWidth}}]),d(t,[{key:"getCenterSnapLine",value:function(t,e){for(var n=t.x,r=t.y,o=!1,i=!1,a=0;a<e.length;a++){var u=e[a];if(u.id!==t.id&&(n===u.x&&(o=!0),r===u.y&&(i=!0),o&&i))break}return{isShowVertical:o,isShowHorizontal:i,position:{x:n,y:r}}}},{key:"getHorizontalSnapline",value:function(t,e){var n,r,o=!1,i=t.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=Object(l.i)(a);else{var u=this.graphModel.getNodeModel(i);r=Object(l.i)(u)}}for(var s=0;s<e.length;s++){var f=e[s];if(f.id!==t.id){var p=Object(l.i)(f);if(p.minY===r.minY||p.maxY===r.minY){o=!0,n=r.minY;break}if(p.minY===r.maxY||p.maxY===r.maxY){o=!0,n=r.maxY;break}}}return Object(c.a)({isShowHorizontal:o,position:{y:n}})}},{key:"getVerticalSnapline",value:function(t,e){var n,r,o=!1,i=t.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=Object(l.i)(a);else{var u=this.graphModel.getNodeModel(i);r=Object(l.i)(u)}}for(var s=0;s<e.length;s++){var f=e[s];if(f.id!==t.id){var p=Object(l.i)(f);if(p.minX===r.minX||p.maxX===r.minX){o=!0,n=r.minX;break}if(p.minX===r.maxX||p.maxX===r.maxX){o=!0,n=r.maxX;break}}}return Object(c.a)({isShowVertical:o,position:{x:n}})}},{key:"getSnapLinePosition",value:function(t,e){var n=this.getCenterSnapLine(t,e),r=n.isShowHorizontal,o=n.isShowVertical;if(!r){var i=this.getHorizontalSnapline(t,e);i.isShowHorizontal&&(n.isShowHorizontal=i.isShowHorizontal,n.position.y=i.position.y)}if(!o){var a=this.getVerticalSnapline(t,e);a.isShowVertical&&(n.isShowVertical=a.isShowVertical,n.position.x=a.position.x)}return n}},{key:"setSnaplineInfo",value:function(t){var e=t.isShowHorizontal,n=t.isShowVertical,r=t.position;this.position=r,this.isShowHorizontal=e,this.isShowVertical=n}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var e=this.graphModel.nodes,n=this.getSnapLinePosition(t,e);this.setSnaplineInfo(n)}}]),t}()).prototype,"isShowHorizontal",[u.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=h(r.prototype,"isShowVertical",[u.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=h(r.prototype,"position",[u.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(r.prototype,"stroke",[u.k],Object.getOwnPropertyDescriptor(r.prototype,"stroke"),r.prototype),h(r.prototype,"strokeWidth",[u.k],Object.getOwnPropertyDescriptor(r.prototype,"strokeWidth"),r.prototype),h(r.prototype,"clearSnapline",[u.i],Object.getOwnPropertyDescriptor(r.prototype,"clearSnapline"),r.prototype),h(r.prototype,"setNodeSnapLine",[u.i],Object.getOwnPropertyDescriptor(r.prototype,"setNodeSnapLine"),r.prototype),r)},function(t,e,n){n.d(e,"a",(function(){return u})),n(21),n(69),n(38),n(70),n(71),n(188),n(22),n(77);var r=n(8),o=n(199),i=n.n(o);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mousetrap=void 0,this.options=void 0,this.target=void 0,e.keyboard||(e.keyboard={enabled:!1}),this.options=e;var n=e.lf;this.target=n.container,this.mousetrap=new i.a(this.target),e.keyboard.enabled&&this.enable(!0)}var e;return(e=[{key:"initShortcuts",value:function(){var t=this,e=this.options.keyboard.shortcuts;if(e)if(Object(r.a)(e))e.forEach((function(e){var n=e.keys,r=e.callback,o=e.action;return t.on(n,r,o)}));else{var n=e.keys,o=e.callback,i=e.action;this.on(n,o,i)}}},{key:"on",value:function(t,e,n){this.mousetrap.bind(this.getKeys(t),e,n)}},{key:"off",value:function(t,e){this.mousetrap.unbind(this.getKeys(t),e)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var e=this;return(Array.isArray(t)?t:[t]).map((function(t){return e.formatkey(t)}))}},{key:"formatkey",value:function(t){return t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}}])&&a(t.prototype,e),t}();e.b=u},function(t,e,n){n.d(e,"a",(function(){return ln})),n(21),n(143),n(69),n(38),n(210),n(106),n(70),n(107),n(22),n(77);var r=n(1),o=n(64),i=n(119),a=n(240),u=(n(13),n(14),n(2)),c=n(20);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(111);var b=n(15);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(){return(m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=j(t);if(e){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E,S,P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(o,t);var e,n=w(o);function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this)).stepDrag=void 0,e.stepScrollX=0,e.stepScrollY=0,e.onDraging=function(t){var n=t.deltaX,r=t.deltaY;e.setState({isDraging:!0});var o=e.props.graphModel,i=o.transformMatrix;o.editConfig.stopMoveGraph||(i.TRANSLATE_X+=n,i.TRANSLATE_Y+=r)},e.onDragEnd=function(){e.setState({isDraging:!1})},e.zoomHandler=function(t){var n=e.props,r=n.graphModel,o=r.editConfig,i=r.transformMatrix,a=r.gridSize,u=n.graphModel,c=t.deltaX,s=t.deltaY;if(o.stopScrollGraph||!0===t.ctrlKey){if(!o.stopZoomGraph){t.preventDefault();var l=u.getPointByClient({x:t.clientX,y:t.clientY}).canvasOverlayPosition,f=l.x,p=l.y;i.zoom(t.deltaY<0,[f,p])}}else{if(t.preventDefault(),e.stepScrollX+=c,e.stepScrollY+=s,Math.abs(e.stepScrollX)>=a){var d=e.stepScrollX%a,h=e.stepScrollX-d;i.TRANSLATE_X-=h*i.SCALE_X,e.stepScrollX=d}if(Math.abs(e.stepScrollY)>=a){var y=e.stepScrollY%a,v=e.stepScrollY-y;i.TRANSLATE_Y-=v*i.SCALE_Y,e.stepScrollY=y}}},e.clickHandler=function(t){if("canvas-overlay"===t.target.getAttribute("name")){var n=e.props,r=n.graphModel,o=n.eventCenter,i=r.textEditElement;r.selectElements.size>0&&r.clearSelectElements(),i&&i.setElementState(u.b.DEFAULT),o.emit(u.d.BLANK_CLICK,{e:t})}},e.handleContextMenu=function(t){if("canvas-overlay"===t.target.getAttribute("name")){t.preventDefault();var n=e.props,r=n.graphModel,o=n.eventCenter,i=r.getPointByClient({x:t.clientX,y:t.clientY});r.setElementState(u.b.SHOW_MENU,i.domOverlayPosition),o.emit(u.d.BLANK_CONTEXTMENU,{e:t,position:i})}},e.mouseDownHandler=function(t){var n=e.props,r=n.eventCenter,o=n.graphModel,i=o.editConfig,a=o.transformMatrix.SCALE_X,c=o.gridSize;i.stopMoveGraph?r.emit(u.d.BLANK_MOUSEDOWN,{e:t}):(e.stepDrag.setStep(c*a),e.stepDrag.handleMouseDown(t)),e.clickHandler(t)};var r=t.graphModel.gridSize,i=t.eventCenter;return e.stepDrag=new c.a({onDraging:e.onDraging,onDragEnd:e.onDragEnd,step:r,eventType:"BLANK",eventCenter:i,model:null}),e.state={isDraging:!1},e}return(e=[{key:"render",value:function(){var t=this.InjectedProps.transformStyle.transform,e=this.props,n=e.children,o=e.dnd,i=this.state.isDraging;return Object(r.g)("svg",m({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:i?"lf-dragging":"lf-drag-able"},o.eventMap()),Object(r.g)("g",{transform:t},n))}},{key:"InjectedProps",get:function(){return this.props}}])&&O(o.prototype,e),o}(r.a),A=Object(b.observer)((E=P,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(o,t);var e,n=h(o);function o(){return f(this,o),n.apply(this,arguments)}return(e=[{key:"getMatrixString",value:function(){var t=this.props.graphModel.transformMatrix,e=[t.SCALE_X,t.SKEW_Y,t.SKEW_X,t.SCALE_Y,t.TRANSLATE_X,t.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(e,")"),transformOrigin:"left top"}}},{key:"render",value:function(){return Object(r.g)(E,l({},this.props,{transformStyle:this.getMatrixString()}))}}])&&p(o.prototype,e),o}(r.a)));function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=R(t);if(e){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(31);var I=Object(b.observer)(S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(o,t);var e,n=N(o);function o(){var t;D(this,o);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(t=n.call.apply(n,[this].concat(r))).setToolOverlayRef=function(e){var n=t.props.tool.getInstance();n.components.forEach((function(t){return t(n,e)})),n.components=[]},t}return(e=[{key:"getTools",value:function(){var t=this.props,e=t.tool,n=t.graphModel,o=e.getTools().map((function(t){return Object(r.g)(t,{graphModel:n,logicFlow:e.instance})}));return e.components=o,o}},{key:"render",value:function(){return Object(r.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&M(o.prototype,e),o}(r.a))||S;function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H(t);if(e){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}function F(t,e){return!e||"object"!==L(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(231);var G,Y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(o,t);var e,n=X(o);function o(){return z(this,o),n.apply(this,arguments)}return(e=[{key:"getAttributes",value:function(){var t=this.props.background,e=t.image,n=void 0===e?"":e,r=t.color,o=void 0===r?"":r,i=t.repeat,a=void 0===i?"no-repeat":i,u=t.position,c=void 0===u?"center":u,s=t.size,l=void 0===s?"auto auto":s,f=t.opacity,p=void 0===f?1:f;return o?{color:o,opacity:p,image:"none"}:n?{image:"url(".concat(n,")"),repeat:a,position:c,size:l,opacity:p}:{}}},{key:"getShape",value:function(){var t=this.getAttributes(),e=t.image,n=t.color,o=t.repeat,i=t.size,a={backgroundImage:e,backgroundColor:n,backgroundRepeat:o,backgroundPosition:t.position,backgroundSize:i,opacity:t.opacity};return Object(r.g)("div",{style:a,className:"lf-background"})}},{key:"render",value:function(){return this.getShape()}}])&&B(o.prototype,e),o}(r.a),V=n(53);function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=J(t);if(e){var o=J(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q(this,n)}}function Q(t,e){return!e||"object"!==W(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tt=Object(b.observer)(G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(o,t);var e,n=q(o);function o(){var t;K(this,o);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(t=n.call.apply(n,[this].concat(r))).id=Object(V.a)(),t}return(e=[{key:"renderDot",value:function(){var t=this.props,e=t.config,n=e.color,o=e.thickness,i=void 0===o?2:o,a=t.size,u=t.visible,c=Math.min(Math.max(2,i),a/2),s=1;return u||(s=0),Object(r.g)("rect",{width:c,height:c,rx:c/2,ry:c/2,fill:n,opacity:s})}},{key:"renderMesh",value:function(){var t=this.props,e=t.config,n=e.color,o=e.thickness,i=void 0===o?1:o,a=t.size,u=t.visible,c=Math.min(Math.max(1,i),a/2),s="M ".concat(a," 0 H0 M0 0 V0 ").concat(a),l=1;return u||(l=0),Object(r.g)("path",{d:s,stroke:n,strokeWidth:c,opacity:l})}},{key:"render",value:function(){var t=this.props,e=t.type,n=t.size,o=t.graphModel.transformMatrix,i=[o.SCALE_X,o.SKEW_Y,o.SKEW_X,o.SCALE_Y,o.TRANSLATE_X,o.TRANSLATE_Y].join(","),a="matrix(".concat(i,")");return Object(r.g)("div",{className:"lf-grid"},Object(r.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(r.g)("defs",null,Object(r.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:a,x:"0",y:"0",width:n,height:n,style:{transition:"all 0.1s ease"}},"dot"===e&&this.renderDot(),"mesh"===e&&this.renderMesh())),Object(r.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&$(o.prototype,e),o}(r.a))||G;tt.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}};var et,nt=n(43);function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=st(t);if(e){var o=st(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(t,e){return!e||"object"!==rt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lt,ft=Object(b.observer)(et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(o,t);var e,n=ut(o);function o(){return ot(this,o),n.apply(this,arguments)}return(e=[{key:"render",value:function(){var t=this.props.snaplineModel,e=t.position,n=t.isShowHorizontal,o=t.isShowVertical,i=t.stroke,a=t.strokeWidth,u=e.x,c=void 0===u?0:u,s=e.y,l=void 0===s?0:s,f={x1:-1e5,y1:l,x2:1e5,y2:l,stroke:n?i:"none",strokeWidth:a},p={x1:c,y1:-1e5,x2:c,y2:1e5,stroke:o?i:"none",strokeWidth:a};return Object(r.g)("g",{className:"lf-snapline"},Object(r.g)(nt.a,f),Object(r.g)(nt.a,p))}}])&&it(o.prototype,e),o}(r.a))||et,pt=n(4),dt=n(49);function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(){return(yt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_t(t);if(e){var o=_t(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ot(this,n)}}function Ot(t,e){return!e||"object"!==ht(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wt,xt=Object(b.observer)(lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gt(t,e)}(o,t);var e,n=mt(o);function o(){return vt(this,o),n.apply(this,arguments)}return(e=[{key:"getNodeOutline",value:function(){for(var t=this.props.graphModel,e=t.nodes,n=t.editConfig.hoverOutline,o=[],i=0;i<e.length;i++){var a=e[i],u=a.isHovered,c=a.isSelected,s=a.x,l=a.y,f=a.width,p=a.height,d=a.outlineColor,h=a.hoverOutlineColor,y=a.outlineStrokeDashArray,v=a.hoverOutlineStrokeDashArray;if(c||n&&u){var b=c?d:h,g=c?y:v;o.push(Object(r.g)(dt.a,yt({className:"lf-outline-node"},{x:s,y:l,width:f+10,height:p+10},{radius:0,fill:"none",stroke:b,strokeDasharray:g})))}}return o}},{key:"getEdgeOutline",value:function(){for(var t=this.props.graphModel.edges,e=[],n=0;n<t.length;n++){var r=t[n];r.isSelected&&(r.modelType===u.e.LINE_EDGE?e.push(this.getLineOutline(r)):r.modelType===u.e.POLYLINE_EDGE?e.push(this.getPolylineOutline(r)):r.modelType===u.e.BEZIER_EDGE&&e.push(this.getBezierOutline(r)))}return e}},{key:"getLineOutline",value:function(t){var e=t.startPoint,n=t.endPoint,o=(e.x+n.x)/2,i=(e.y+n.y)/2,a=Math.abs(e.x-n.x)+10,u=Math.abs(e.y-n.y)+10,c=this.props.graphModel.theme.line,s=c.outlineColor,l=c.outlineStrokeDashArray;return Object(r.g)(dt.a,yt({className:"lf-outline-edge"},{x:o,y:i,width:a,height:u},{radius:0,fill:"none",stroke:s,strokeDasharray:l}))}},{key:"getPolylineOutline",value:function(t){var e=t.points,n=Object(pt.n)(e),o=Object(pt.b)(n,8),i=o.x,a=o.y,u=o.width,c=o.height,s=this.props.graphModel.theme.polyline,l=s.outlineColor,f=s.outlineStrokeDashArray;return Object(r.g)(dt.a,yt({className:"lf-outline"},{x:i,y:a,width:u,height:c},{radius:0,fill:"none",stroke:l,strokeDasharray:f}))}},{key:"getBezierOutline",value:function(t){var e=t.path,n=Object(pt.d)(e),o=Object(pt.b)(n,8),i=o.x,a=o.y,u=o.width,c=o.height,s=this.props.graphModel.theme.bezier,l=s.outlineColor,f=s.outlineStrokeDashArray;return Object(r.g)(dt.a,yt({className:"lf-outline"},{x:i,y:a,width:u,height:c},{radius:0,fill:"none",stroke:l,strokeDasharray:f}))}},{key:"render",value:function(){return Object(r.g)("g",{className:"lf-outline"},this.getNodeOutline(),this.getEdgeOutline())}}])&&bt(o.prototype,e),o}(r.a))||lt,jt=n(73);function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Pt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function At(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dt(t,e,n){return e&&kt(t.prototype,e),n&&kt(t,n),t}function Mt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tt(t,e)}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rt(t);if(e){var o=Rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ct(this,n)}}function Ct(t,e){return!e||"object"!==Et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rt(t){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var It,Lt=function(t){Mt(n,t);var e=Nt(n);function n(t){var r;At(this,n),(r=e.call(this)).dragHandler=void 0,r.onDraging=function(t){var e=t.deltaX,n=t.deltaY,o=r.props,i=o.graphModel,a=o.bezierModel,u=o.type,c=i.transformMatrix,s=r.state,l=s.endX,f=s.endY,p=St(c.moveCanvasPointByHtml([l,f],e,n),2),d=p[0],h=p[1];r.setState({endX:d,endY:h}),a.updateAdjustAnchor({x:d,y:h},u)},r.onDragEnd=function(){var t=r.state,e=t.endX,n=t.endY,o=r.props,i=o.bezierModel,a=o.type;i.updateAdjustAnchor({x:e,y:n},a)},r.dragHandler=Object(c.b)({onDraging:r.onDraging,onDragEnd:r.onDragEnd});var o=t.position;return r.state={endX:o.x,endY:o.y},r}return Dt(n,[{key:"render",value:function(){var t,e,n,o=this.props.position,i=o.x,a=o.y,u=null===(t=this.props)||void 0===t||null===(e=t.graphModel)||void 0===e||null===(n=e.theme)||void 0===n?void 0:n.bezier,c=u.adjustAnchorStroke,s=u.adjustAnchorFill,l=u.adjustAnchorFillOpacity;return Object(r.g)(jt.a,{className:"lf-bezier-adjust-anchor",x:i,y:a,r:4,stroke:c,fill:s,fillOpacity:l,onMouseDown:this.dragHandler})}}]),n}(r.a),zt=Object(b.observer)(wt=function(t){Mt(n,t);var e=Nt(n);function n(){return At(this,n),e.apply(this,arguments)}return Dt(n,[{key:"getBezierAdjust",value:function(t,e){var n=t.path,o=St(Object(pt.d)(n),4),i=o[0],a=o[1],u=o[2],c=o[3],s=e.theme.bezier.adjustLineColor,l=[];return l.push(Object(r.g)(nt.a,{x1:i.x,y1:i.y,x2:a.x,y2:a.y,stroke:s})),l.push(Object(r.g)(Lt,{position:a,bezierModel:t,graphModel:e,type:"sNext"})),l.push(Object(r.g)(nt.a,{x1:c.x,y1:c.y,x2:u.x,y2:u.y,stroke:s})),l.push(Object(r.g)(Lt,{position:u,bezierModel:t,graphModel:e,type:"ePre"})),l}},{key:"selectedBezierEdge",value:function(){for(var t=this.props.graphModel,e=t.edges,n=[],r=0;r<e.length;r++){var o=e[r];o.isSelected&&o.modelType===u.e.BEZIER_EDGE&&o.draggable&&n.push(this.getBezierAdjust(o,t))}return n}},{key:"render",value:function(){return Object(r.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(r.a))||wt;function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ut(){return(Ut=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ht(t,e){return(Ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Vt(t);if(e){var o=Vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yt(this,n)}}function Yt(t,e){return!e||"object"!==Bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vt(t){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wt=Object(o.b)("graphModel")(It=Object(b.observer)(It=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ht(t,e)}(o,t);var e,n=Gt(o);function o(){return Xt(this,o),n.apply(this,arguments)}return(e=[{key:"getComponent",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"canvas-overlay",i=(0,this.props.getView)(t.type);return Object(r.g)(i,{key:t.id,model:t,graphModel:e,overlay:o,eventCenter:n})}},{key:"render",value:function(){var t=this,e=this.InjectedProps,n=e.graphModel,o=e.tool,i=e.options,u=e.eventCenter,c=e.dnd,s=e.snaplineModel,l={};i.width&&(l.width="".concat(i.width,"px")),i.height&&(l.height="".concat(i.height,"px"));var f=n.fakerNode,p=n.editConfig.adjustEdge;return Object(r.g)("div",{className:"lf-graph",style:l},Object(r.g)(A,{graphModel:n,eventCenter:u,dnd:c},Object(r.g)("g",{className:"lf-base"},Object(a.a)(n.sortElements,(function(e){return t.getComponent(e,n,u)}))),f?this.getComponent(f,n,u):"",p?Object(r.g)(zt,{graphModel:n}):"",Object(r.g)(xt,{graphModel:n}),i.isSilentMode||!1===i.snapline?"":Object(r.g)(ft,{snaplineModel:s})),Object(r.g)(I,{graphModel:n,tool:o}),i.background&&Object(r.g)(Y,{background:i.background}),i.grid&&Object(r.g)(tt,Ut({},i.grid,{graphModel:n})))}},{key:"InjectedProps",get:function(){return this.props}}])&&Ft(o.prototype,e),o}(r.a))||It)||It,Kt=n(197),$t=n(65);function Zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(n),!0).forEach((function(e){Qt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var te=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nodeConfig=void 0,this.lf=void 0,this.options=void 0,this.fakerNode=void 0,this.stopDrag=function(){n.nodeConfig=null,window.document.removeEventListener("mouseup",n.stopDrag)},this.dragEnter=function(t){n.nodeConfig&&!n.fakerNode&&(n.fakerNode=n.lf.createFakerNode(qt(qt({},n.nodeConfig),n.clientToLocalPoint({x:t.clientX,y:t.clientY}))))},this.onDragOver=function(t){if(t.preventDefault(),n.fakerNode){var e=n.clientToLocalPoint({x:t.clientX,y:t.clientY}),r=e.x,o=e.y;n.fakerNode.moveTo(r,o);var i=n.fakerNode.getData();n.lf.setNodeSnapLine(i),n.lf.eventCenter.emit(u.d.NODE_DND_DRAG,{data:i})}return!1},this.onDragLeave=function(){n.fakerNode&&(n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null)},this.onDrop=function(t){if(n.lf.graphModel&&t&&n.nodeConfig){var e=n.lf.addNode(qt(qt({},n.nodeConfig),n.clientToLocalPoint({x:t.clientX,y:t.clientY})));t.preventDefault(),t.stopPropagation(),n.nodeConfig=null,n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null;var r=e.getData();n.lf.eventCenter.emit(u.d.NODE_DND_ADD,{data:r})}};var r=e.options,o=e.lf;this.lf=o,this.options=r}var e;return(e=[{key:"clientToLocalPoint",value:function(t){var e=t.x,n=t.y,r=Object(Kt.a)(this.lf.options,["grid","size"]),o=this.lf.graphModel.getPointByClient({x:e,y:n}).canvasOverlayPosition,i=o.x,a=o.y;return{x:Object($t.b)(i,r),y:Object($t.b)(a,r)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Jt(t.prototype,e),t}(),ee=n(115),ne=n(5),re=n(6),oe=n(84),ie=function(t,e){return Object(oe.a)(t,e)},ae=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},ue=n(239),ce=n(12),se=n(11),le=function(){return se.a.Date.now()},fe=n(58),pe=/^\s+|\s+$/g,de=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,ye=/^0o[0-7]+$/i,ve=parseInt,be=function(t){if("number"==typeof t)return t;if(Object(fe.a)(t))return NaN;if(Object(ce.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Object(ce.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(pe,"");var n=he.test(t);return n||ye.test(t)?ve(t.slice(2),n?2:8):de.test(t)?NaN:+t},ge=Math.max,me=Math.min,Oe=function(t,e,n){var r,o,i,a,u,c,s=0,l=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=r,i=o;return r=o=void 0,s=e,a=t.apply(i,n)}function h(t){return s=t,u=setTimeout(v,e),l?d(t):a}function y(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-s>=i}function v(){var t,n,r=le();if(y(r))return b(r);u=setTimeout(v,(n=e-((t=r)-c),f?me(n,i-(t-s)):n))}function b(t){return u=void 0,p&&r?d(t):(r=o=void 0,a)}function g(){var t=le(),n=y(t);if(r=arguments,o=this,c=t,n){if(void 0===u)return h(c);if(f)return clearTimeout(u),u=setTimeout(v,e),d(c)}return void 0===u&&(u=setTimeout(v,e)),a}return e=be(e)||0,Object(ce.a)(n)&&(l=!!n.leading,i=(f="maxWait"in n)?ge(be(n.maxWait)||0,e):i,p="trailing"in n?!!n.trailing:p),g.cancel=function(){void 0!==u&&clearTimeout(u),s=0,r=c=o=u=void 0},g.flush=function(){return void 0===u?a:b(le())},g},_e=n(198);function we(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var xe,je=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.undos=[],this.redos=[],this.callbacks=[],this.stopWatch=null,this.curData=null,this.maxSize=50,this.waitTime=100,this.eventCenter=void 0,this.eventCenter=e}var e;return(e=[{key:"add",value:function(t){ie(ae(this.undos),t)||(this.undos.push(t),ie(this.curData,t)||(this.redos=[]),this.eventCenter.emit(u.d.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var t=this.undos.pop();this.redos.push(t);var e=this.undos.pop();return this.curData=Object(ue.a)(e),e}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var t=this.redos.pop();return this.curData=Object(ue.a)(t),t}}},{key:"watch",value:function(t){var e=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(_e.a)(t,Oe((function(){var n=t.modelToGraphData();e.add(n)}),this.waitTime))}}])&&we(t.prototype,e),t}();function Ee(t){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Se(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Pe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(n),!0).forEach((function(e){De(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function De(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Te(t,e){return(Te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ne(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Re(t);if(e){var o=Re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ce(this,n)}}function Ce(t,e){return!e||"object"!==Ee(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Re(t){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(235);var Ie,Le=Object(b.observer)(xe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Te(t,e)}(a,t);var e,n,o,i=Ne(a);function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).ref=Object(r.f)(),t.__prevText={type:"",text:"",id:""},t.keyupHandler=function(e){var n=e.target.innerText,r=t.props.graphModel.textEditElement;13===e.keyCode&&e.altKey&&r.setElementState(0),t.__prevText={type:r.type,text:n,id:r.id}},t.state={style:{left:0,top:0}},t}return e=a,o=[{key:"getDerivedStateFromProps",value:function(t){var e,n=t.graphModel,r=n.transformMatrix,o=n.theme,i=n.textEditElement;if(i){var a;if(null===(a=i.text)||void 0===a||!a.value)if(i.BaseType===u.c.EDGE){var c=(i=i).text,s=i.textPosition,l=s.x,f=s.y;c.x=l,c.y=f,i.setText(c)}else i=i;var p={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(i.BaseType===u.c.EDGE){var d=o.edgeText,h=d.autoWrap,y=d.lineHeight,v=d.wrapPadding,b=i.textWidth;h&&b&&(e=ke(ke({},p),{},{width:b,minWidth:b,lineHeight:y,padding:v}))}else if(i.BaseType===u.c.NODE){var g=o.nodeText,m=g.autoWrap,O=g.lineHeight,_=g.wrapPadding,w=i,x=w.width,j=w.textWidth,E=w.modelType;(E!==u.e.TEXT_NODE&&m||E===u.e.TEXT_NODE&&m&&j)&&(e=ke(ke({},p),{},{width:j||x,minWidth:j||x,lineHeight:O,padding:_}))}var S=i.text,P=S.x,A=S.y,k=Se(r.CanvasPointToHtmlPoint([P,A]),2);return{style:ke({left:k[0],top:k[1]},e)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current))}},{key:"componentDidUpdate",value:function(){var t=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var e=this.__prevText,n=e.text,r=e.id;t.setElementTextById(r,n),t.eventCenter.emit(u.d.TEXT_UPDATE,ke({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(t){if(void 0!==window.getSelection&&void 0!==document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(e)}}},{key:"render",value:function(){var t,e=this.props.graphModel.textEditElement,n=this.state.style;return e?Object(r.g)("div",{contentEditable:!0,className:"lf-text-input",style:n,ref:this.ref,key:e.id,onKeyUp:this.keyupHandler},null===(t=e.text)||void 0===t?void 0:t.value):null}}])&&Me(e.prototype,n),o&&Me(e,o),a}(r.a))||xe,ze=(n(91),n(92),n(158),function(t){return t.modelType===u.e.LINE_EDGE?(n=(e=t).startPoint,r=e.endPoint,o=(n.x+r.x)/2,i=(n.y+r.y)/2,a=Math.abs(n.x-r.x)+10,c=Math.abs(n.y-r.y)+10,{x:o-a/2,y:i-c/2,x1:o+a/2,y1:i+c/2}):t.modelType===u.e.POLYLINE_EDGE?function(t){var e=t.points,n=Object(pt.n)(e),r=Object(pt.b)(n,8),o=r.x,i=r.y,a=r.width,u=r.height;return{x:o-a/2,y:i-u/2,x1:o+a/2,y1:i+u/2}}(t):t.modelType===u.e.BEZIER_EDGE?function(t){var e=t.path,n=Object(pt.d)(e),r=Object(pt.b)(n,8),o=r.x,i=r.y,a=r.width,u=r.height;return{x:o-a/2,y:i-u/2,x1:o+a/2,y1:i+u/2}}(t):void 0;var e,n,r,o,i,a,c});function Be(t){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ue(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Xe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function He(t,e){return(He=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ve(t);if(e){var o=Ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(t,e){return!e||"object"!==Be(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ve(t){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var We=Object(b.observer)(Ie=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&He(t,e)}(o,t);var e,n=Ge(o);function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this)).stepDrag=void 0,e.handleMouseDown=function(t){e.stepDrag.handleMouseDown(t)},e.onDragStart=function(){},e.onDraging=function(t){var n=t.deltaX,r=t.deltaY,o=e.props.graphModel;o.moveElements(o.getSelectElements(!0),n,r)},e.onDragEnd=function(){};var r=t.graphModel.gridSize,i=t.eventCenter;return e.stepDrag=new c.a({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd,step:r,eventType:"multiple:select",eventCenter:i}),e}return(e=[{key:"render",value:function(){var t=this.props.graphModel,e=t.selectElements,n=t.selectElementSize,o=t.transformMatrix;if(n>1){var i=Number.MAX_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;e.forEach((function(t){var e,n,r,o,l,f={x:0,y:0,x1:0,y1:0};t.BaseType===u.c.NODE&&(n=(e=t).x,r=e.y,o=e.width,l=e.height,f={x:n-o/2,y:r-l/2,x1:n+o/2,y1:r+l/2}),t.BaseType===u.c.EDGE&&(f=ze(t)),i=Math.min(i,f.x),a=Math.min(a,f.y),c=Math.max(c,f.x1),s=Math.max(s,f.y1)}));var l=Ue(o.CanvasPointToHtmlPoint([i,a]),2);i=l[0],a=l[1];var f=Ue(o.CanvasPointToHtmlPoint([c,s]),2);c=f[0],s=f[1];var p={left:"".concat(i-10,"px"),top:"".concat(a-10,"px"),width:"".concat(c-i+20,"px"),height:"".concat(s-a+20,"px")};return Object(r.g)("div",{className:"lf-multiple-select",style:p,onMouseDown:this.handleMouseDown})}}}])&&Fe(o.prototype,e),o}(r.a))||Ie;function Ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $e=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tools=void 0,this.components=void 0,this.toolMap=new Map,this.instance=void 0,this.instance=e,this.registerTool("textEdit",Le),this.registerTool("multipleSelect",We)}var e;return(e=[{key:"registerTool",value:function(t,e){this.toolMap.set(t,e)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Ke(t.prototype,e),t}();function Ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(108);var qe=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._events={}}var e;return(e=[{key:"on",value:function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this}},{key:"once",value:function(t,e){return this.on(t,e,!0)}},{key:"emit",value:function(t,e){var n=this,r=this._events[t]||[],o=this._events["*"]||[],i=function(r){for(var o=r.length,i=0;i<o;i++)if(r[i]){var a=r[i],u=a.callback;a.once&&(r.splice(i,1),0===r.length&&delete n._events[t],o--,i--),u.apply(n,[e])}};i(r),i(o)}},{key:"off",value:function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,o=0;o<r;o++)n[o].callback===e&&(n.splice(o,1),r--,o--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this}},{key:"getEvents",value:function(){return this._events}}])&&Ze(t.prototype,e),t}(),Qe=n(117),Je=n(25),tn=null;function en(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function nn(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach((function(t){t.x+=e,t.y+=e})),t.text&&(t.text.x+=e,t.text.y+=e),t}var rn=n(116);function on(t){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function an(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?an(Object(n),!0).forEach((function(e){cn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ln=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=void 0,this.width=void 0,this.height=void 0,this.graphModel=void 0,this.history=void 0,this.viewMap=new Map,this.tool=void 0,this.keyboard=void 0,this.dnd=void 0,this.options=void 0,this.getSnapshot=void 0,this.eventCenter=void 0,this.snaplineModel=void 0,this.components=[],this.adapterIn=void 0,this.adapterOut=void 0,this.getView=function(t){return n.viewMap.get(t)};var r,o,a,u,c,s,l=e.container,f=e.width,p=e.height,d=e.dndOptions,h=e.keyboard,y=e.isSilentMode,v=e.snapline;this.options=ee.b(e),this.container=l,this.width=f||l.getBoundingClientRect().width,this.height=p||l.getBoundingClientRect().height,this.tool=new $e(this),this.eventCenter=new qe,this.history=new je(this.eventCenter),this.dnd=new te({options:d,lf:this}),this.keyboard=new Qe.b({lf:this,keyboard:h}),this.graphModel=new i.b(un(un({},this.options),{},{eventCenter:this.eventCenter,rootEl:this.container,width:this.width,height:this.height})),y||!1===v||(this.snaplineModel=new rn.b(this.graphModel),r=this.eventCenter,o=this.snaplineModel,r.on("node:mousemove",(function(t){var e=t.data;o.setNodeSnapLine(e)})),r.on("node:mouseup",(function(){o.clearSnapline()}))),this.defaultRegister(),this.installPlugins(e.disabledPlugins),a=this,u=this.graphModel,c=a.keyboard,s=c.options.keyboard,c.on(["cmd + c","ctrl + c"],(function(){if(s.enabled&&!u.textEditElement){var t=a.options.guards,e=u.getSelectElements(!1);return t&&t.beforeClone&&!t.beforeClone(e)||((tn=e).nodes.forEach((function(t){return en(t,40)})),tn.edges.forEach((function(t){return nn(t,40)}))),!1}})),c.on(["cmd + v","ctrl + v"],(function(){if(s.enabled&&!u.textEditElement){if(tn&&(tn.nodes||tn.edges)){a.clearSelectElements();var t=a.addElements(tn);if(!t)return;t.nodes.forEach((function(t){return a.select(t.id,!0)})),t.edges.forEach((function(t){return a.select(t.id,!0)})),tn.nodes.forEach((function(t){return en(t,40)})),tn.edges.forEach((function(t){return nn(t,40)}))}return!1}})),c.on(["cmd + z","ctrl + z"],(function(){if(s.enabled&&!u.textEditElement)return a.undo(),!1})),c.on(["cmd + y","ctrl + y"],(function(){if(s.enabled&&!u.textEditElement)return a.redo(),!1})),c.on(["backspace"],(function(){if(s.enabled&&!u.textEditElement){var t=u.getSelectElements(!0);return a.clearSelectElements(),t.edges.forEach((function(t){return a.deleteEdge(t.id)})),t.nodes.forEach((function(t){return a.deleteNode(t.id)})),!1}})),this.keyboard.initShortcuts()}var e,n,a;return e=t,a=[{key:"use",value:function(t){var e=t.pluginName;e||(console.warn("请给插件".concat(t.name||t.constructor.name,"指定pluginName!")),e=t.name);var n=this.extensions.get(e);n&&n.destroy&&n.destroy(),this.extensions.set(e,t)}}],(n=[{key:"on",value:function(t,e){this.eventCenter.on(t,e)}},{key:"off",value:function(t,e){this.eventCenter.off(t,e)}},{key:"once",value:function(t,e){this.eventCenter.once(t,e)}},{key:"emit",value:function(t,e){this.eventCenter.emit(t,e)}},{key:"installPlugins",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.extensions.forEach((function(t){var r=t.pluginName||t.name;-1===n.indexOf(r)&&e.__installPlugin(t)}))}},{key:"__installPlugin",value:function(e){if("object"===on(e)){var n=e.install,r=e.render;return n&&n.call(e,this,t),void(r&&this.components.push(r.bind(e)))}var o=new e({lf:this,LogicFlow:t});o.render&&this.components.push(o.render.bind(o))}},{key:"register",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"==typeof t){var i={BaseEdge:re.b,BaseEdgeModel:ne.BaseEdgeModel,BaseNode:re.c,BaseNodeModel:ne.BaseNodeModel,RectNode:re.l,RectNodeModel:ne.RectNodeModel,CircleNode:re.e,CircleNodeModel:ne.CircleNodeModel,PolygonNode:re.j,PolygonNodeModel:ne.PolygonNodeModel,TextNode:re.m,TextNodeModel:ne.TextNodeModel,LineEdge:re.i,LineEdgeModel:ne.LineEdgeModel,DiamondNode:re.f,DiamondNodeModel:ne.DiamondNodeModel,PolylineEdge:re.k,PolylineEdgeModel:ne.PolylineEdgeModel,BezierEdge:re.d,BezierEdgeModel:ne.BezierEdgeModel,EllipseNode:re.g,EllipseNodeModel:ne.EllipseNodeModel,HtmlNode:re.h,HtmlNodeModel:ne.HtmlNodeModel,h:r.g,type:t};this.viewMap.forEach((function(t){var e=t.extendKey;e&&(i[e]=t)})),this.graphModel.modelMap.forEach((function(t){var e=t.extendKey;e&&(i[e]=t)}));var a=e(i),u=a.view,c=a.model,s=u;n&&!s.isObervered&&(s.isObervered=!0,s=Object(o.c)(s)),this.setView(t,s),this.graphModel.setModel(t,c)}else this._registerElement(t)}},{key:"_registerElement",value:function(t){var e=t.view;!1===t.isObserverView||e.isObervered||(e.isObervered=!0,e=Object(o.c)(e)),this.setView(t.type,e),this.graphModel.setModel(t.type,t.model)}},{key:"defaultRegister",value:function(){this._registerElement({view:re.l,model:ne.RectNodeModel,type:"rect"}),this._registerElement({type:"circle",view:re.e,model:ne.CircleNodeModel}),this._registerElement({type:"polygon",view:re.j,model:ne.PolygonNodeModel}),this._registerElement({type:"line",view:re.i,model:ne.LineEdgeModel}),this._registerElement({type:"polyline",view:re.k,model:ne.PolylineEdgeModel}),this._registerElement({type:"bezier",view:re.d,model:ne.BezierEdgeModel}),this._registerElement({type:"text",view:re.m,model:ne.TextNodeModel}),this._registerElement({type:"ellipse",view:re.g,model:ne.EllipseNodeModel}),this._registerElement({type:"diamond",view:re.f,model:ne.DiamondNodeModel}),this._registerElement({type:"html",view:re.h,model:ne.HtmlNodeModel})}},{key:"undo",value:function(){if(this.history.undoAble()){var t=Object(Je.a)(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(this.history.redoAble()){var t=Object(Je.a)(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.graphModel.transformMatrix;return e.zoom(t),"".concat(100*e.SCALE_X,"%")}},{key:"resetZoom",value:function(){this.graphModel.transformMatrix.resetZoom()}},{key:"setZoomMiniSize",value:function(t){this.graphModel.transformMatrix.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){this.graphModel.transformMatrix.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformMatrix;return{SCALE_X:t.SCALE_X,SCALE_Y:t.SCALE_Y,TRANSLATE_X:t.TRANSLATE_X,TRANSLATE_Y:t.TRANSLATE_Y}}},{key:"translate",value:function(t,e){this.graphModel.transformMatrix.translate(t,e)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformMatrix,e=t.TRANSLATE_X,n=t.TRANSLATE_Y;this.translate(-e,-n)}},{key:"select",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.graphModel.selectElementById(t,e)}},{key:"focusOn",value:function(t){var e=this.graphModel.transformMatrix,n=t.coordinate,r=t.id;if(!n){var o=this.getNodeModel(r);o&&(n=o.getData());var i=this.getEdgeModelById(r);i&&(n=i.textPosition)}var a=n,u=a.x,c=a.y;e.focusOn(u,c,this.width,this.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"setDefaultEdgeType",value:function(t){this.options.edgeType=t,this.graphModel.changeEdgeType(t)}},{key:"updateText",value:function(t,e){this.graphModel.setElementTextById(t,e)}},{key:"changeNodeType",value:function(t,e){this.graphModel.changeNodeType(t,e)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var e=this.graphModel.getNodeModel(t).getData(),n=this.options.guards;(!n||!n.beforeDelete||n.beforeDelete(e))&&this.graphModel.deleteNode(t)}},{key:"editNodeText",value:function(t){this.graphModel.setTextEditable(t)}},{key:"cloneNode",value:function(t){var e=this.graphModel.getNodeModel(t).getData(),n=this.options.guards;if(!n||!n.beforeClone||n.beforeClone(e))return this.graphModel.cloneNode(t)}},{key:"createEdge",value:function(t){this.graphModel.createEdge(t)}},{key:"deleteEdge",value:function(t){var e=this.options.guards,n=this.graphModel.edgesMap[t];if(n){var r=n.model.getData();(!e||!e.beforeDelete||e.beforeDelete(r))&&this.graphModel.removeEdgeById(t)}else console.warn("不存在id为".concat(t,"的边"))}},{key:"removeEdge",value:function(t){var e=t.sourceNodeId,n=t.targetNodeId;e&&n?this.graphModel.removeEdge(e,n):e?this.graphModel.removeEdgeBySource(e):n&&this.graphModel.removeEdgeByTarget(n)}},{key:"getEdge",value:function(t){var e=this.graphModel,n=e.edges,r=e.edgesMap,o=t.id,i=t.sourceNodeId,a=t.targetNodeId;if(o)return r[o]?[r[o].model]:void console.warn("不存在id为".concat(o,"的边"));if(i&&a){var u=[];return n.forEach((function(t){t.sourceNodeId===i&&t.targetNodeId===a&&u.push(t)})),u}if(i){var c=[];return n.forEach((function(t){t.sourceNodeId===i&&c.push(t)})),c}if(a){var s=[];return n.forEach((function(t){t.targetNodeId===a&&s.push(t)})),s}return[]}},{key:"getNodeModel",value:function(t){return this.graphModel.getNodeModel(t)}},{key:"getNodeData",value:function(t){return this.graphModel.getNodeModel(t).getData()}},{key:"setNodeData",value:function(t){var e=t.id;this.graphModel.getNodeModel(e).updateData(t)}},{key:"getEdgeData",value:function(t){var e;return null===(e=this.getEdgeModelById(t))||void 0===e?void 0:e.getData()}},{key:"setEdgeData",value:function(t){var e,n=t.id;return null===(e=this.getEdgeModelById(n))||void 0===e?void 0:e.updateData(t)}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"setProperties",value:function(t,e){var n;null===(n=this.graphModel.getElement(t))||void 0===n||n.setProperties(Object(Je.a)(e))}},{key:"getProperties",value:function(t){var e;return null===(e=this.graphModel.getElement(t))||void 0===e?void 0:e.getProperties()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfig.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfig.getConfig()}},{key:"getPointByClient",value:function(t,e){return this.graphModel.getPointByClient({x:t,y:e})}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.graphModel.getSelectElements(t)}},{key:"updateAttributes",value:function(t,e){this.graphModel.updateAttributes(t,e)}},{key:"addElements",value:function(t){for(var e=this,n=t.nodes,r=t.edges,o={},i={nodes:[],edges:[]},a=0;a<n.length;a++){var u=n[a],c=u.id,s=this.addNode(u);if(!s)return;c&&(o[c]=s.id),i.nodes.push(s)}return r.forEach((function(t){var n=t.sourceNodeId,r=t.targetNodeId;o[n]&&(t.sourceNodeId=o[n]),o[r]&&(t.targetNodeId=o[r]);var a=e.graphModel.createEdge(t);i.edges.push(a)})),i}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"createFakerNode",value:function(t){var e=this.graphModel.modelMap.get(t.type);if(e){var n=new e(t,this.graphModel);return this.graphModel.setFakerNode(n),n}console.warn("不存在为".concat(t.type,"类型的节点"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"getAreaElement",value:function(t,e){return this.graphModel.getAreaElement(t,e).map((function(t){return t.getData()}))}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"getEdgeModelById",value:function(t){var e;return null===(e=this.graphModel.edgesMap[t])||void 0===e?void 0:e.model}},{key:"setView",value:function(t,e){this.viewMap.set(t,e)}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.graphModel.graphDataToModel(Object(Je.a)(t)),this.options.isSilentMode||!1===this.options.history||this.history.watch(this.graphModel),Object(r.j)(Object(r.g)(o.a,{graphModel:this.graphModel},Object(r.g)(Wt,{eventCenter:this.eventCenter,getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,components:this.components})),this.container)}}])&&sn(e.prototype,n),a&&sn(e,a),t}();ln.extensions=new Map},function(t,e,n){n.d(e,"a",(function(){return W})),n(217),n(21),n(69),n(38),n(218),n(108),n(106),n(23),n(70),n(185),n(107),n(22),n(77);var r=n(0),o=n(240),i=n(112),a=n(113),u=n(2),c=(n(187),n(239)),s=n(9);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(t){var e=Object(c.a)(s.a);return t&&Object.keys(t).forEach((function(n){e[n]=f(f({},e[n]),t[n])})),e},h=n(65);function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var b,g,m,O,_,w,x,j,E,S,P,A,k,D,M,T,N,C,R=function(t,e,n){var r=y(t,2),o=r[0],i=r[1],a=y(e,2),u=a[0],c=a[1],s=y(n,2),l=s[0],f=s[1];return o>u&&o<l&&i>c&&i<f},I=n(4),L=n(25),z=n(3);function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){X(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function X(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return H(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var W=(g=V((b=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.BaseType=u.c.GRAPH,this.modelType=u.e.GRAPH,this.rootEl=void 0,this.theme=void 0,this.eventCenter=void 0,this.modelMap=new Map,this.width=void 0,this.height=void 0,this.topElement=void 0,this.selectElement=void 0,this.selectElements=new Map,this.idGenerator=void 0,G(this,"selectElementSize",g,this),G(this,"edgeType",m,this),G(this,"nodes",O,this),G(this,"activeElement",_,this),G(this,"activeElementState",w,this),G(this,"state",x,this),G(this,"additionStateData",j,this),G(this,"edges",E,this),G(this,"isSlient",S,this),G(this,"plugins",P,this),G(this,"tools",A,this),G(this,"background",k,this),G(this,"transformMatrix",D,this),G(this,"editConfig",M,this),G(this,"gridSize",T,this),G(this,"partial",N,this),G(this,"fakerNode",C,this);var n=e.container,r=e.background,o=void 0===r?{}:r,a=e.grid,c=(a=void 0===a?{}:a).size,s=void 0===c?1:c,l=e.isSilentMode,f=void 0!==l&&l,p=e.eventCenter,h=e.idGenerator;this.background=o,this.isSlient=f,this.gridSize=s,this.rootEl=n,this.editConfig=new i.b(e),this.eventCenter=p,this.theme=d(e.style),this.edgeType=e.edgeType||"polyline",this.width=e.width,this.height=e.height,this.partial=e.partial,this.idGenerator=h}var e;return(e=[{key:"getAreaElement",value:function(t,e){var n=[],r=[];this.nodes.forEach((function(t){return r.push(t)})),this.edges.forEach((function(t){return r.push(t)}));for(var o=0;o<r.length;o++){var i=r[o];this.isElementInArea(i,t,e)&&n.push(i)}return n}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModel",value:function(t){var e;return null===(e=this.nodesMap[t])||void 0===e?void 0:e.model}},{key:"getPointByClient",value:function(t){var e=t.x,n=t.y,r=this.rootEl.getBoundingClientRect(),o={x:e-r.left,y:n-r.top},i=F(this.transformMatrix.HtmlPointToCanvasPoint([o.x,o.y]),2);return{domOverlayPosition:o,canvasOverlayPosition:{x:i[0],y:i[1]}}}},{key:"isElementInArea",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t.BaseType===u.c.NODE){var o=t=t,i=o.x,a=o.y,c=F(this.transformMatrix.CanvasPointToHtmlPoint([i,a]),2);if(i=c[0],a=c[1],R([i,a],e,n))return!0}if(t.BaseType===u.c.EDGE){var s=t=t,l=s.startPoint,f=s.endPoint,p=this.transformMatrix.CanvasPointToHtmlPoint([l.x,l.y]),d=this.transformMatrix.CanvasPointToHtmlPoint([f.x,f.y]),h=R(p,e,n),y=R(d,e,n);return r?h&&y:h||y}return!1}},{key:"graphDataToModel",value:function(t){var e=this;this.nodes=Object(o.a)(t.nodes,(function(t){var n=e.getModel(t.type);if(!n)throw new Error("找不到".concat(t.type,"对应的节点。"));var r=t.x,o=t.y;return r&&o&&(t.x=Object(h.b)(r,e.gridSize),t.y=Object(h.b)(o,e.gridSize),"[object Object]"===Object.prototype.toString.call(t.text)&&(t.text.x-=Object(h.a)(r,e.gridSize),t.text.y-=Object(h.a)(o,e.gridSize))),new n(t,e)})),this.edges=Object(o.a)(t.edges,(function(t){var n=e.getModel(t.type);if(!n)throw new Error("找不到".concat(t.type,"对应的边。"));return new n(t,e)}))}},{key:"modelToGraphData",value:function(){var t=this.edges.map((function(t){return t.getData()}));return{nodes:this.nodes.map((function(t){return t.getData()})),edges:t}}},{key:"getEdgeModel",value:function(t){var e;return null===(e=this.edgesMap[t])||void 0===e?void 0:e.model}},{key:"getElement",value:function(t){return this.getNodeModel(t)||this.getEdgeModel(t)}},{key:"getNodeEdges",value:function(t){for(var e=[],n=0;n<this.edges.length;n++){var r=this.edges[n],o=this.edges[n].sourceNodeId===t,i=this.edges[n].targetNodeId===t;(o||i)&&e.push(r)}return e}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.selectElements,n={nodes:[],edges:[]};return e.forEach((function(r){if(r.BaseType===u.c.NODE&&n.nodes.push(r.getData()),r.BaseType===u.c.EDGE){var o=r.getData(),i=e.get(o.sourceNodeId)&&e.get(o.targetNodeId);(t||i)&&n.edges.push(o)}})),n}},{key:"updateAttributes",value:function(t,e){this.getElement(t).updateAttributes(e)}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,e){return this.modelMap.set(t,e)}},{key:"updateEdgeByIndex",value:function(t,e){this.edges[t]=U(U({},this.edges[t]),e)}},{key:"toFront",value:function(t){var e,n,r,o=(null===(e=this.nodesMap[t])||void 0===e?void 0:e.model)||(null===(n=this.edgesMap[t])||void 0===n?void 0:n.model);o&&(null===(r=this.topElement)||void 0===r||r.setZIndex(),this.topElement=o,o.setZIndex(u.a))}},{key:"deleteNode",value:function(t){var e=this.nodesMap[t].model.getData();this.removeEdgeBySource(t),this.removeEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(u.d.NODE_DELETE,{data:e})}},{key:"addNode",value:function(t){var e=Object(L.a)(t);e.id&&this.nodesMap[t.id]&&delete e.id;var n=this.getModel(e.type);if(!n)throw new Error("找不到".concat(e.type,"对应的节点，请确认是否已注册此类型节点。"));var r=new n(e,this);this.nodes.push(r);var o=r.getData();return this.eventCenter.emit(u.d.NODE_ADD,{data:o}),r}},{key:"cloneNode",value:function(t){var e=this.getNodeModel(t),n=e.getData();n.x+=30,n.y+=30,delete n.id,n.text&&(n.text.x+=30,n.text.y+=30);var r=this.addNode(n);return r.setSelected(!0),e.setSelected(!1),r.getData()}},{key:"moveNode",value:function(t,e,n){var r=this.nodesMap[t];r?(r.model.move(e,n),this.moveEdge(t,e,n)):console.warn("不存在id为".concat(t,"的节点"))}},{key:"moveNode2Coordinate",value:function(t,e,n){var r=this.nodesMap[t];if(r){var o=r.model,i=e-o.x,a=n-o.y;this.moveNode(t,i,a)}else console.warn("不存在id为".concat(t,"的节点"))}},{key:"setTextEditable",value:function(t){this.setElementStateById(t,u.b.TEXT_EDIT)}},{key:"createEdge",value:function(t){var e=Object(L.a)(t),n=e.type;n||(n=this.edgeType),e.id&&this.edgesMap[e.id]&&delete e.id;var r=this.getModel(n);if(!r)throw new Error("找不到".concat(n,"对应的连线，请确认是否已注册此类型连线。"));var o=new r(U(U({},e),{},{type:n}),this),i=o.getData();return this.edges.push(o),this.eventCenter.emit(u.d.EDGE_ADD,{data:i}),o}},{key:"moveEdge",value:function(t,e,n){for(var r=0;r<this.edges.length;r++){var o,i=this.edges[r],a=i.textPosition,c=a.x,s=a.y,l=this.edges[r].sourceNodeId===t,f=this.edges[r].targetNodeId===t;if(l&&i.updateStartPoint({x:i.startPoint.x+e,y:i.startPoint.y+n}),f&&i.updateEndPoint({x:i.endPoint.x+e,y:i.endPoint.y+n}),l||f)if(i.modelType===u.e.POLYLINE_EDGE&&null!==(o=i.text)&&void 0!==o&&o.value){var p=i.text,d=Object(I.f)(p,i.points);i.moveText(d.x-p.x,d.y-p.y)}else{var h=i.textPosition,y=h.x,v=h.y;i.moveText(y-c,v-s)}}}},{key:"removeEdge",value:function(t,e){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t&&this.edges[n].targetNodeId===e){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(u.d.EDGE_DELETE,{data:r})}}},{key:"removeEdgeById",value:function(t){var e=this.edgesMap[t].index;if(this.edgesMap[t]){var n=this.edgesMap[t].model.getData();this.edges.splice(e,1),this.eventCenter.emit(u.d.EDGE_DELETE,{data:n})}else console.warn("不存在id为".concat(t,"的边"))}},{key:"removeEdgeBySource",value:function(t){for(var e=0;e<this.edges.length;e++)if(this.edges[e].sourceNodeId===t){var n=this.edges[e].getData();this.edges.splice(e,1),e--,this.eventCenter.emit(u.d.EDGE_DELETE,{data:n})}}},{key:"removeEdgeByTarget",value:function(t){for(var e=0;e<this.edges.length;e++)if(this.edges[e].targetNodeId===t){var n=this.edges[e].getData();this.edges.splice(e,1),e--,this.eventCenter.emit(u.d.EDGE_DELETE,{data:n})}}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"setElementStateById",value:function(t,e,n){this.resetElementState(),this.nodes.forEach((function(r){r.id===t?r.setElementState(e,n):r.setElementState(u.b.DEFAULT)})),this.edges.forEach((function(r){r.id===t?r.setElementState(e,n):r.setElementState(u.b.DEFAULT)}))}},{key:"setElementTextById",value:function(t,e){this.nodes.forEach((function(n){n.id===t&&n.updateText(e)})),this.edges.forEach((function(n){n.id===t&&n.updateText(e)}))}},{key:"resetElementState",value:function(){}},{key:"selectNodeById",value:function(t){var e,n,r;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(r=this.selectElement)||void 0===r||r.setSelected(!1),this.clearSelectElements()),this.selectElement=null===(e=this.nodesMap[t])||void 0===e?void 0:e.model,null===(n=this.selectElement)||void 0===n||n.setSelected(!0),this.selectElements.set(t,this.selectElement),this.selectElementSize=this.selectElements.size}},{key:"selectEdgeById",value:function(t){var e,n,r;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(r=this.selectElement)||void 0===r||r.setSelected(!1),this.clearSelectElements()),this.selectElement=null===(e=this.edgesMap[t])||void 0===e?void 0:e.model,null===(n=this.selectElement)||void 0===n||n.setSelected(!0),this.selectElements.set(t,this.selectElement),this.selectElementSize=this.selectElements.size}},{key:"selectElementById",value:function(t){var e,n;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(n=this.selectElement)||void 0===n||n.setSelected(!1),this.clearSelectElements()),this.selectElement=this.getElement(t),null===(e=this.selectElement)||void 0===e||e.setSelected(!0),this.selectElements.set(t,this.selectElement),this.selectElementSize=this.selectElements.size}},{key:"clearSelectElements",value:function(){var t;this.selectElements.forEach((function(t){null==t||t.setSelected(!1)})),this.selectElements.clear(),null===(t=this.topElement)||void 0===t||t.setZIndex(),this.selectElementSize=this.selectElements.size}},{key:"moveElements",value:function(t,e,n){var r=this;t.nodes.forEach((function(t){return r.moveNode(t.id,e,n)}))}},{key:"changeEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,e){var n=this.getNodeModel(t);if(n){var r=n.getData();r.type=e;var o=this.getModel(e);if(!o)throw new Error("找不到".concat(e,"对应的节点，请确认是否已注册此类型节点。"));var i=new o(r,this);this.nodes.splice(this.nodesMap[t].index,1,i),this.getNodeEdges(t).forEach((function(e){if(e.sourceNodeId===t){var n=Object(z.h)(i,e.startPoint,i.width,i.height);e.updateStartPoint(n)}if(e.targetNodeId===t){var r=Object(z.h)(i,e.endPoint,i.width,i.height);e.updateEndPoint(r)}}))}else console.warn("找不到id为".concat(t,"的节点"))}},{key:"setTheme",value:function(t){this.theme=d(U(U({},this.theme),t))}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"nodesMap",get:function(){return this.nodes.reduce((function(t,e,n){return t[e.id]={index:n,model:e},t}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(t,e,n){return t[e.id]={index:n,model:e},t}),{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach((function(e){return t.push(e)})),this.edges.forEach((function(e){return t.push(e)})),t=t.sort((function(t,e){return t.zIndex-e.zIndex}));for(var e=[],n=-1,r=[-200,-200],o=[this.width+200,this.height+200],i=0;i<t.length;i++){var a=t[i];this.partial&&!this.isElementInArea(a,r,o,!1)||(a.zIndex===u.a&&(n=e.length),e.push(a))}if(-1!==n){var c=e[e.length-1];e[e.length-1]=e[n],e[n]=c}return e}},{key:"textEditElement",get:function(){var t=this.nodes.find((function(t){return t.state===u.b.TEXT_EDIT})),e=this.edges.find((function(t){return t.state===u.b.TEXT_EDIT}));return t||e}}])&&Y(t.prototype,e),t}()).prototype,"selectElementSize",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=V(b.prototype,"edgeType",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=V(b.prototype,"nodes",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=V(b.prototype,"activeElement",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=V(b.prototype,"activeElementState",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=V(b.prototype,"state",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=V(b.prototype,"additionStateData",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=V(b.prototype,"edges",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=V(b.prototype,"isSlient",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=V(b.prototype,"plugins",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=V(b.prototype,"tools",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=V(b.prototype,"background",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=V(b.prototype,"transformMatrix",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a.a}}),M=V(b.prototype,"editConfig",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=V(b.prototype,"gridSize",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),N=V(b.prototype,"partial",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=V(b.prototype,"fakerNode",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V(b.prototype,"nodesMap",[r.k],Object.getOwnPropertyDescriptor(b.prototype,"nodesMap"),b.prototype),V(b.prototype,"edgesMap",[r.k],Object.getOwnPropertyDescriptor(b.prototype,"edgesMap"),b.prototype),V(b.prototype,"sortElements",[r.k],Object.getOwnPropertyDescriptor(b.prototype,"sortElements"),b.prototype),V(b.prototype,"textEditElement",[r.k],Object.getOwnPropertyDescriptor(b.prototype,"textEditElement"),b.prototype),V(b.prototype,"setFakerNode",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"setFakerNode"),b.prototype),V(b.prototype,"removeFakerNode",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"removeFakerNode"),b.prototype),V(b.prototype,"setModel",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"setModel"),b.prototype),V(b.prototype,"updateEdgeByIndex",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"updateEdgeByIndex"),b.prototype),V(b.prototype,"toFront",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"toFront"),b.prototype),V(b.prototype,"deleteNode",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"deleteNode"),b.prototype),V(b.prototype,"addNode",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"addNode"),b.prototype),V(b.prototype,"cloneNode",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"cloneNode"),b.prototype),V(b.prototype,"moveNode",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"moveNode"),b.prototype),V(b.prototype,"moveNode2Coordinate",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"moveNode2Coordinate"),b.prototype),V(b.prototype,"setTextEditable",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"setTextEditable"),b.prototype),V(b.prototype,"createEdge",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"createEdge"),b.prototype),V(b.prototype,"moveEdge",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"moveEdge"),b.prototype),V(b.prototype,"removeEdge",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"removeEdge"),b.prototype),V(b.prototype,"removeEdgeById",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"removeEdgeById"),b.prototype),V(b.prototype,"removeEdgeBySource",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"removeEdgeBySource"),b.prototype),V(b.prototype,"removeEdgeByTarget",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"removeEdgeByTarget"),b.prototype),V(b.prototype,"setElementState",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"setElementState"),b.prototype),V(b.prototype,"setElementStateById",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"setElementStateById"),b.prototype),V(b.prototype,"setElementTextById",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"setElementTextById"),b.prototype),V(b.prototype,"resetElementState",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"resetElementState"),b.prototype),V(b.prototype,"selectNodeById",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"selectNodeById"),b.prototype),V(b.prototype,"selectEdgeById",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"selectEdgeById"),b.prototype),V(b.prototype,"selectElementById",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"selectElementById"),b.prototype),V(b.prototype,"clearSelectElements",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"clearSelectElements"),b.prototype),V(b.prototype,"moveElements",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"moveElements"),b.prototype),V(b.prototype,"changeEdgeType",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"changeEdgeType"),b.prototype),V(b.prototype,"changeNodeType",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"changeNodeType"),b.prototype),V(b.prototype,"setTheme",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"setTheme"),b.prototype),V(b.prototype,"clearData",[r.i],Object.getOwnPropertyDescriptor(b.prototype,"clearData"),b.prototype),b);e.b=W},function(t,e,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(132))},function(t,e,n){var r=n(39),o=n(12);e.a=function(t){if(!Object(o.a)(t))return!1;var e=Object(r.a)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r=n(87);e.a=function(t,e,n){"__proto__"==e&&r.a?Object(r.a)(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){e.a=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){e.a=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){e.a=function(){return[]}},function(t,e,n){var r=n(81),o=n(8);e.a=function(t,e,n){var i=e(t);return Object(o.a)(t)?i:Object(r.a)(i,n(t))}},function(t,e,n){var r,o,i,a=function(t){return function(){return t}},u=n(87),c=n(78),s=u.a?function(t,e){return Object(u.a)(t,"toString",{configurable:!0,enumerable:!1,value:a(e),writable:!0})}:c.a,l=Date.now,f=(r=s,o=0,i=0,function(){var t=l(),e=16-(t-i);if(i=t,e>0){if(++o>=800)return arguments[0]}else o=0;return r.apply(void 0,arguments)});e.a=f},function(t,e,n){var r=function(t,e){return null!=t&&e in Object(t)},o=n(60),i=n(85),a=n(8),u=n(54),c=n(79),s=n(42),l=function(t,e,n){for(var r=-1,l=(e=Object(o.a)(e,t)).length,f=!1;++r<l;){var p=Object(s.a)(e[r]);if(!(f=null!=t&&n(t,p)))break;t=t[p]}return f||++r!=l?f:!!(l=null==t?0:t.length)&&Object(c.a)(l)&&Object(u.a)(p,l)&&(Object(a.a)(t)||Object(i.a)(t))};e.a=function(t,e){return null!=t&&l(t,e,r)}},function(t,e,n){var r=n(39),o=n(79),i=n(24),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var u=function(t){return Object(i.a)(t)&&Object(o.a)(t.length)&&!!a[Object(r.a)(t)]},c=n(80),s=n(48),l=s.a&&s.a.isTypedArray,f=l?Object(c.a)(l):u;e.a=f},function(t,e,n){var r=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},o=n(85),i=n(8),a=n(72),u=n(54),c=n(129),s=Object.prototype.hasOwnProperty;e.a=function(t,e){var n=Object(i.a)(t),l=!n&&Object(o.a)(t),f=!n&&!l&&Object(a.a)(t),p=!n&&!l&&!f&&Object(c.a)(t),d=n||l||f||p,h=d?r(t.length,String):[],y=h.length;for(var v in t)!e&&!s.call(t,v)||d&&("length"==v||f&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||Object(u.a)(v,y))||h.push(v);return h}},function(t,e,n){var r=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},o=Math.max;e.a=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),c=Array(u);++a<u;)c[a]=i[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=i[a];return s[e]=n(c),r(t,this,s)}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(19),o=n(46);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(19),o=n(133),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,n){var r=n(164),o=n(137),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e){t.exports=!1},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(76),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(10),o=/#|\.prototype\./,i=function(t,e){var n=u[a(t)];return n==s||n!=c&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=i.data={},c=i.NATIVE="N",s=i.POLYFILL="P";t.exports=i},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(34),o=n(170),i=n(17)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(7),o=n(167).indexOf,i=n(103),a=n(68),u=[].indexOf,c=!!u&&1/[1].indexOf(1,-0)<0,s=i("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!s||!l},{indexOf:function(t){return c?u.apply(this,arguments)||0:o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(17),o=n(104),i=n(35),a=r("unscopables"),u=Array.prototype;null==u[a]&&i.f(u,a,{configurable:!0,value:o(null)}),t.exports=function(t){u[a][t]=!0}},function(t,e,n){var r=n(166),o=n(139);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(7),o=n(207),i=n(147),a=n(149),u=n(148),c=n(46),s=n(51),l=n(17),f=n(136),p=n(90),d=n(172),h=d.IteratorPrototype,y=d.BUGGY_SAFARI_ITERATORS,v=l("iterator"),b=function(){return this};t.exports=function(t,e,n,l,d,g,m){o(n,e,l);var O,_,w,x=function(t){if(t===d&&A)return A;if(!y&&t in S)return S[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},j=e+" Iterator",E=!1,S=t.prototype,P=S[v]||S["@@iterator"]||d&&S[d],A=!y&&P||x(d),k="Array"==e&&S.entries||P;if(k&&(O=i(k.call(new t)),h!==Object.prototype&&O.next&&(f||i(O)===h||(a?a(O,h):"function"!=typeof O[v]&&c(O,v,b)),u(O,j,!0,!0),f&&(p[j]=b))),"values"==d&&P&&"values"!==P.name&&(E=!0,A=function(){return P.call(this)}),f&&!m||S[v]===A||c(S,v,A),p[e]=A,d)if(_={values:x("values"),keys:g?A:x("keys"),entries:x("entries")},m)for(w in _)(y||E||!(w in S))&&s(S,w,_[w]);else r({target:e,proto:!0,forced:y||E},_);return _}},function(t,e,n){var r=n(30),o=n(37),i=n(135),a=n(173),u=i("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,u)?t[u]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,n){var r=n(35).f,o=n(30),i=n(17)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(26),o=n(208);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(i){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){var r,o,i=n(19),a=n(209),u=i.process,c=u&&u.versions,s=c&&c.v8;s?o=(r=s.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},function(t,e,n){var r={};r[n(17)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(97),o=n(35),i=n(96);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){n(71);var r=n(51),o=n(10),i=n(17),a=n(109),u=n(46),c=i("species"),s=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l="$0"==="a".replace(/./,"$0"),f=i("replace"),p=!!/./[f]&&""===/./[f]("a","$0"),d=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,f){var h=i(t),y=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),v=y&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e}));if(!y||!v||"replace"===t&&(!s||!l||p)||"split"===t&&!d){var b=/./[h],g=n(h,""[t],(function(t,e,n,r,o){return e.exec===a?y&&!o?{done:!0,value:b.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),m=g[0],O=g[1];r(String.prototype,t,m),r(RegExp.prototype,h,2==e?function(t,e){return O.call(t,this,e)}:function(t){return O.call(t,this)})}f&&u(RegExp.prototype[h],"sham",!0)}},function(t,e,n){var r=n(183).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(67),o=n(109);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){var r=n(7),o=n(229);r({target:"String",proto:!0,forced:n(230)("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},function(t,e,n){n(7)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(r){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,s=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&d())}function d(){if(!l){var t=u(p);l=!0;for(var e=s.length;e;){for(c=s,s=[];++f<e;)c&&c[f].run();f=-1,e=s.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new h(t,e)),1!==s.length||l||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(29),o=n(10),i=n(162);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(19),o=n(34),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(134),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(136),o=n(134);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.1",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(166),o=n(139).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(30),o=n(75),i=n(167).indexOf,a=n(99);t.exports=function(t,e){var n,u=o(t),c=0,s=[];for(n in u)!r(a,n)&&r(u,n)&&s.push(n);for(;e.length>c;)r(u,n=e[c++])&&(~i(s,n)||s.push(n));return s}},function(t,e,n){var r=n(75),o=n(36),i=n(138),a=function(t){return function(e,n,a){var u,c=r(e),s=o(c.length),l=i(a,s);if(t&&n!=n){for(;s>l;)if((u=c[l++])!=u)return!0}else for(;s>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(101).forEach,o=n(103),i=n(68),a=o("forEach"),u=i("forEach");t.exports=a&&u?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){var r=n(67);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(10);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r,o,i,a=n(147),u=n(46),c=n(30),s=n(17),l=n(136),f=s("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):p=!0),null==r&&(r={}),l||c(r,f)||u(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){var r=n(10);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(99),o=n(34),i=n(30),a=n(35).f,u=n(137),c=n(212),s=u("meta"),l=0,f=Object.isExtensible||function(){return!0},p=function(t){a(t,s,{value:{objectID:"O"+ ++l,weakData:{}}})},d=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,s)){if(!f(t))return"F";if(!e)return"E";p(t)}return t[s].objectID},getWeakData:function(t,e){if(!i(t,s)){if(!f(t))return!0;if(!e)return!1;p(t)}return t[s].weakData},onFreeze:function(t){return c&&d.REQUIRED&&f(t)&&!i(t,s)&&p(t),t}};r[s]=!0},function(t,e,n){var r=n(26),o=n(176),i=n(36),a=n(102),u=n(177),c=n(179),s=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var l,f,p,d,h,y,v,b=n&&n.that,g=!(!n||!n.AS_ENTRIES),m=!(!n||!n.IS_ITERATOR),O=!(!n||!n.INTERRUPTED),_=a(e,b,1+g+O),w=function(t){return l&&c(l),new s(!0,t)},x=function(t){return g?(r(t),O?_(t[0],t[1],w):_(t[0],t[1])):O?_(t,w):_(t)};if(m)l=t;else{if("function"!=typeof(f=u(t)))throw TypeError("Target is not iterable");if(o(f)){for(p=0,d=i(t.length);d>p;p++)if((h=x(t[p]))&&h instanceof s)return h;return new s(!1)}l=f.call(t)}for(y=l.next;!(v=y.call(l)).done;){try{h=x(v.value)}catch(j){throw c(l),j}if("object"==typeof h&&h&&h instanceof s)return h}return new s(!1)}},function(t,e,n){var r=n(17),o=n(90),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r=n(178),o=n(90),i=n(17)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(151),o=n(67),i=n(17)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),i))?n:a?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r=n(26);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(17)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(u){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(a){}return n}},function(t,e,n){var r=n(34),o=n(149);t.exports=function(t,e,n){var i,a;return o&&"function"==typeof(i=e.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(t,a),t}},function(t,e,n){var r=n(76),o=n(45),i=function(t){return function(e,n){var i,a,u=String(o(e)),c=r(n),s=u.length;return c<0||c>=s?t?"":void 0:(i=u.charCodeAt(c))<55296||i>56319||c+1===s||(a=u.charCodeAt(c+1))<56320||a>57343?t?u.charAt(c):i:t?u.slice(c,c+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(51),o=n(26),i=n(10),a=n(186),u=RegExp.prototype,c=u.toString,s=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),l="toString"!=c.name;(s||l)&&r(RegExp.prototype,"toString",(function(){var t=o(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in u)?a.call(t):n)}),{unsafe:!0})},function(t,e,n){var r=n(26);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(7),o=n(37),i=n(145);r({target:"Object",stat:!0,forced:n(10)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},function(t,e,n){var r=n(154),o=n(26),i=n(37),a=n(36),u=n(76),c=n(45),s=n(155),l=n(156),f=Math.max,p=Math.min,d=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n,r){var v=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=r.REPLACE_KEEPS_$0,g=v?"$":"$0";return[function(n,r){var o=c(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!v&&b||"string"==typeof r&&-1===r.indexOf(g)){var i=n(e,t,this,r);if(i.done)return i.value}var c=o(t),d=String(this),h="function"==typeof r;h||(r=String(r));var y=c.global;if(y){var O=c.unicode;c.lastIndex=0}for(var _=[];;){var w=l(c,d);if(null===w)break;if(_.push(w),!y)break;""===String(w[0])&&(c.lastIndex=s(d,a(c.lastIndex),O))}for(var x,j="",E=0,S=0;S<_.length;S++){w=_[S];for(var P=String(w[0]),A=f(p(u(w.index),d.length),0),k=[],D=1;D<w.length;D++)k.push(void 0===(x=w[D])?x:String(x));var M=w.groups;if(h){var T=[P].concat(k,A,d);void 0!==M&&T.push(M);var N=String(r.apply(void 0,T))}else N=m(P,d,A,k,M,r);A>=E&&(j+=d.slice(E,A)+N,E=A+P.length)}return j+d.slice(E)}];function m(t,n,r,o,a,u){var c=r+t.length,s=o.length,l=y;return void 0!==a&&(a=i(a),l=h),e.call(u,l,(function(e,i){var u;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":u=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return e;if(l>s){var f=d(l/10);return 0===f?e:f<=s?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):e}u=o[l-1]}return void 0===u?"":u}))}}))},function(t,e,n){var r=n(7),o=n(227);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,e){},function(t,e,n){n.r(e);var r=n(53);n.d(e,"createUuid",(function(){return r.a}));var o=n(20);n.d(e,"createDrag",(function(){return o.b})),n.d(e,"StepDrag",(function(){return o.a}))},function(t,e,n){n(118)},function(t,e,n){n.d(e,"a",(function(){return W})),n.d(e,"b",(function(){return it})),n.d(e,"c",(function(){return jt})),n.d(e,"d",(function(){return It})),n.d(e,"f",(function(){return $t})),n.d(e,"g",(function(){return ce})),n.d(e,"h",(function(){return me})),n.d(e,"e",(function(){return Te})),n(31),n(40),n(38),n(23);var r,o,i,a,u,c,s,l,f,p,d,h,y,v,b,g,m,O,_,w,x,j,E,S,P,A=n(0),k=n(28),D=n(44),M=n(53),T=n(9),N=n(2),C=n(25),R=n(3);function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t,e,n){return e&&X(t.prototype,e),n&&X(t,n),t}function H(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var G,Y,V=Object(k.a)({x:0,y:0,zIndex:1,text:{value:"",x:0,y:0,draggable:!1,editable:!0}},T.a.rect,T.a.circle),W=(o=H((r=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=Object(M.a)(),this.BaseType=N.c.NODE,this.modelType=N.e.NODE,this.additionStateData=void 0,this.targetRules=[],this.sourceRules=[],this.hasSetTargetRules=!1,this.hasSetSourceRules=!1,U(this,"properties",o,this),U(this,"type",i,this),U(this,"x",a,this),U(this,"y",u,this),U(this,"_width",c,this),this.graphModel=void 0,U(this,"_height",s,this),U(this,"fill",l,this),U(this,"fillOpacity",f,this),U(this,"strokeWidth",p,this),U(this,"stroke",d,this),U(this,"strokeOpacity",h,this),U(this,"opacity",y,this),U(this,"outlineColor",v,this),U(this,"hoverOutlineColor",b,this),U(this,"outlineStrokeDashArray",g,this),U(this,"hoverOutlineStrokeDashArray",m,this),U(this,"isSelected",O,this),U(this,"isHovered",_,this),U(this,"isHitable",w,this),U(this,"zIndex",x,this),U(this,"anchorsOffset",j,this),U(this,"state",E,this),U(this,"text",S,this),U(this,"draggable",P,this),this.graphModel=n,this.setStyleFromTheme(r,n),this.initNodeData(e),this.setAttributes()}return F(t,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),F(t,[{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var e=this.graphModel.idGenerator,n=e&&e();n&&(t.id=n);var r=this.createId();r&&(t.id=r)}this.formatText(t),Object(k.a)(this,Object(R.m)(t))}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&"string"==typeof t.text?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&void 0===t.text.editable&&(t.text.editable=!0)}},{key:"setAttributes",value:function(){}},{key:"getData",value:function(){var t=this.text,e=t.x,n=t.y,r=t.value,o=this.properties;Object(A.v)(o)&&(o=Object(A.G)(o));var i={id:this.id,type:this.type,x:this.x,y:this.y,properties:o};return r&&(i.text={x:e,y:n,value:r}),i}},{key:"getProperties",value:function(){return Object(A.G)(this.properties)}},{key:"isAllowConnectedAsSource",value:function(t){var e=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var n,r=!0,o=0;o<e.length;o++){var i=e[o];if(!i.validate.call(this,this,t)){r=!1,n=i.message;break}}return{isAllPass:r,msg:n}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t){var e=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var n,r=!0,o=0;o<e.length;o++){var i=e[o];if(!i.validate.call(this,t,this)){r=!1,n=i.message;break}}return{isAllPass:r,msg:n}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,e=this.x,n=this.y,r=this.id;return t.map((function(t,o){return t.length?{id:"".concat(r,"_").concat(o),x:e+t[0],y:n+t[1]}:{x:e+t.x,y:n+t.y,id:t.id||"".concat(r,"_").concat(o)}}))}},{key:"move",value:function(t,e){this.x+=t,this.y+=e,this.text&&this.moveText(t,e)}},{key:"moveTo",value:function(t,e){if(this.text){var n=t-this.x,r=e-this.y;this.text&&this.moveText(n,r)}this.x=t,this.y=e}},{key:"moveText",value:function(t,e){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,u=n.editable;this.text={value:i,editable:u,draggable:a,x:r+t,y:o+e}}},{key:"updateText",value:function(t){this.text.value=t}},{key:"setSelected",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=t}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t}},{key:"setHitable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=t}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"updateStroke",value:function(t){this.stroke=t}},{key:"updateData",value:function(t){var e=Object(C.a)(Object(D.a)(t,"type","x","y","text","properties")),n=this.text,r=n.x,o=n.y,i=n.draggable,a=n.editable;if(e.text&&"string"==typeof e.text)e.text={x:r,y:o,value:e.text,draggable:i,editable:a};else if("object"===B(e.text)){var u=L(L({},this.text),e.text);e.text=Object(D.a)(u,"x","y","value","draggable","editable")}Object(k.a)(this,e)}},{key:"setProperty",value:function(t,e){this.properties=L(L({},this.properties),{},z({},t,Object(C.a)(e)))}},{key:"setProperties",value:function(t){this.properties=L(L({},this.properties),Object(C.a)(t))}},{key:"setStyleFromTheme",value:function(t,e){var n=e.theme;n[t]&&Object(k.a)(this,n[t])}},{key:"setZIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V.zIndex;this.zIndex=t}},{key:"updateAttributes",value:function(t){Object(k.a)(this,t)}},{key:"anchors",get:function(){var t=this.anchorsOffset;return t&&t.length>0?this.getAnchorsByOffset():[]}}]),t}()).prototype,"properties",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=H(r.prototype,"type",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=H(r.prototype,"x",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.x}}),u=H(r.prototype,"y",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.y}}),c=H(r.prototype,"_width",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.width}}),s=H(r.prototype,"_height",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.height}}),l=H(r.prototype,"fill",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.fill}}),f=H(r.prototype,"fillOpacity",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.fillOpacity}}),p=H(r.prototype,"strokeWidth",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.strokeWidth}}),d=H(r.prototype,"stroke",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.stroke}}),h=H(r.prototype,"strokeOpacity",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.strokeOpacity}}),y=H(r.prototype,"opacity",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.opacity}}),v=H(r.prototype,"outlineColor",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.outlineColor}}),b=H(r.prototype,"hoverOutlineColor",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.hoverOutlineColor}}),g=H(r.prototype,"outlineStrokeDashArray",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.outlineStrokeDashArray}}),m=H(r.prototype,"hoverOutlineStrokeDashArray",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.hoverOutlineStrokeDashArray}}),O=H(r.prototype,"isSelected",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=H(r.prototype,"isHovered",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=H(r.prototype,"isHitable",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),x=H(r.prototype,"zIndex",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.zIndex}}),j=H(r.prototype,"anchorsOffset",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=H(r.prototype,"state",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=H(r.prototype,"text",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.text}}),P=H(r.prototype,"draggable",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H(r.prototype,"move",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"move"),r.prototype),H(r.prototype,"moveTo",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"moveTo"),r.prototype),H(r.prototype,"moveText",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"moveText"),r.prototype),H(r.prototype,"updateText",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"updateText"),r.prototype),H(r.prototype,"setSelected",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"setSelected"),r.prototype),H(r.prototype,"setHovered",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"setHovered"),r.prototype),H(r.prototype,"setHitable",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"setHitable"),r.prototype),H(r.prototype,"setElementState",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"setElementState"),r.prototype),H(r.prototype,"updateStroke",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"updateStroke"),r.prototype),H(r.prototype,"updateData",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"updateData"),r.prototype),H(r.prototype,"setProperty",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"setProperty"),r.prototype),H(r.prototype,"setProperties",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"setProperties"),r.prototype),H(r.prototype,"setStyleFromTheme",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"setStyleFromTheme"),r.prototype),H(r.prototype,"setZIndex",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"setZIndex"),r.prototype),H(r.prototype,"updateAttributes",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"updateAttributes"),r.prototype),r);function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tt(t);if(e){var o=tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q(this,n)}}function Q(t,e){return!e||"object"!==K(e)&&"function"!=typeof e?J(t):e}function J(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function et(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var nt,rt,ot,it=(Y=et((G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(r,t);var e,n=q(r);function r(t,e){var o,i,a,u,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(o=n.call(this,t,e,"circle")).modelType=N.e.CIRCLE_NODE,i=o,a="r",u=Y,c=J(o),u&&Object.defineProperty(i,a,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(c):void 0}),o}return(e=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"anchors",get:function(){var t=this.anchorsOffset,e=this.x,n=this.y,r=this.r;return t&&t.length>0?this.getAnchorsByOffset():[{x:e,y:n-r,id:"".concat(this.id,"_0")},{x:e+r,y:n,id:"".concat(this.id,"_1")},{x:e,y:n+r,id:"".concat(this.id,"_2")},{x:e-r,y:n,id:"".concat(this.id,"_3")}]}}])&&$(r.prototype,e),r}(W)).prototype,"r",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.a.circle.r}}),et(G.prototype,"width",[A.k],Object.getOwnPropertyDescriptor(G.prototype,"width"),G.prototype),et(G.prototype,"height",[A.k],Object.getOwnPropertyDescriptor(G.prototype,"height"),G.prototype),et(G.prototype,"anchors",[A.k],Object.getOwnPropertyDescriptor(G.prototype,"anchors"),G.prototype),G);function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function st(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach((function(e){ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ht(t,e,n){return(ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mt(t);if(e){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bt(this,n)}}function bt(t,e){return!e||"object"!==at(e)&&"function"!=typeof e?gt(t):e}function gt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ot(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}n(21),n(91),n(92),n(158),n(22);var _t,wt,xt,jt=(rt=Ot((nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(r,t);var e,n=vt(r);function r(t,e){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(o=n.call(this,t,e,"diamond")).modelType=N.e.DIAMOND_NODE,pt(o,"rx",rt,gt(o)),pt(o,"ry",ot,gt(o)),o}return(e=[{key:"getData",value:function(){var t=this.rx,e=this.ry;return lt(lt({},ht(mt(r.prototype),"getData",this).call(this)),{},{rx:t,ry:e})}},{key:"points",get:function(){var t=this.x,e=this.y,n=this.rx,r=this.ry;return[[t,e-r],[t+n,e],[t,e+r],[t-n,e]]}},{key:"pointsPosition",get:function(){return this.points.map((function(t){return{x:t[0],y:t[1]}}))}},{key:"width",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=ut(n,1)[0];r<t&&(t=r),r>e&&(e=r)})),e-t}},{key:"height",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=ut(n,2)[1];r<t&&(t=r),r>e&&(e=r)})),e-t}},{key:"anchors",get:function(){var t=this,e=this.anchorsOffset,n=this.points;return e&&e.length>0?this.getAnchorsByOffset():n.map((function(e,n){var r=ut(e,2);return{x:r[0],y:r[1],id:"".concat(t.id,"_").concat(n)}}))}}])&&dt(r.prototype,e),r}(W)).prototype,"rx",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=Ot(nt.prototype,"ry",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot(nt.prototype,"points",[A.k],Object.getOwnPropertyDescriptor(nt.prototype,"points"),nt.prototype),Ot(nt.prototype,"pointsPosition",[A.k],Object.getOwnPropertyDescriptor(nt.prototype,"pointsPosition"),nt.prototype),Ot(nt.prototype,"width",[A.k],Object.getOwnPropertyDescriptor(nt.prototype,"width"),nt.prototype),Ot(nt.prototype,"height",[A.k],Object.getOwnPropertyDescriptor(nt.prototype,"height"),nt.prototype),Ot(nt.prototype,"anchors",[A.k],Object.getOwnPropertyDescriptor(nt.prototype,"anchors"),nt.prototype),nt);function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function At(t,e){return(At=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tt(t);if(e){var o=Tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dt(this,n)}}function Dt(t,e){return!e||"object"!==Et(e)&&"function"!=typeof e?Mt(t):e}function Mt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nt(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Ct,Rt,It=(wt=Nt((_t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&At(t,e)}(r,t);var e,n=kt(r);function r(t,e){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(o=n.call(this,t,e,"ellipse")).modelType=N.e.ELLIPSE_NODE,St(o,"rx",wt,Mt(o)),St(o,"ry",xt,Mt(o)),o}return(e=[{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"anchors",get:function(){var t=this.anchorsOffset,e=this.x,n=this.y,r=this.rx,o=this.ry;return t&&t.length>0?this.getAnchorsByOffset():[{x:e,y:n-o,id:"".concat(this.id,"_0")},{x:e+r,y:n,id:"".concat(this.id,"_1")},{x:e,y:n+o,id:"".concat(this.id,"_2")},{x:e-r,y:n,id:"".concat(this.id,"_3")}]}}])&&Pt(r.prototype,e),r}(W)).prototype,"rx",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.a.ellipse.rx}}),xt=Nt(_t.prototype,"ry",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.a.ellipse.ry}}),Nt(_t.prototype,"width",[A.k],Object.getOwnPropertyDescriptor(_t.prototype,"width"),_t.prototype),Nt(_t.prototype,"height",[A.k],Object.getOwnPropertyDescriptor(_t.prototype,"height"),_t.prototype),Nt(_t.prototype,"anchors",[A.k],Object.getOwnPropertyDescriptor(_t.prototype,"anchors"),_t.prototype),_t);function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Bt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xt(t,e){return(Xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yt(t);if(e){var o=Yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ht(this,n)}}function Ht(t,e){return!e||"object"!==Lt(e)&&"function"!=typeof e?Gt(t):e}function Gt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yt(t){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vt(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Wt,Kt,$t=(Rt=Vt((Ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xt(t,e)}(r,t);var e,n=Ft(r);function r(t,e){var o,i,a,u,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(o=n.call(this,t,e,"polygon")).modelType=N.e.POLYGON_NODE,i=o,a="points",u=Rt,c=Gt(o),u&&Object.defineProperty(i,a,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(c):void 0}),o}return(e=[{key:"pointsPosition",get:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return this.points.map((function(o){return{x:o[0]+t-n/2,y:o[1]+e-r/2}}))}},{key:"width",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=zt(n,1)[0];r<t&&(t=r),r>e&&(e=r)})),e-t}},{key:"height",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=zt(n,2)[1];r<t&&(t=r),r>e&&(e=r)})),e-t}},{key:"anchors",get:function(){var t=this,e=this.anchorsOffset,n=this.x,r=this.y,o=this.width,i=this.height,a=this.points;return e&&e.length>0?this.getAnchorsByOffset():a.map((function(e,a){var u=zt(e,2),c=u[0],s=u[1];return{x:n+c-o/2,y:r+s-i/2,id:"".concat(t.id,"_").concat(a)}}))}}])&&Ut(r.prototype,e),r}(W)).prototype,"points",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Vt(Ct.prototype,"pointsPosition",[A.k],Object.getOwnPropertyDescriptor(Ct.prototype,"pointsPosition"),Ct.prototype),Vt(Ct.prototype,"width",[A.k],Object.getOwnPropertyDescriptor(Ct.prototype,"width"),Ct.prototype),Vt(Ct.prototype,"height",[A.k],Object.getOwnPropertyDescriptor(Ct.prototype,"height"),Ct.prototype),Vt(Ct.prototype,"anchors",[A.k],Object.getOwnPropertyDescriptor(Ct.prototype,"anchors"),Ct.prototype),Ct);function Zt(t){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qt(t,e){return(Qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ne(t);if(e){var o=ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return te(this,n)}}function te(t,e){return!e||"object"!==Zt(e)&&"function"!=typeof e?ee(t):e}function ee(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function re(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var oe,ie,ae,ue,ce=(Kt=re((Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qt(t,e)}(r,t);var e,n=Jt(r);function r(t,e){var o,i,a,u,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(o=n.call(this,t,e,"rect")).modelType=N.e.RECT_NODE,i=o,a="radius",u=Kt,c=ee(o),u&&Object.defineProperty(i,a,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(c):void 0}),o}return(e=[{key:"anchors",get:function(){var t=this.anchorsOffset,e=this.x,n=this.y,r=this.width,o=this.height;return t&&t.length>0?this.getAnchorsByOffset():[{x:e,y:n-o/2,id:"".concat(this.id,"_0")},{x:e+r/2,y:n,id:"".concat(this.id,"_1")},{x:e,y:n+o/2,id:"".concat(this.id,"_2")},{x:e-r/2,y:n,id:"".concat(this.id,"_3")}]}}])&&qt(r.prototype,e),r}(W)).prototype,"radius",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.a.rect.radius}}),re(Wt.prototype,"anchors",[A.k],Object.getOwnPropertyDescriptor(Wt.prototype,"anchors"),Wt.prototype),Wt);function se(t){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pe(t,e){return(pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function de(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ve(t);if(e){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}function he(t,e){return!e||"object"!==se(e)&&"function"!=typeof e?ye(t):e}function ye(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ve(t){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function be(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}n(71),n(110);var ge,me=(ie=be((oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pe(t,e)}(r,t);var e,n=de(r);function r(t,e){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(o=n.call(this,t,e,"text")).modelType=N.e.TEXT_NODE,le(o,"fontSize",ie,ye(o)),le(o,"fontFamily",ae,ye(o)),le(o,"fontWeight",ue,ye(o)),o}return(e=[{key:"width",get:function(){var t=String(this.text.value).split(/[\r\n]/g),e=Object(R.j)({rows:t,fontSize:this.fontSize,rowsLength:t.length}).width;return e>100?e:100}},{key:"height",get:function(){var t=String(this.text.value).split(/[\r\n]/g),e=Object(R.j)({rows:t,fontSize:this.fontSize,rowsLength:t.length}).height;return e>20?e:20}}])&&fe(r.prototype,e),r}(W)).prototype,"fontSize",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.a.text.fontSize}}),ae=be(oe.prototype,"fontFamily",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.a.text.fontFamily}}),ue=be(oe.prototype,"fontWeight",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.a.text.fontWeight}}),be(oe.prototype,"width",[A.k],Object.getOwnPropertyDescriptor(oe.prototype,"width"),oe.prototype),be(oe.prototype,"height",[A.k],Object.getOwnPropertyDescriptor(oe.prototype,"height"),oe.prototype),oe);function Oe(t){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function we(t,e){return(we=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ee(t);if(e){var o=Ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return je(this,n)}}function je(t,e){return!e||"object"!==Oe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Se,Pe,Ae,ke,De,Me,Te=(Se=(ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&we(t,e)}(r,t);var e,n=xe(r);function r(t,e){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(o=n.call(this,t,e,"html")).modelType=N.e.HTML_NODE,o}return(e=[{key:"anchors",get:function(){var t=this.anchorsOffset,e=this.x,n=this.y,r=this.width,o=this.height;return t&&t.length>0?this.getAnchorsByOffset():[{x:e,y:n-o/2,id:"".concat(this.id,"_0")},{x:e+r/2,y:n,id:"".concat(this.id,"_1")},{x:e,y:n+o/2,id:"".concat(this.id,"_2")},{x:e-r/2,y:n,id:"".concat(this.id,"_3")}]}}])&&_e(r.prototype,e),r}(W)).prototype,Pe="anchors",Ae=[A.k],ke=Object.getOwnPropertyDescriptor(ge.prototype,"anchors"),De=ge.prototype,Me={},Object.keys(ke).forEach((function(t){Me[t]=ke[t]})),Me.enumerable=!!Me.enumerable,Me.configurable=!!Me.configurable,("value"in Me||Me.initializer)&&(Me.writable=!0),Me=Ae.slice().reverse().reduce((function(t,e){return e(Se,Pe,t)||t}),Me),De&&void 0!==Me.initializer&&(Me.value=Me.initializer?Me.initializer.call(De):void 0,Me.initializer=void 0),void 0===Me.initializer&&(Object.defineProperty(Se,Pe,Me),Me=null),ge)},function(t,e,n){n.d(e,"a",(function(){return a.a})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return S.a})),n.d(e,"d",(function(){return P.a}));var r,o,i,a=n(52),u=(n(31),n(21),n(38),n(23),n(22),n(0)),c=n(2),s=n(4),l=n(9);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=x(t);if(e){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?w(t):e}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var E=(i=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(r,t);var e,n=O(r);function r(t,e){var i,a,u,s,f;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(i=n.call(this,t,e,"bezier")).modelType=c.e.BEZIER_EDGE,i.offset=l.a.bezier.offset,a=i,u="path",s=o,f=w(i),s&&Object.defineProperty(a,u,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(f):void 0}),i}return(e=[{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var t=0,e=0;return this.pointsList.forEach((function(n){var r=n.x,o=n.y;t+=r,e+=o})),{x:t/this.pointsList.length,y:e/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var t=g(x(r.prototype),"getData",this).call(this),e=this.pointsList.map((function(t){return{x:t.x,y:t.y}}));return y(y({},t),{},{pointsList:e})}},{key:"getControls",value:function(){var t=this.startPoint,e=this.endPoint;return Object(s.c)({start:t,end:e,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(t){var e=p(t,4),n=e[0],r=e[1],o=e[2],i=e[3];return"M ".concat(n.x," ").concat(n.y," \n    C ").concat(r.x," ").concat(r.y,",\n    ").concat(o.x," ").concat(o.y,",\n    ").concat(i.x," ").concat(i.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var t={x:this.startPoint.x,y:this.startPoint.y},e={x:this.endPoint.x,y:this.endPoint.y},n=this.getControls(),r=n.sNext,o=n.ePre;this.pointsList=[t,r,o,e],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(t){this.startPoint=t,this.updatePoints()}},{key:"updateEndPoint",value:function(t){this.endPoint=t,this.updatePoints()}},{key:"updateAdjustAnchor",value:function(t,e){"sNext"===e?this.pointsList[1]=t:"ePre"===e&&(this.pointsList[2]=t),this.path=this.getPath(this.pointsList)}}])&&b(r.prototype,e),r}(a.b),o=j((r=i).prototype,"path",[u.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j(r.prototype,"initPoints",[u.i],Object.getOwnPropertyDescriptor(r.prototype,"initPoints"),r.prototype),j(r.prototype,"updatePoints",[u.i],Object.getOwnPropertyDescriptor(r.prototype,"updatePoints"),r.prototype),j(r.prototype,"updateStartPoint",[u.i],Object.getOwnPropertyDescriptor(r.prototype,"updateStartPoint"),r.prototype),j(r.prototype,"updateEndPoint",[u.i],Object.getOwnPropertyDescriptor(r.prototype,"updateEndPoint"),r.prototype),j(r.prototype,"updateAdjustAnchor",[u.i],Object.getOwnPropertyDescriptor(r.prototype,"updateAdjustAnchor"),r.prototype),r),S=n(93),P=n(114)},function(t,e,n){e.a=function(){return!1}},function(t,e,n){(function(t){var r=n(11),o=y&&!y.nodeType&&y,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.a.Buffer:void 0,u=a?a.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(153)(t))},function(t,e,n){var r=n(82);e.a=function(t,e,n){var o=null==t?void 0:Object(r.a)(t,e);return void 0===o?n:o}},function(t,e,n){(function(t){n.d(e,"a",(function(){return b}));var r=n(0);function o(t){throw new Error("[mobx-utils] "+t)}function i(t,e){void 0===e&&(e="Illegal state"),t||o(e)}var a,u=function(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(u(Object.getPrototypeOf(t))||[])},c=function(t){return(e=t,n=u(e),n.filter((function(t,e){return n.indexOf(t)===e}))).filter((function(t){return"constructor"!==t&&!~t.indexOf("__")}));var e,n};function s(t){switch(this.state){case"pending":return t.pending&&t.pending(this.value);case"rejected":return t.rejected&&t.rejected(this.value);case"fulfilled":return t.fulfilled?t.fulfilled(this.value):this.value}}function l(t,e){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"==typeof t||"object"==typeof t&&t&&"function"==typeof t.then,"Please pass a promise or function to fromPromise"),!0===t.isPromiseBasedObservable)return t;"function"==typeof t&&(t=new Promise(t));var n=t;t.then(Object(r.i)("observableFromPromise-resolve",(function(t){n.value=t,n.state="fulfilled"})),Object(r.i)("observableFromPromise-reject",(function(t){n.value=t,n.state="rejected"}))),n.isPromiseBasedObservable=!0,n.case=s;var o=e&&"fulfilled"===e.state?e.value:void 0;return Object(r.o)(n,{value:o,state:"pending"},{},{deep:!1}),n}(a=l||(l={})).reject=Object(r.i)("fromPromise.reject",(function(t){var e=a(Promise.reject(t));return e.state="rejected",e.value=t,e})),a.resolve=Object(r.i)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var e=a(Promise.resolve(t));return e.state="fulfilled",e.value=t,e}));var f=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};!function(){function t(t,e){var n=this;Object(r.E)((function(){n.current=e,n.subscription=t.subscribe(n)}))}t.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.next=function(t){this.current=t},t.prototype.complete=function(){this.dispose()},t.prototype.error=function(t){this.current=t,this.dispose()},f([r.A.ref],t.prototype,"current",void 0),f([r.i.bound],t.prototype,"next",null),f([r.i.bound],t.prototype,"complete",null),f([r.i.bound],t.prototype,"error",null)}();var p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},h=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function y(t){if(!t)return"ROOT";for(var e=[];t.parent;)e.push(t.path),t=t.parent;return e.reverse().join("/")}function v(t){return Object(r.y)(t)||Object(r.w)(t)||Object(r.x)(t)}function b(t,e){var n=new WeakMap;function o(r){var o=n.get(r.object);!function(t,e){switch(t.type){case"add":i(t.newValue,e,t.name);break;case"update":a(t.oldValue),i(t.newValue,e,t.name||""+t.index);break;case"remove":case"delete":a(t.oldValue);break;case"splice":t.removed.map(a),t.added.forEach((function(n,r){return i(n,e,""+(t.index+r))}));for(var r=t.index+t.addedCount;r<t.object.length;r++)if(v(t.object[r])){var o=n.get(t.object[r]);o&&(o.path=""+r)}}}(r,o),e(r,y(o),t)}function i(t,e,a){if(v(t)){var u=n.get(t);if(u){if(u.parent!==e||u.path!==a)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+y(e)+"/"+a+"', but it already exists at '"+y(u.parent)+"/"+u.path+"'")}else{var c={parent:e,path:a,dispose:Object(r.B)(t,o)};n.set(t,c),Object(r.n)(t).forEach((function(t){var e=t[0];return i(t[1],c,e)}))}}}function a(t){if(v(t)){var e=n.get(t);if(!e)return;n.delete(t),e.dispose(),Object(r.J)(t).forEach(a)}}return i(t,void 0,""),function(){a(t)}}!function(){function t(t){var e=this;this.model=t,this.localValues=r.A.map({}),this.localComputedValues=r.A.map({}),this.isPropertyDirty=function(t){return e.localValues.has(t)},i(Object(r.y)(t),"createViewModel expects an observable object"),c(t).forEach((function(n){if(n!==r.a&&"__mobxDidRunLazyInitializers"!==n){if(i(-1===h.indexOf(n),"The propertyname "+n+" is reserved and cannot be used with viewModels"),Object(r.u)(t,n)){var o=Object(r.f)(t,n).derivation;e.localComputedValues.set(n,Object(r.k)(o.bind(e)))}var a=Object.getOwnPropertyDescriptor(t,n),u=a?{enumerable:a.enumerable}:{};Object.defineProperty(e,n,p(p({},u),{configurable:!0,get:function(){return Object(r.u)(t,n)?e.localComputedValues.get(n).get():e.isPropertyDirty(n)?e.localValues.get(n):e.model[n]},set:Object(r.i)((function(t){t!==e.model[n]?e.localValues.set(n,t):e.localValues.delete(n)}))}))}}))}Object.defineProperty(t.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),t.prototype.submit=function(){var t=this;Object(r.z)(this.localValues).forEach((function(e){var n=t.localValues.get(e),o=t.model[e];Object(r.w)(o)?o.replace(n):Object(r.x)(o)?(o.clear(),o.merge(n)):Object(r.t)(n)||(t.model[e]=n)})),this.localValues.clear()},t.prototype.reset=function(){this.localValues.clear()},t.prototype.resetProperty=function(t){this.localValues.delete(t)},d([r.k],t.prototype,"isDirty",null),d([r.k],t.prototype,"changedValues",null),d([r.i.bound],t.prototype,"submit",null),d([r.i.bound],t.prototype,"reset",null),d([r.i.bound],t.prototype,"resetProperty",null)}();var g,m=(g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});(function(t){function e(e,n,o){var i=void 0===o?{}:o,a=i.name,u=void 0===a?"ogm"+(1e3*Math.random()|0):a,c=i.keyToName,s=void 0===c?function(t){return""+t}:c,l=t.call(this)||this;l._keyToName=s,l._groupBy=n,l._ogmInfoKey="function"==typeof Symbol?Symbol("ogmInfo"+u):"__ogmInfo"+u,l._base=e;for(var f=0;f<e.length;f++)l._addItem(e[f]);return l._disposeBaseObserver=Object(r.B)(l._base,(function(t){if("splice"===t.type)Object(r.H)((function(){for(var e=0,n=t.removed;e<n.length;e++){var r=n[e];l._removeItem(r)}for(var o=0,i=t.added;o<i.length;o++){var a=i[o];l._addItem(a)}}));else{if("update"!==t.type)throw new Error("illegal state");Object(r.H)((function(){l._removeItem(t.oldValue),l._addItem(t.newValue)}))}})),l}m(e,t),e.prototype.clear=function(){throw new Error("not supported")},e.prototype.delete=function(t){throw new Error("not supported")},e.prototype.set=function(t,e){throw new Error("not supported")},e.prototype.dispose=function(){this._disposeBaseObserver();for(var t=0;t<this._base.length;t++){var e=this._base[t];e[this._ogmInfoKey].reaction(),delete e[this._ogmInfoKey]}},e.prototype._getGroupArr=function(e){var n=t.prototype.get.call(this,e);return void 0===n&&(n=Object(r.A)([],{name:"GroupArray["+this._keyToName(e)+"]"}),t.prototype.set.call(this,e,n)),n},e.prototype._removeFromGroupArr=function(e,n){var r=t.prototype.get.call(this,e);1===r.length?t.prototype.delete.call(this,e):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)},e.prototype._addItem=function(t){var e=this,n=this._groupBy(t),o=this._getGroupArr(n),i={groupByValue:n,groupArrIndex:o.length,reaction:Object(r.D)((function(){return e._groupBy(t)}),(function(n,r){console.log("new group by value ",n);var o=t[e._ogmInfoKey];e._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=e._getGroupArr(n),a=i.length;i.push(t),o.groupByValue=n,o.groupArrIndex=a}))};Object.defineProperty(t,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(t)},e.prototype._removeItem=function(t){var e=t[this._ogmInfoKey];this._removeFromGroupArr(e.groupByValue,e.groupArrIndex),e.reaction(),delete t[this._ogmInfoKey]}})(r.b),function(){function t(t,e){this.base=t,this.args=e,this.closestIdx=0,this.isDisposed=!1;for(var n=this.closest=this.root=t,r=0;r<this.args.length-1&&(n=n.get(e[r]));r++)this.closest=n;this.closestIdx=r}t.prototype.exists=function(){this.assertNotDisposed();var t=this.args.length;return this.closestIdx>=t-1&&this.closest.has(this.args[t-1])},t.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},t.prototype.set=function(t){this.assertNotDisposed();for(var e=this.args.length,n=this.closest,r=this.closestIdx;r<e-1;r++){var o=new Map;n.set(this.args[r],o),n=o}this.closestIdx=e-1,this.closest=n,n.set(this.args[e-1],t)},t.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var t=this.args.length;this.closest.delete(this.args[t-1]);for(var e=this.root,n=[e],r=0;r<t-1;r++)e=e.get(this.args[r]),n.push(e);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0},t.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}(),Promise.resolve(),"undefined"!=typeof queueMicrotask?queueMicrotask:void 0!==t&&t.nextTick}).call(this,n(159))},function(t,e,n){var r;!function(o,i,a){if(o){for(var u,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)c[111+p]="f"+p;for(p=0;p<=9;++p)c[p+96]=p.toString();g.prototype.bind=function(t,e,n){return t=t instanceof Array?t:[t],this._bindMultiple.call(this,t,e,n),this},g.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},g.prototype.trigger=function(t,e){return this._directMap[t+":"+e]&&this._directMap[t+":"+e]({},t),this},g.prototype.reset=function(){return this._callbacks={},this._directMap={},this},g.prototype.stopCallback=function(t,e){if((" "+e.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function t(e,n){return null!==e&&e!==i&&(e===n||t(e.parentNode,n))}(e,this.target))return!1;if("composedPath"in t&&"function"==typeof t.composedPath){var n=t.composedPath()[0];n!==t.target&&(e=n)}return"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},g.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},g.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(c[e]=t[e]);u=null},g.init=function(){var t=g(i);for(var e in t)"_"!==e.charAt(0)&&(g[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},g.init(),o.Mousetrap=g,t.exports&&(t.exports=g),void 0===(r=function(){return g}.call(e,n,e,t))||(t.exports=r)}function d(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function h(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return c[t.which]?c[t.which]:s[t.which]?s[t.which]:String.fromCharCode(t.which).toLowerCase()}function y(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function v(t,e,n){return n||(n=function(){if(!u)for(var t in u={},c)t>95&&t<112||c.hasOwnProperty(t)&&(u[c[t]]=t);return u}()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function b(t,e){var n,r,o,i,a=[];for(n="+"===(i=t)?["+"]:(i=i.replace(/\+{2}/g,"+plus")).split("+"),o=0;o<n.length;++o)r=n[o],f[r]&&(r=f[r]),e&&"keypress"!=e&&l[r]&&(r=l[r],a.push("shift")),y(r)&&a.push(r);return{key:r,modifiers:a,action:e=v(r,a,e)}}function g(t){var e=this;if(t=t||i,!(e instanceof g))return new g(t);e.target=t,e._callbacks={},e._directMap={};var n,r={},o=!1,a=!1,u=!1;function c(t){t=t||{};var e,n=!1;for(e in r)t[e]?n=!0:r[e]=0;n||(u=!1)}function s(t,n,o,i,a,u){var c,s,l,f,p=[],d=o.type;if(!e._callbacks[t])return[];for("keyup"==d&&y(t)&&(n=[t]),c=0;c<e._callbacks[t].length;++c)if(s=e._callbacks[t][c],(i||!s.seq||r[s.seq]==s.level)&&d==s.action&&("keypress"==d&&!o.metaKey&&!o.ctrlKey||(l=n,f=s.modifiers,l.sort().join(",")===f.sort().join(",")))){var h=!i&&s.combo==a,v=i&&s.seq==i&&s.level==u;(h||v)&&e._callbacks[t].splice(c,1),p.push(s)}return p}function l(t,n,r,o){var i;e.stopCallback(n,n.target||n.srcElement,r,o)||!1===t(n,r)&&((i=n).preventDefault?i.preventDefault():i.returnValue=!1,function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(n))}function f(t){"number"!=typeof t.which&&(t.which=t.keyCode);var n,r,i=h(t);i&&("keyup"!=t.type||o!==i?e.handleKey(i,(r=[],(n=t).shiftKey&&r.push("shift"),n.altKey&&r.push("alt"),n.ctrlKey&&r.push("ctrl"),n.metaKey&&r.push("meta"),r),t):o=!1)}function p(t,e,i,a){function s(e){return function(){u=e,++r[t],clearTimeout(n),n=setTimeout(c,1e3)}}function f(e){l(i,e,t),"keyup"!==a&&(o=h(e)),setTimeout(c,10)}r[t]=0;for(var p=0;p<e.length;++p){var d=p+1===e.length?f:s(a||b(e[p+1]).action);v(e[p],d,a,t,p)}}function v(t,n,r,o,i){e._directMap[t+":"+r]=n;var a,u=(t=t.replace(/\s+/g," ")).split(" ");u.length>1?p(t,u,n,r):(a=b(t,r),e._callbacks[a.key]=e._callbacks[a.key]||[],s(a.key,a.modifiers,{type:a.action},o,t,i),e._callbacks[a.key][o?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:t}))}e._handleKey=function(t,e,n){var r,o=s(t,e,n),i={},f=0,p=!1;for(r=0;r<o.length;++r)o[r].seq&&(f=Math.max(f,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=f)continue;p=!0,i[o[r].seq]=1,l(o[r].callback,n,o[r].combo,o[r].seq)}else p||l(o[r].callback,n,o[r].combo);var d="keypress"==n.type&&a;n.type!=u||y(t)||d||c(i),a=p&&"keydown"==n.type},e._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)v(t[r],e,n)},d(t,"keypress",f),d(t,"keydown",f),d(t,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(t,e,n){var r=n(19),o=n(163),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,n){var r=n(30),o=n(202),i=n(95),a=n(35);t.exports=function(t,e){for(var n=o(e),u=a.f,c=i.f,s=0;s<n.length;s++){var l=n[s];r(t,l)||u(t,l,c(e,l))}}},function(t,e,n){var r=n(100),o=n(165),i=n(168),a=n(26);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(19);t.exports=r},function(t,e,n){var r=n(171);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(29),o=n(35),i=n(26),a=n(145);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),u=r.length,c=0;u>c;)o.f(t,n=r[c++],e[n]);return t}},function(t,e,n){var r=n(100);t.exports=r("document","documentElement")},function(t,e,n){var r=n(172).IteratorPrototype,o=n(104),i=n(96),a=n(148),u=n(90),c=function(){return this};t.exports=function(t,e,n){var s=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,s,!1,!0),u[s]=c,t}},function(t,e,n){var r=n(34);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(100);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(29),o=n(35).f,i=Function.prototype,a=i.toString,u=/^\s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(u)[1]}catch(t){return""}}})},function(t,e,n){var r=n(7),o=n(19),i=n(140),a=n(51),u=n(174),c=n(175),s=n(180),l=n(34),f=n(10),p=n(181),d=n(148),h=n(182);t.exports=function(t,e,n){var y=-1!==t.indexOf("Map"),v=-1!==t.indexOf("Weak"),b=y?"set":"add",g=o[t],m=g&&g.prototype,O=g,_={},w=function(t){var e=m[t];a(m,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(i(t,"function"!=typeof g||!(v||m.forEach&&!f((function(){(new g).entries().next()})))))O=n.getConstructor(e,t,y,b),u.REQUIRED=!0;else if(i(t,!0)){var x=new O,j=x[b](v?{}:-0,1)!=x,E=f((function(){x.has(1)})),S=p((function(t){new g(t)})),P=!v&&f((function(){for(var t=new g,e=5;e--;)t[b](e,e);return!t.has(-0)}));S||((O=e((function(e,n){s(e,O,t);var r=h(new g,e,O);return null!=n&&c(n,r[b],{that:r,AS_ENTRIES:y}),r}))).prototype=m,m.constructor=O),(E||P)&&(w("delete"),w("has"),y&&w("get")),(P||j)&&w(b),v&&m.clear&&delete m.clear}return _[t]=O,r({global:!0,forced:O!=g},_),d(O,t),v||n.setStrong(O,t,y),O}},function(t,e,n){var r=n(10);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){var r=n(35).f,o=n(104),i=n(214),a=n(102),u=n(180),c=n(175),s=n(146),l=n(215),f=n(29),p=n(174).fastKey,d=n(98),h=d.set,y=d.getterFor;t.exports={getConstructor:function(t,e,n,s){var l=t((function(t,r){u(t,l,e),h(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),f||(t.size=0),null!=r&&c(r,t[s],{that:t,AS_ENTRIES:n})})),d=y(e),v=function(t,e,n){var r,o,i=d(t),a=b(t,e);return a?a.value=n:(i.last=a={index:o=p(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},b=function(t,e){var n,r=d(t),o=p(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(l.prototype,{clear:function(){for(var t=d(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=d(this),n=b(this,t);if(n){var r=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),e.first==n&&(e.first=r),e.last==n&&(e.last=o),f?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=d(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),i(l.prototype,n?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),f&&r(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",o=y(e),i=y(r);s(t,e,(function(t,e){h(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},function(t,e,n){var r=n(51);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(100),o=n(35),i=n(17),a=n(29),u=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[u]&&n(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(151),o=n(178);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){var r=n(7),o=n(101).find,i=n(144),a=n(68),u=!0,c=a("find");"find"in[]&&Array(1).find((function(){u=!1})),r({target:"Array",proto:!0,forced:u||!c},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(t,e,n){var r=n(7),o=n(219).left,i=n(103),a=n(68),u=n(150),c=n(220),s=i("reduce"),l=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!l||!c&&u>79&&u<83},{reduce:function(t){return o(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(141),o=n(37),i=n(89),a=n(36),u=function(t){return function(e,n,u,c){r(n);var s=o(e),l=i(s),f=a(s.length),p=t?f-1:0,d=t?-1:1;if(u<2)for(;;){if(p in l){c=l[p],p+=d;break}if(p+=d,t?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:f>p;p+=d)p in l&&(c=n(c,l[p],p,s));return c}};t.exports={left:u(!1),right:u(!0)}},function(t,e,n){var r=n(67),o=n(19);t.exports="process"==r(o.process)},function(t,e,n){var r=n(7),o=n(101).filter,i=n(105),a=n(68),u=i("filter"),c=a("filter");r({target:"Array",proto:!0,forced:!u||!c},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(45),o="["+n(223)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),u=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){var r=n(10);function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){var r=n(34),o=n(67),i=n(17)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){var r=n(26),o=n(141),i=n(17)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r=n(29),o=n(10),i=n(145),a=n(168),u=n(160),c=n(37),s=n(89),l=Object.assign,f=Object.defineProperty;t.exports=!l||o((function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||"abcdefghijklmnopqrst"!=i(l({},e)).join("")}))?function(t,e){for(var n=c(t),o=arguments.length,l=1,f=a.f,p=u.f;o>l;)for(var d,h=s(arguments[l++]),y=f?i(h).concat(f(h)):i(h),v=y.length,b=0;v>b;)d=y[b++],r&&!p.call(h,d)||(n[d]=h[d]);return n}:l},function(t,e,n){var r=n(7),o=Math.hypot,i=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,o=0,u=0,c=arguments.length,s=0;u<c;)s<(n=i(arguments[u++]))?(o=o*(r=s/n)*r+1,s=n):o+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*a(o)}})},function(t,e,n){var r=n(45),o=/"/g;t.exports=function(t,e,n,i){var a=String(r(t)),u="<"+e;return""!==n&&(u+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),u+">"+a+"</"+e+">"}},function(t,e,n){var r=n(10);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,n){n(7)({target:"String",proto:!0},{repeat:n(232)})},function(t,e,n){var r=n(76),o=n(45);t.exports="".repeat||function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e,n){var r=n(37),o=n(138),i=n(36);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,s=void 0===c?n:o(c,n);s>u;)e[u++]=t;return e}},function(t,e,n){var r=n(154),o=n(26),i=n(36),a=n(45),u=n(155),c=n(156);r("match",1,(function(t,e,n){return[function(e){var n=a(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var a=o(t),s=String(this);if(!a.global)return c(a,s);var l=a.unicode;a.lastIndex=0;for(var f,p=[],d=0;null!==(f=c(a,s));){var h=String(f[0]);p[d]=h,""===h&&(a.lastIndex=u(s,i(a.lastIndex),l)),d++}return 0===d?null:p}]}))},function(t,e,n){var r=n(7),o=n(236);r({target:"Array",stat:!0,forced:!n(181)((function(t){Array.from(t)}))},{from:o})},function(t,e,n){var r=n(102),o=n(37),i=n(237),a=n(176),u=n(36),c=n(152),s=n(177);t.exports=function(t){var e,n,l,f,p,d,h=o(t),y="function"==typeof this?this:Array,v=arguments.length,b=v>1?arguments[1]:void 0,g=void 0!==b,m=s(h),O=0;if(g&&(b=r(b,v>2?arguments[2]:void 0,2)),null==m||y==Array&&a(m))for(n=new y(e=u(h.length));e>O;O++)d=g?b(h[O],O):h[O],c(n,O,d);else for(p=(f=m.call(h)).next,n=new y;!(l=p.call(f)).done;O++)d=g?i(f,b,[l.value,O],!0):l.value,c(n,O,d);return n.length=O,n}},function(t,e,n){var r=n(26),o=n(179);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){throw o(t),a}}},,function(t,e,n){var r=n(63),o=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},i=n(57),a=n(41),u=n(33),c=function(t,e){return t&&Object(a.a)(e,Object(u.a)(e),t)},s=n(130),l=n(12),f=n(56),p=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},d=Object.prototype.hasOwnProperty,h=function(t){if(!Object(l.a)(t))return p(t);var e=Object(f.a)(t),n=[];for(var r in t)("constructor"!=r||!e&&d.call(t,r))&&n.push(r);return n},y=n(32),v=function(t){return Object(y.a)(t)?Object(s.a)(t,!0):h(t)},b=function(t,e){return t&&Object(a.a)(e,v(e),t)},g=n(196),m=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},O=n(86),_=function(t,e){return Object(a.a)(t,Object(O.a)(t),e)},w=n(81),x=n(123),j=Object(x.a)(Object.getPrototypeOf,Object),E=n(125),S=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Object(w.a)(e,Object(O.a)(t)),t=j(t);return e}:E.a,P=function(t,e){return Object(a.a)(t,S(t),e)},A=n(94),k=n(126),D=function(t){return Object(k.a)(t,v,S)},M=n(47),T=Object.prototype.hasOwnProperty,N=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&T.call(t,"index")&&(n.index=t.index,n.input=t.input),n},C=n(88),R=function(t){var e=new t.constructor(t.byteLength);return new C.a(e).set(new C.a(t)),e},I=function(t,e){var n=e?R(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},L=/\w*$/,z=function(t){var e=new t.constructor(t.source,L.exec(t));return e.lastIndex=t.lastIndex,e},B=n(16),U=B.a?B.a.prototype:void 0,X=U?U.valueOf:void 0,F=function(t){return X?Object(X.call(t)):{}},H=function(t,e){var n=e?R(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},G=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return R(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return I(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return H(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return z(t);case"[object Set]":return new r;case"[object Symbol]":return F(t)}},Y=Object.create,V=function(){function t(){}return function(e){if(!Object(l.a)(e))return{};if(Y)return Y(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),W=function(t){return"function"!=typeof t.constructor||Object(f.a)(t)?{}:V(j(t))},K=n(8),$=n(72),Z=n(24),q=function(t){return Object(Z.a)(t)&&"[object Map]"==Object(M.a)(t)},Q=n(80),J=n(48),tt=J.a&&J.a.isMap,et=tt?Object(Q.a)(tt):q,nt=function(t){return Object(Z.a)(t)&&"[object Set]"==Object(M.a)(t)},rt=J.a&&J.a.isSet,ot=rt?Object(Q.a)(rt):nt,it={};it["[object Arguments]"]=it["[object Array]"]=it["[object ArrayBuffer]"]=it["[object DataView]"]=it["[object Boolean]"]=it["[object Date]"]=it["[object Float32Array]"]=it["[object Float64Array]"]=it["[object Int8Array]"]=it["[object Int16Array]"]=it["[object Int32Array]"]=it["[object Map]"]=it["[object Number]"]=it["[object Object]"]=it["[object RegExp]"]=it["[object Set]"]=it["[object String]"]=it["[object Symbol]"]=it["[object Uint8Array]"]=it["[object Uint8ClampedArray]"]=it["[object Uint16Array]"]=it["[object Uint32Array]"]=!0,it["[object Error]"]=it["[object Function]"]=it["[object WeakMap]"]=!1;var at=function t(e,n,a,s,f,p){var d,h=1&n,y=2&n,O=4&n;if(a&&(d=f?a(e,s,f,p):a(e)),void 0!==d)return d;if(!Object(l.a)(e))return e;var w=Object(K.a)(e);if(w){if(d=N(e),!h)return m(e,d)}else{var x=Object(M.a)(e),j="[object Function]"==x||"[object GeneratorFunction]"==x;if(Object($.a)(e))return Object(g.a)(e,h);if("[object Object]"==x||"[object Arguments]"==x||j&&!f){if(d=y||j?{}:W(e),!h)return y?P(e,b(d,e)):_(e,c(d,e))}else{if(!it[x])return f?e:{};d=G(e,x,h)}}p||(p=new r.a);var E=p.get(e);if(E)return E;p.set(e,d),ot(e)?e.forEach((function(r){d.add(t(r,n,a,r,e,p))})):et(e)&&e.forEach((function(r,o){d.set(o,t(r,n,a,o,e,p))}));var S=O?y?D:A.a:y?v:u.a,k=w?void 0:S(e);return o(k||e,(function(r,o){k&&(r=e[o=r]),Object(i.a)(d,o,t(r,n,a,o,e,p))})),d};e.a=function(t){return at(t,5)}},function(t,e,n){var r,o=n(124),i=n(63),a=n(84),u=function(t,e,n,r){var o=n.length,u=o,c=!r;if(null==t)return!u;for(t=Object(t);o--;){var s=n[o];if(c&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<u;){var l=(s=n[o])[0],f=t[l],p=s[1];if(c&&s[2]){if(void 0===f&&!(l in t))return!1}else{var d=new i.a;if(r)var h=r(f,p,l,t,e,d);if(!(void 0===h?Object(a.a)(p,f,3,r,d):h))return!1}}return!0},c=n(12),s=function(t){return t==t&&!Object(c.a)(t)},l=n(33),f=function(t){for(var e=Object(l.a)(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,s(o)]}return e},p=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}},d=function(t){var e=f(t);return 1==e.length&&e[0][2]?p(e[0][0],e[0][1]):function(n){return n===t||u(n,t,e)}},h=n(197),y=n(128),v=n(83),b=n(42),g=function(t,e){return Object(v.a)(t)&&s(e)?p(Object(b.a)(t),e):function(n){var r=Object(h.a)(n,t);return void 0===r&&r===e?Object(y.a)(n,t):Object(a.a)(e,r,3)}},m=n(78),O=n(8),_=function(t){return function(e){return null==e?void 0:e[t]}},w=n(82),x=function(t){return function(e){return Object(w.a)(e,t)}},j=function(t){return Object(v.a)(t)?_(Object(b.a)(t)):x(t)},E=function(t){return"function"==typeof t?t:null==t?m.a:"object"==typeof t?Object(O.a)(t)?g(t[0],t[1]):d(t):j(t)},S=function(t,e,n){for(var o=-1,i=Object(t),a=n(t),u=a.length;u--;){var c=a[r?u:++o];if(!1===e(i[c],c,i))break}return t},P=function(t,e){return t&&S(t,e,l.a)},A=n(32),k=function(t,e){return function(n,r){if(null==n)return n;if(!Object(A.a)(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Object(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}(P),D=function(t,e){var n=-1,r=Object(A.a)(t)?Array(t.length):[];return k(t,(function(t,o,i){r[++n]=e(t,o,i)})),r};e.a=function(t,e){return(Object(O.a)(t)?o.a:D)(t,E(e))}}]);var b=t(v.exports);var g=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){var e=t.exports=function(t,n){if(n||(n=16),void 0===t&&(t=128),t<=0)return"0";for(var r=Math.log(Math.pow(2,t))/Math.log(n),o=2;r===1/0;o*=2)r=Math.log(Math.pow(2,t/o))/Math.log(n)*o;var i=r-Math.floor(r),a="";for(o=0;o<Math.floor(r);o++){a=Math.floor(Math.random()*n).toString(n)+a}if(i){var u=Math.pow(n,i);a=Math.floor(Math.random()*u).toString(n)+a}var c=parseInt(a,n);return c!==1/0&&c>=Math.pow(2,t)?e(t,n):a};e.rack=function(t,n,r){var o=function(o){var a=0;do{if(a++>10){if(!r)throw new Error("too many ID collisions, use more bits");t+=r}var u=e(t,n)}while(Object.hasOwnProperty.call(i,u));return i[u]=o,u},i=o.hats={};return o.get=function(t){return o.hats[t]},o.set=function(t,e){return o.hats[t]=e,o},o.bits=t||128,o.base=n||16,o}}));function m(t){if(!(this instanceof m))return new m(t);t=t||[128,36,1],this._seed=t.length?g.rack(t[0],t[1],t[2]):t}m.prototype.next=function(t){return this._seed(t||!0)},m.prototype.nextPrefixed=function(t,e){var n;do{n=t+this.next(!0)}while(this.assigned(n));return this.claim(n,e),n},m.prototype.claim=function(t,e){this._seed.set(t,e||!0)},m.prototype.assigned=function(t){return this._seed.get(t)||!1},m.prototype.unclaim=function(t){delete this._seed.hats[t]},m.prototype.clear=function(){var t,e=this._seed.hats;for(t in e)this.unclaim(t)};var O=new m([32,32,1]);function _(){return O.next()}var w,x=(w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),j=function(){return(j=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};!function(t){function e(e,n){return e.id||(e.id="Event_"+_()),e.text||(e.text=""),e.text&&"string"==typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40}),t.call(this,e,n)||this}x(e,t),e.prototype.getConnectedTargetRules=function(){var e=t.prototype.getConnectedTargetRules.call(this);return e.push({message:"起始节点不能作为连线的终点",validate:function(){return!1}}),e},e.extendKey="StartEventModel"}(v.exports.CircleNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}x(e,t),e.prototype.getAttributes=function(){var e=t.prototype.getAttributes.call(this);return j({},e)},e.extendKey="StartEventNode"}(v.exports.CircleNode);var E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n){return e.id||(e.id="Event_"+_()),e.text||(e.text=""),e.text&&"string"==typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40}),t.call(this,e,n)||this}E(e,t),e.prototype.getConnectedSourceRules=function(){var e=t.prototype.getConnectedSourceRules.call(this);return e.push({message:"结束节点不能作为连线的起点",validate:function(){return!1}}),e},e.extendKey="EndEventModel"}(v.exports.CircleNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}E(e,t),e.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},e.prototype.getShape=function(){var e=this.getAttributes(),n=e.x,r=e.y,o=e.fill,i=e.stroke,a=e.strokeWidth,u=e.r,c=t.prototype.getShape.call(this);return v.exports.h("g",{},c,v.exports.h("circle",{cx:n,cy:r,fill:o,stroke:i,strokeWidth:a,r:u-5}))},e.extendKey="EndEventView"}(v.exports.CircleNode);var S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n){var r=this;return e.id||(e.id="Gateway_"+_()),e.text||(e.text=""),e.text&&"string"==typeof e.text&&(e.text={value:e.text,x:e.x,y:e.y+40}),(r=t.call(this,e,n)||this).points=[[25,0],[50,25],[25,50],[0,25]],r}S(e,t),e.extendKey="ExclusiveGatewayModel"}(v.exports.PolygonNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}S(e,t),e.prototype.getShape=function(){var e=t.prototype.getAttributes.call(this),n=e.x,r=e.y,o=e.fill,i=e.stroke,a=e.strokeWidth,u=e.width,c=e.height,s=e.points;return v.exports.h("g",{transform:"matrix(1 0 0 1 "+(n-u/2)+" "+(r-c/2)+")"},v.exports.h("polygon",{fill:o,x:n,y:r,stroke:i,strokeWidth:a,points:s}),v.exports.h("path",{fill:o,stroke:i,strokeWidth:a,d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"}))},e.extendKey="ExclusiveGatewayNode"}(v.exports.PolygonNode);var P=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n){return e.id||(e.id="Activity_"+_()),t.call(this,e,n)||this}P(e,t),e.extendKey="UserTaskModel"}(v.exports.RectNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}P(e,t),e.prototype.getLabelShape=function(){var e=t.prototype.getAttributes.call(this),n=e.x,r=e.y,o=e.width,i=e.height,a=e.stroke;return v.exports.h("svg",{x:n-o/2+5,y:r-i/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},v.exports.h("path",{fill:a,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},e.prototype.getShape=function(){var e=t.prototype.getAttributes.call(this),n=e.x,r=e.y,o=e.width,i=e.height,a=e.fill,u=e.stroke,c=e.strokeWidth,s=e.radius;return v.exports.h("g",{},[v.exports.h("rect",{x:n-o/2,y:r-i/2,rx:s,ry:s,fill:a,stroke:u,strokeWidth:c,width:o,height:i}),this.getLabelShape()])},e.extendKey="UserTaskNode"}(v.exports.RectNode);var A=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n){return e.id||(e.id="Activity_"+_()),t.call(this,e,n)||this}A(e,t),e.extendKey="ServiceTaskModel"}(v.exports.RectNodeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}A(e,t),e.prototype.getLabelShape=function(){var e=t.prototype.getAttributes.call(this),n=e.x,r=e.y,o=e.width,i=e.height,a=e.stroke;return v.exports.h("svg",{x:n-o/2+5,y:r-i/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},v.exports.h("path",{fill:a,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},e.prototype.getShape=function(){var e=t.prototype.getAttributes.call(this),n=e.x,r=e.y,o=e.width,i=e.height,a=e.fill,u=e.stroke,c=e.strokeWidth,s=e.radius;return v.exports.h("g",{},[v.exports.h("rect",{x:n-o/2,y:r-i/2,rx:s,ry:s,fill:a,stroke:u,strokeWidth:c,width:o,height:i}),this.getLabelShape()])},e.extendKey="ServiceTaskNode"}(v.exports.RectNode);var k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n){return e.id||(e.id="Flow_"+_()),t.call(this,e,n)||this}k(e,t),e.extendKey="SequenceFlowModel"}(v.exports.PolylineEdgeModel),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}k(e,t),e.extendKey="SequenceFlowEdge"}(v.exports.PolylineEdge);var D=40,M=40,T=40,N=40,C=40,R=40,I=100,L=80,z=100,B=80,U={pluginName:"snapshot",install:function(t){var e=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,t.getSnapshot=function(n,r){e.fileName=n||"logic-flow."+Date.now()+".png";var o=e.getSvgRootElement(t);e.downloadSvg(o,e.fileName,r)},t.getSnapshotBlob=function(n){var r=e.getSvgRootElement(t);return e.getBlob(r,n)},t.getSnapshotBase64=function(n){var r=e.getSvgRootElement(t);return e.getBase64(r,n)}},getSvgRootElement:function(t){var e=this;return t.graphModel.nodes.forEach((function(t){var n=t.x-t.width/2,r=t.y-t.height/2;n<e.offsetX&&(e.offsetX=n-5),r<e.offsetY&&(e.offsetY=r-5)})),t.graphModel.edges.forEach((function(t){t.pointsList&&t.pointsList.forEach((function(t){var n=t.x,r=t.y;n<e.offsetX&&(e.offsetX=n-5),r<e.offsetY&&(e.offsetY=r-5)}))})),t.container.querySelector("svg")},triggerDownload:function(t){var e=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),n=document.createElement("a");n.setAttribute("download",this.fileName),n.setAttribute("href",t),n.setAttribute("target","_blank"),n.dispatchEvent(e)},removeAnchor:function(t){for(var e=t.childNodes,n=t.childNodes&&t.childNodes.length,r=0;r<n;r++){var o=e[r];(o.classList&&Array.from(o.classList)||[]).indexOf("lf-anchor")>-1&&(t.removeChild(t.childNodes[r]),n--,r--)}},downloadSvg:function(t,e,n){var r=this;this.getCanvasData(t,n).then((function(t){var n=t.toDataURL("image/png").replace("image/png","image/octet-stream");r.triggerDownload(n,e)}))},getBase64:function(t,e){var n=this;return new Promise((function(r){n.getCanvasData(t,e).then((function(t){var e=t.toDataURL("image/png");r(e)}))}))},getBlob:function(t,e){var n=this;return new Promise((function(r){n.getCanvasData(t,e).then((function(t){t.toBlob((function(t){r(t)}),"image/png")}))}))},getCanvasData:function(t,e){var n=this,r=t.cloneNode(!0),o=r.lastChild,i=o.childNodes&&o.childNodes.length;if(i)for(var a=0;a<i;a++){var u=o.childNodes[a],c=u.classList&&Array.from(u.classList);if(c&&c.indexOf("lf-base")<0)o.removeChild(o.childNodes[a]),i--,a--;else{var s=o.childNodes[a];s&&s.childNodes.forEach((function(t){var e=t;n.removeAnchor(e.firstChild)}))}}r.lastChild.style.transform="matrix(1, 0, 0, 1, "+(10-this.offsetX)+", "+(10-this.offsetY)+")";var l=window.devicePixelRatio||1,f=document.createElement("canvas"),p=document.getElementsByClassName("lf-base")[0].getBoundingClientRect();f.style.width=p.width+"px",f.style.height=p.height+"px",f.width=p.width*l+80,f.height=p.height*l+80;var d=f.getContext("2d");d.scale(l,l),e?(d.fillStyle=e,d.fillRect(0,0,p.width*l+80,p.height*l+80)):d.clearRect(0,0,p.width,p.height);var h=new Image;return new Promise((function(t){h.onload=function(){d.drawImage(h,0,0),t(f)};var e=("data:image/svg+xml;charset=utf-8,"+(new XMLSerializer).serializeToString(r)).replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");h.src=e}))}},X=new m([32,32,1]);function F(){return X.next()}var H=function(){};(H.ObjTree=function(){return this}).VERSION="0.23",H.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',H.ObjTree.prototype.attr_prefix="-",H.ObjTree.prototype.parseXML=function(t){var e;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(t,"application/xml");if(!r)return;e=r.documentElement}else window.ActiveXObject&&((n=new ActiveXObject("Microsoft.XMLDOM")).async=!1,n.loadXML(t),e=n.documentElement);if(e)return this.parseDOM(e)},H.ObjTree.prototype.parseHTTP=function(t,e,n){var r,o={};for(var i in e)o[i]=e[i];if(o.method||(void 0===o.postBody&&void 0===o.postbody&&void 0===o.parameters?o.method="get":o.method="post"),n){o.asynchronous=!0;var a=this,u=n,c=o.onComplete;o.onComplete=function(t){var e;t&&t.responseXML&&t.responseXML.documentElement&&(e=a.parseDOM(t.responseXML.documentElement)),u(e,t),c&&c(t)}}else o.asynchronous=!1;if("undefined"!=typeof HTTP&&HTTP.Request)o.uri=t,(s=new HTTP.Request(o))&&(r=s.transport);else if("undefined"!=typeof Ajax&&Ajax.Request){var s;(s=new Ajax.Request(t,o))&&(r=s.transport)}return n?r:r&&r.responseXML&&r.responseXML.documentElement?this.parseDOM(r.responseXML.documentElement):void 0},H.ObjTree.prototype.parseDOM=function(t){if(t){if(this.__force_array={},this.force_array)for(var e=0;e<this.force_array.length;e++)this.__force_array[this.force_array[e]]=1;var n=this.parseElement(t);if(this.__force_array[t.nodeName]&&(n=[n]),11!=t.nodeType){var r={};r[t.nodeName]=n,n=r}return n}},H.ObjTree.prototype.parseElement=function(t){if(7!=t.nodeType){if(3==t.nodeType||4==t.nodeType){if(null==t.nodeValue.match(/[^\x00-\x20]/))return;return t.nodeValue}var e,n={};if(t.attributes&&t.attributes.length){e={};for(var r=0;r<t.attributes.length;r++){if("string"==typeof(a=t.attributes[r].nodeName))(u=t.attributes[r].nodeValue)&&(void 0===n[a=this.attr_prefix+a]&&(n[a]=0),n[a]++,this.addNode(e,a,n[a],u))}}if(t.childNodes&&t.childNodes.length){var o=!0;e&&(o=!1);for(r=0;r<t.childNodes.length&&o;r++){var i=t.childNodes[r].nodeType;3!=i&&4!=i&&(o=!1)}if(o){e||(e="");for(r=0;r<t.childNodes.length;r++)e+=t.childNodes[r].nodeValue}else{e||(e={});for(r=0;r<t.childNodes.length;r++){var a,u;if("string"==typeof(a=t.childNodes[r].nodeName))(u=this.parseElement(t.childNodes[r]))&&(void 0===n[a]&&(n[a]=0),n[a]++,this.addNode(e,a,n[a],u))}}}return e}},H.ObjTree.prototype.addNode=function(t,e,n,r){this.__force_array[e]?(1==n&&(t[e]=[]),t[e][t[e].length]=r):1==n?t[e]=r:2==n?t[e]=[t[e],r]:t[e][t[e].length]=r},H.ObjTree.prototype.writeXML=function(t){var e=this.hash_to_xml(null,t);return this.xmlDecl+e},H.ObjTree.prototype.hash_to_xml=function(t,e){var n=[],r=[];for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];o.charAt(0)!=this.attr_prefix?void 0===i||null==i?n[n.length]="<"+o+" />":"object"==typeof i&&i.constructor==Array?n[n.length]=this.array_to_xml(o,i):n[n.length]="object"==typeof i?this.hash_to_xml(o,i):this.scalar_to_xml(o,i):r[r.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=r.join(""),u=n.join("");return void 0===t||null==t||(u=n.length>0?u.match(/\n/)?"<"+t+a+">\n"+u+"</"+t+">\n":"<"+t+a+">"+u+"</"+t+">\n":"<"+t+a+" />\n"),u},H.ObjTree.prototype.array_to_xml=function(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r];void 0===o||null==o?n[n.length]="<"+t+" />":"object"==typeof o&&o.constructor==Array?n[n.length]=this.array_to_xml(t,o):n[n.length]="object"==typeof o?this.hash_to_xml(t,o):this.scalar_to_xml(t,o)}return n.join("")},H.ObjTree.prototype.scalar_to_xml=function(t,e){return"#text"==t?this.xml_escape(e):"<"+t+">"+this.xml_escape(e)+"</"+t+">\n"},H.ObjTree.prototype.xml_escape=function(t){return t.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var G,Y,V=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};(Y=G||(G={})).START="bpmn:startEvent",Y.END="bpmn:endEvent",Y.GATEWAY="bpmn:exclusiveGateway",Y.USER="bpmn:userTask",Y.SYSTEM="bpmn:serviceTask",Y.FLOW="bpmn:sequenceFlow";var W=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function K(t){var e={};return Object.entries(t).forEach((function(t){var n=V(t,2),r=n[0],o=n[1];"object"!=typeof o?0===r.indexOf("-")?e[r]=o:e["-"+r]=o:e[r]=K(o)})),e}function $(t){var e={};return Object.entries(t).forEach((function(t){var n=V(t,2),r=n[0],o=n[1];"string"==typeof o?0===r.indexOf("-")?e[r.substr(1)]=o:e[r]=o:e[r]="object"==typeof o?$(o):o})),e}function Z(t){var e=[],n=[],r=t["bpmn:definitions"];if(r){var o=r["bpmn:process"];Object.keys(o).forEach((function(t){if(0===t.indexOf("bpmn:")){var i=o[t];if(t===G.FLOW){var a=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];n=function(t,e){var n=[];if(Array.isArray(t))t.forEach((function(t){var r;r=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,n.push(Q(r,t))}));else{var r=void 0;r=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,n.push(Q(r,t))}return n}(i,a)}else{var u=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];e=e.concat(function(t,e,n){var r=[];if(Array.isArray(t))t.forEach((function(t){var o=q(Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,n,t);r.push(o)}));else{var o=q(Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,n,t);r.push(o)}return r}(i,u,t))}}}))}return{nodes:e,edges:n}}function q(t,e,n){var r,o,i=Number(t["dc:Bounds"]["-x"]),a=Number(t["dc:Bounds"]["-y"]),u=n["-name"],c=J.shapeConfigMap.get(e);if(c&&(i+=c.width/2,a+=c.height/2),Object.entries(n).forEach((function(t){var e=V(t,2),n=e[0],o=e[1];-1===W.indexOf(n)&&(r||(r={}),r[n]=o)})),r&&(r=$(r)),u&&(o={x:i,y:a,value:u},t["bpmndi:BPMNLabel"]&&t["bpmndi:BPMNLabel"]["dc:Bounds"])){var s=t["bpmndi:BPMNLabel"]["dc:Bounds"];o.x=Number(s["-x"])+Number(s["-width"])/2,o.y=Number(s["-y"])+Number(s["-height"])/2}var l={id:t["-bpmnElement"],type:e,x:i,y:a,properties:r};return o&&(l.text=o),l}function Q(t,e){var n,r,o=e["-name"];if(o){var i=t["bpmndi:BPMNLabel"]["dc:Bounds"],a=0;o.split("\n").forEach((function(t){a<t.length&&(a=t.length)})),n={value:o,x:Number(i["-x"])+10*a/2,y:Number(i["-y"])+7}}Object.entries(e).forEach((function(t){var e=V(t,2),n=e[0],o=e[1];-1===W.indexOf(n)&&(r||(r={}),r[n]=o)})),r&&(r=$(r));var u={id:e["-id"],type:G.FLOW,pointsList:t["di:waypoint"].map((function(t){return{x:Number(t["-x"]),y:Number(t["-y"])}})),sourceNodeId:e["-sourceRef"],targetNodeId:e["-targetRef"],properties:r};return n&&(u.text=n),u}var J={pluginName:"bpmn-adapter",install:function(t){t.adapterIn=this.adapterIn,t.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(t,e){this.shapeConfigMap.set(t,e)},adapterOut:function(t){var e={"-id":"Process_"+F(),"-isExecutable":"false"};!function(t,e){var n=new Map;e.nodes.forEach((function(e){var r,o={"-id":e.id};if((null===(r=e.text)||void 0===r?void 0:r.value)&&(o["-name"]=e.text.value),e.properties){var i=K(e.properties);Object.assign(o,i)}n.set(e.id,o),t[e.type]?Array.isArray(t[e.type])?t[e.type].push(o):t[e.type]=[t[e.type],o]:t[e.type]=o}));var r=e.edges.map((function(t){var e,r,o=n.get(t.sourceNodeId);o["bpmn:outgoing"]?Array.isArray(o["bpmn:outgoing"])?o["bpmn:outgoing"].push(t.id):o["bpmn:outgoing"]=[o["bpmn:outgoing"],t.id]:o["bpmn:outgoing"]=t.id;var i=n.get(t.targetNodeId);i["bpmn:incoming"]?Array.isArray(i["bpmn:incoming"])?i["bpmn:incoming"].push(t.id):i["bpmn:incoming"]=[i["bpmn:incoming"],t.id]:i["bpmn:incoming"]=t.id;var a={"-id":t.id,"-sourceRef":t.sourceNodeId,"-targetRef":t.targetNodeId};if((null===(e=t.text)||void 0===e?void 0:e.value)&&(a["-name"]=null===(r=t.text)||void 0===r?void 0:r.value),t.properties){var u=K(t.properties);Object.assign(a,u)}return a}));t[G.FLOW]=r}(e,t);var n={"-id":"BPMNPlane_1","-bpmnElement":e["-id"]};return function(t,e){t["bpmndi:BPMNEdge"]=e.edges.map((function(t){var e,n=t.id,r={"-id":n+"_di","-bpmnElement":n,"di:waypoint":t.pointsList.map((function(t){return{"-x":t.x,"-y":t.y}}))};return(null===(e=t.text)||void 0===e?void 0:e.value)&&(r["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-10*t.text.value.length/2,"-y":t.text.y-7,"-width":10*t.text.value.length,"-height":14}}),r})),t["bpmndi:BPMNShape"]=e.nodes.map((function(t){var e,n=t.id,r=100,o=80,i=t.x,a=t.y,u=J.shapeConfigMap.get(t.type);u&&(r=u.width,o=u.height);var c={"-id":n+"_di","-bpmnElement":n,"dc:Bounds":{"-x":i-=r/2,"-y":a-=o/2,"-width":r,"-height":o}};return(null===(e=t.text)||void 0===e?void 0:e.value)&&(c["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-10*t.text.value.length/2,"-y":t.text.y-7,"-width":10*t.text.value.length,"-height":14}}),c}))}(n,t),{"bpmn:definitions":{"-id":"Definitions_"+F(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":e,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":n}}}},adapterIn:function(t){if(t)return Z(t)}};J.shapeConfigMap.set(G.START,{width:D,height:M}),J.shapeConfigMap.set(G.END,{width:T,height:N}),J.shapeConfigMap.set(G.GATEWAY,{width:C,height:R}),J.shapeConfigMap.set(G.SYSTEM,{width:I,height:L}),J.shapeConfigMap.set(G.USER,{width:z,height:B});var tt,et,nt,rt;(et=tt||(tt={}))[et.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",et[et.START_EVENT=2]="START_EVENT",et[et.END_EVENT=3]="END_EVENT",et[et.USER_TASK=4]="USER_TASK",et[et.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY",(rt=nt||(nt={})).HORIZONTAL="horizontal",rt.VERTICAL="vertical";var ot=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},it={pluginName:"control",__lf:null,__controlItems:[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"缩小流程图",text:"缩小",onClick:function(){it.__lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"放大流程图",text:"放大",onClick:function(){it.__lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"恢复流程原有尺寸",text:"适应",onClick:function(){it.__lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"回到上一步",text:"上一步",onClick:function(){it.__lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"移到下一步",text:"下一步",onClick:function(){it.__lf.redo()}}],addItem:function(t){it.__controlItems.push(t)},removeItem:function(t){var e=it.__controlItems.findIndex((function(e){return e.key===t}));return it.__controlItems.splice(e,1)[0]},install:function(){},render:function(t,e){it.__lf=t,it.__domContainer=e,it.__tool=this.__getControlTool(),e.appendChild(it.__tool)},destroy:function(){var t;try{null===(t=it.__domContainer)||void 0===t||t.removeChild(it.__tool)}catch(e){console.warn("unexpect destory error",e)}},__getControlTool:function(){var t="lf-control-item",e="lf-control-item disabled",n=document.createElement("div"),r=[];return n.className="lf-control",it.__controlItems.forEach((function(n){var o=document.createElement("div"),i=document.createElement("i"),a=document.createElement("span");switch(o.className=e,n.onClick&&(o.onclick=n.onClick.bind(null,it.__lf)),n.onMouseEnter&&(o.onmouseenter=n.onMouseEnter.bind(null,it.__lf)),n.onMouseLeave&&(o.onmouseleave=n.onMouseLeave.bind(null,it.__lf)),i.className=n.iconClass,a.className="lf-control-text",a.title=n.title,a.innerText=n.text,o.append(i,a),n.text){case"上一步":it.__lf.on("history:change",(function(n){var r=n.data.undoAble;o.className=r?t:e}));break;case"下一步":it.__lf.on("history:change",(function(n){var r=n.data.redoAble;o.className=r?t:e}));break;default:o.className=t}r.push(o)})),n.append.apply(n,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ot(arguments[e]));return t}(r)),n}},at=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ut=function(){function t(t){var e=this,n=t.lf;this.__menuDOM=document.createElement("ul"),this.lf=n,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(t){e.resetMenuItem(t)},this.lf.addMenuConfig=function(t){e.addMenuItem(t)},this.lf.setMenuByType=function(t){e.setMenuByType(t)}}return t.prototype.init=function(){var t=this,e=[{text:"删除",callback:function(e){t.lf.deleteNode(e.id)}},{text:"编辑文本",callback:function(e){t.lf.graphModel.setTextEditable(e.id)}},{text:"复制",callback:function(e){t.lf.cloneNode(e.id)}}];this.menuTypeMap.set("lf:defaultNodeMenu",e);var n=[{text:"删除",callback:function(e){t.lf.deleteEdge(e.id)}},{text:"编辑文本",callback:function(e){t.lf.graphModel.setTextEditable(e.id)}}];this.menuTypeMap.set("lf:defaultEdgeMenu",n),this.menuTypeMap.set("lf:defaultGraphMenu",[])},t.prototype.render=function(t,e){var n=this;this.__container=e,this.__currentData=null,this.__menuDOM.className="lf-menu",e.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",(function(t){t.stopPropagation();for(var e=t.target;-1===Array.from(e.classList).indexOf("lf-menu-item")&&-1===Array.from(e.classList).indexOf("lf-menu");)e=e.parentElement;Array.from(e.classList).indexOf("lf-menu-item")>-1?(e.onclickCallback(n.__currentData),n.__menuDOM.style.display="none",n.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")}),!0),this.lf.on("node:contextmenu",(function(t){var e=t.data,r=t.position.domOverlayPosition,o=r.x,i=r.y,a=e.id,u=n.lf.graphModel.getNodeModel(a),c=[],s=n.menuTypeMap.get(u.type);c=u&&u.menu&&Array.isArray(u.menu)?u.menu:s||n.menuTypeMap.get("lf:defaultNodeMenu"),n.__currentData=e,n.showMenu(o,i,c)})),this.lf.on("edge:contextmenu",(function(t){var e=t.data,r=t.position.domOverlayPosition,o=r.x,i=r.y,a=e.id,u=n.lf.graphModel.getEdgeModel(a),c=[],s=n.menuTypeMap.get(u.type);c=u&&u.menu&&Array.isArray(u.menu)?u.menu:s||n.menuTypeMap.get("lf:defaultEdgeMenu"),n.__currentData=e,n.showMenu(o,i,c)})),this.lf.on("blank:contextmenu",(function(t){var e=t.position,r=n.menuTypeMap.get("lf:defaultGraphMenu"),o=e.domOverlayPosition,i=o.x,a=o.y;n.showMenu(i,a,r)})),this.lf.on("node:mousedown",(function(){n.__menuDOM.style.display="none"})),this.lf.on("edge:click",(function(){n.__menuDOM.style.display="none"})),this.lf.on("blank:click",(function(){n.__menuDOM.style.display="none"}))},t.prototype.destroy=function(){var t;null===(t=null==this?void 0:this.__container)||void 0===t||t.removeChild(this.__menuDOM),this.__menuDOM=null},t.prototype.showMenu=function(t,e,n){if(n&&n.length){var r=this.__menuDOM;r.innerHTML="",r.append.apply(r,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(at(arguments[e]));return t}(this.__getMenuDom(n))),r.children.length&&(r.style.display="block",r.style.top=e+"px",r.style.left=t+"px")}},t.prototype.setMenuByType=function(t){t.type&&t.menu&&this.menuTypeMap.set(t.type,t.menu)},t.prototype.__getMenuDom=function(t){var e=[];return t&&t.length>0&&t.forEach((function(t){var n=document.createElement("li");if(t.className?n.className="lf-menu-item "+t.className:n.className="lf-menu-item",!0===t.icon){var r=document.createElement("span");r.className="lf-menu-item-icon",n.appendChild(r)}var o=document.createElement("span");o.className="lf-menu-item-text",t.text&&(o.innerText=t.text),n.appendChild(o),n.onclickCallback=t.callback,e.push(n)})),e},t.prototype.resetMenuItem=function(t){t&&(void 0!==t.nodeMenu&&this.menuTypeMap.set("lf:defaultNodeMenu",t.nodeMenu?t.nodeMenu:[]),void 0!==t.edgeMenu&&this.menuTypeMap.set("lf:defaultEdgeMenu",t.edgeMenu?t.edgeMenu:[]),void 0!==t.graphMenu&&this.menuTypeMap.set("lf:defaultGraphMenu",t.graphMenu?t.graphMenu:[]))},t.prototype.addMenuItem=function(t){if(t){if(Array.isArray(t.nodeMenu)){var e=this.menuTypeMap.get("lf:defaultNodeMenu");this.menuTypeMap.set("lf:defaultNodeMenu",e.concat(t.nodeMenu))}if(Array.isArray(t.edgeMenu)){e=this.menuTypeMap.get("lf:defaultEdgeMenu");this.menuTypeMap.set("lf:defaultEdgeMenu",e.concat(t.edgeMenu))}if(Array.isArray(t.graphMenu)){e=this.menuTypeMap.get("lf:defaultGraphMenu");this.menuTypeMap.set("lf:defaultGraphMenu",e.concat(t.graphMenu))}}},t.prototype.changeMenuItem=function(t,e){if("add"===t)this.addMenuItem(e);else{if("reset"!==t)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");this.resetMenuItem(e)}},t.pluginName="Menu",t}(),ct=function(){function t(t){var e=this,n=t.lf;this.lf=n,this.lf.setPatternItems=function(t){e.shapeList=t}}return t.prototype.render=function(t,e){var n=this;this.panelEl&&e.removeChild(this.panelEl),this.shapeList&&0!==this.shapeList.length&&(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach((function(t){n.panelEl.appendChild(n.createDndItem(t))})),e.appendChild(this.panelEl))},t.prototype.createDndItem=function(t){var e=this,n=document.createElement("div");n.className=t.className?"lf-dnd-item "+t.className:"lf-dnd-item";var r=document.createElement("div");if(r.className="lf-dnd-shape",t.icon&&(r.style.backgroundImage="url("+t.icon+")"),n.appendChild(r),t.label){var o=document.createElement("div");o.innerText=t.label,o.className="lf-dnd-text",n.appendChild(o)}return n.onmousedown=function(){t.type&&e.lf.dnd.startDrag({type:t.type,properties:t.properties,text:t.text}),t.callback&&t.callback()},n},t.pluginName="DndPanel",t}(),st=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}st(e,t),e.prototype.getEdge=function(){for(var t=this.getAttributes(),e=t.points,n=t.strokeWidth,r=t.stroke,o=t.strokeDashArray,i=e.split(" ").map((function(t){return t.split(",").map((function(t){return Number(t)}))})),a=lt(i[0],2),u="M"+a[0]+" "+a[1],c=1;c<i.length-1;c++){var s=lt(i[c-1],2),l=s[0],f=s[1],p=lt(i[c],2),d=p[0],h=p[1],y=lt(i[c+1],2),b=y[0],g=y[1];if(d===l&&h!==f)u=u+" L "+d+" "+(h>f?h-5:h+5);if(h===f&&d!==l)u=u+" L "+(d>l?d-5:d+5)+" "+h;if(u=u+" Q "+d+" "+h,d===b&&h!==g)u=u+" "+d+" "+(h>g?h-5:h+5);if(h===g&&d!==b)u=u+" "+(d>b?d-5:d+5)+" "+h}var m=lt(i[i.length-1],2);return u=u+" L "+m[0]+" "+m[1],v.exports.h("path",{d:u,strokeWidth:n,stroke:r,fill:"none",strokeDashArray:o})},e.extendKey="CurvedEdge"}(v.exports.PolylineEdge),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}st(e,t)}(v.exports.PolylineEdgeModel);var ft,pt,dt,ht,yt,vt,bt={},gt=[],mt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ot(t,e){for(var n in e)t[n]=e[n];return t}function _t(t){var e=t.parentNode;e&&e.removeChild(t)}function wt(t,e,n){var r,o,i,a={};for(i in e)"key"==i?r=e[i]:"ref"==i?o=e[i]:a[i]=e[i];if(arguments.length>2&&(a.children=arguments.length>3?ft.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===a[i]&&(a[i]=t.defaultProps[i]);return xt(t,a,r,o,null)}function xt(t,e,n,r,o){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++dt:o};return null!=pt.vnode&&pt.vnode(i),i}function jt(t){return t.children}function Et(t,e){this.props=t,this.context=e}function St(t,e){if(null==e)return t.__?St(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?St(t):null}function Pt(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return Pt(t)}}function At(t){(!t.__d&&(t.__d=!0)&&ht.push(t)&&!kt.__r++||vt!==pt.debounceRendering)&&((vt=pt.debounceRendering)||yt)(kt)}function kt(){for(var t;kt.__r=ht.length;)t=ht.sort((function(t,e){return t.__v.__b-e.__v.__b})),ht=[],t.some((function(t){var e,n,r,o,i,a;t.__d&&(i=(o=(e=t).__v).__e,(a=e.__P)&&(n=[],(r=Ot({},o)).__v=o.__v+1,Lt(a,o,r,e.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?St(o):i,o.__h),zt(n,o),o.__e!=i&&Pt(o)))}))}function Dt(t,e,n,r,o,i,a,u,c,s){var l,f,p,d,h,y,v,b=r&&r.__k||gt,g=b.length;for(n.__k=[],l=0;l<e.length;l++)if(null!=(d=n.__k[l]=null==(d=e[l])||"boolean"==typeof d?null:"string"==typeof d||"number"==typeof d||"bigint"==typeof d?xt(null,d,null,null,d):Array.isArray(d)?xt(jt,{children:d},null,null,null):d.__b>0?xt(d.type,d.props,d.key,null,d.__v):d)){if(d.__=n,d.__b=n.__b+1,null===(p=b[l])||p&&d.key==p.key&&d.type===p.type)b[l]=void 0;else for(f=0;f<g;f++){if((p=b[f])&&d.key==p.key&&d.type===p.type){b[f]=void 0;break}p=null}Lt(t,d,p=p||bt,o,i,a,u,c,s),h=d.__e,(f=d.ref)&&p.ref!=f&&(v||(v=[]),p.ref&&v.push(p.ref,null,d),v.push(f,d.__c||h,d)),null!=h?(null==y&&(y=h),"function"==typeof d.type&&null!=d.__k&&d.__k===p.__k?d.__d=c=Mt(d,c,t):c=Tt(t,d,p,b,h,c),s||"option"!==n.type?"function"==typeof n.type&&(n.__d=c):t.value=""):c&&p.__e==c&&c.parentNode!=t&&(c=St(p))}for(n.__e=y,l=g;l--;)null!=b[l]&&("function"==typeof n.type&&null!=b[l].__e&&b[l].__e==n.__d&&(n.__d=St(r,l+1)),Ut(b[l],b[l]));if(v)for(l=0;l<v.length;l++)Bt(v[l],v[++l],v[++l])}function Mt(t,e,n){var r,o;for(r=0;r<t.__k.length;r++)(o=t.__k[r])&&(o.__=t,e="function"==typeof o.type?Mt(o,e,n):Tt(n,o,o,t.__k,o.__e,e));return e}function Tt(t,e,n,r,o,i){var a,u,c;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(null==n||o!=i||null==o.parentNode)t:if(null==i||i.parentNode!==t)t.appendChild(o),a=null;else{for(u=i,c=0;(u=u.nextSibling)&&c<r.length;c+=2)if(u==o)break t;t.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function Nt(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||mt.test(e)?n:n+"px"}function Ct(t,e,n,r,o){var i;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Nt(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Nt(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r||t.addEventListener(e,i?It:Rt,i):t.removeEventListener(e,i?It:Rt,i);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(a){}"function"==typeof n||(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function Rt(t){this.l[t.type+!1](pt.event?pt.event(t):t)}function It(t){this.l[t.type+!0](pt.event?pt.event(t):t)}function Lt(t,e,n,r,o,i,a,u,c){var s,l,f,p,d,h,y,v,b,g,m,O=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(c=n.__h,u=e.__e=n.__e,e.__h=null,i=[u]),(s=pt.__b)&&s(e);try{t:if("function"==typeof O){if(v=e.props,b=(s=O.contextType)&&r[s.__c],g=s?b?b.props.value:s.__:r,n.__c?y=(l=e.__c=n.__c).__=l.__E:("prototype"in O&&O.prototype.render?e.__c=l=new O(v,g):(e.__c=l=new Et(v,g),l.constructor=O,l.render=Xt),b&&b.sub(l),l.props=v,l.state||(l.state={}),l.context=g,l.__n=r,f=l.__d=!0,l.__h=[]),null==l.__s&&(l.__s=l.state),null!=O.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=Ot({},l.__s)),Ot(l.__s,O.getDerivedStateFromProps(v,l.__s))),p=l.props,d=l.state,f)null==O.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==O.getDerivedStateFromProps&&v!==p&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(v,g),!l.__e&&null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(v,l.__s,g)||e.__v===n.__v){l.props=v,l.state=l.__s,e.__v!==n.__v&&(l.__d=!1),l.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),l.__h.length&&a.push(l);break t}null!=l.componentWillUpdate&&l.componentWillUpdate(v,l.__s,g),null!=l.componentDidUpdate&&l.__h.push((function(){l.componentDidUpdate(p,d,h)}))}l.context=g,l.props=v,l.state=l.__s,(s=pt.__r)&&s(e),l.__d=!1,l.__v=e,l.__P=t,s=l.render(l.props,l.state,l.context),l.state=l.__s,null!=l.getChildContext&&(r=Ot(Ot({},r),l.getChildContext())),f||null==l.getSnapshotBeforeUpdate||(h=l.getSnapshotBeforeUpdate(p,d)),m=null!=s&&s.type===jt&&null==s.key?s.props.children:s,Dt(t,Array.isArray(m)?m:[m],e,n,r,o,i,a,u,c),l.base=e.__e,e.__h=null,l.__h.length&&a.push(l),y&&(l.__E=l.__=null),l.__e=!1}else null==i&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=function(t,e,n,r,o,i,a,u){var c,s,l,f=n.props,p=e.props,d=e.type,h=0;if("svg"===d&&(o=!0),null!=i)for(;h<i.length;h++)if((c=i[h])&&(c===t||(d?c.localName==d:3==c.nodeType))){t=c,i[h]=null;break}if(null==t){if(null===d)return document.createTextNode(p);t=o?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,p.is&&p),i=null,u=!1}if(null===d)f===p||u&&t.data===p||(t.data=p);else{if(i=i&&ft.call(t.childNodes),s=(f=n.props||bt).dangerouslySetInnerHTML,l=p.dangerouslySetInnerHTML,!u){if(null!=i)for(f={},h=0;h<t.attributes.length;h++)f[t.attributes[h].name]=t.attributes[h].value;(l||s)&&(l&&(s&&l.__html==s.__html||l.__html===t.innerHTML)||(t.innerHTML=l&&l.__html||""))}if(function(t,e,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in e||Ct(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===e[i]||Ct(t,i,e[i],n[i],r)}(t,p,f,o,u),l)e.__k=[];else if(h=e.props.children,Dt(t,Array.isArray(h)?h:[h],e,n,r,o&&"foreignObject"!==d,i,a,i?i[0]:n.__k&&St(n,0),u),null!=i)for(h=i.length;h--;)null!=i[h]&&_t(i[h]);u||("value"in p&&void 0!==(h=p.value)&&(h!==t.value||"progress"===d&&!h)&&Ct(t,"value",h,f.value,!1),"checked"in p&&void 0!==(h=p.checked)&&h!==t.checked&&Ct(t,"checked",h,f.checked,!1))}return t}(n.__e,e,n,r,o,i,a,c);(s=pt.diffed)&&s(e)}catch(_){e.__v=null,(c||null!=i)&&(e.__e=u,e.__h=!!c,i[i.indexOf(u)]=null),pt.__e(_,e,n)}}function zt(t,e){pt.__c&&pt.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(n){pt.__e(n,e.__v)}}))}function Bt(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(r){pt.__e(r,n)}}function Ut(t,e,n){var r,o;if(pt.unmount&&pt.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Bt(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){pt.__e(i,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&Ut(r[o],e,"function"!=typeof t.type);n||null==t.__e||_t(t.__e),t.__e=t.__d=void 0}function Xt(t,e,n){return this.constructor(t,n)}ft=gt.slice,pt={__e:function(t,e){for(var n,r,o;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(t)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(t),o=n.__d),o)return n.__E=n}catch(i){t=i}throw t}},dt=0,Et.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Ot({},this.state),"function"==typeof t&&(t=t(Ot({},n),this.props)),t&&Ot(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),At(this))},Et.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),At(this))},Et.prototype.render=jt,ht=[],yt="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,kt.__r=0;var Ft,Ht,Gt=function(){return(Gt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Yt(t){var e=t.x,n=t.y,r=t.width,o=t.height,i=t.radius,a=t.className,u=e-r/2,c=n-o/2,s=Gt(Gt({width:10,height:10,cx:0,cy:0,rx:i||0,ry:i||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+a},t),{x:u,y:c});return v.exports.h("rect",Gt({},s))}function Vt(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2}}function Wt(t){var e=Vt(t),n=t.radius,r=e.minX,o=e.minY,i=e.maxX,a=e.maxY;return[{x:r+n,y:o+n},{x:i-n,y:o+n},{x:i-n,y:a-n},{x:r+n,y:a-n}]}function Kt(t){var e=t.point,n=t.beforeNode,r=t.afterNode,o=e.x,i=e.y,a={x:o,y:i},u=n.radius,c=Vt(n),s=Vt(r);if(o===c.minX){a.x=s.minX;var l=(i-n.y)/(n.height/2-u);a.y=l?r.y+(r.height/2-u)*l:r.y}else if(o===c.maxX){a.x=s.maxX;l=(i-n.y)/(n.height/2-u);a.y=l?r.y+(r.height/2-u)*l:r.y}else if(i===c.minY){a.y=s.minY;l=(o-n.x)/(n.width/2-u);a.x=l?r.x+(r.width/2-u)*l:r.x}else if(i===c.maxY){a.y=s.maxY;l=(o-n.x)/(n.width/2-u);a.x=l?r.x+(r.width/2-u)*l:r.x}else{var f=Wt(n),p=Wt(r),d=Vt(n),h=d.minX,y=d.minY,v=d.maxX,b=d.maxY,g=-1;if(o-h<u&&i-y<u?g=0:v-o<u&&i-y<u?g=1:v-o<u&&b-i<u?g=2:o-h<u&&y-i<u&&(g=3),g>-1){var m=Math.atan2(i-f[g].y,o-f[g].x);a.x=p[g].x+u*Math.cos(m),a.y=p[g].y+u*Math.sin(m)}}return a}function $t(t){var e,n,r=t.point,o=t.beforeNode,i=t.afterNode,a=i.rx,u=i.ry,c=(r.y-o.y)/(r.x-o.x),s=a,l=u;return c>=1/0?(e=0,n=l):c<=-1/0?(e=0,n=-l):r.x-o.x>0?(e=s*l/Math.sqrt(l*l+s*s*c*c),n=s*l*c/Math.sqrt(l*l+s*s*c*c)):(e=-s*l/Math.sqrt(l*l+s*s*c*c),n=-s*l*c/Math.sqrt(l*l+s*s*c*c)),{x:e+i.x,y:n+i.y}}function Zt(t){var e,n=t.point,r=t.beforeNode,o=t.afterNode,i=n.x-r.x,a=n.y-r.y,u=r.rx,c=r.ry,s=Math.sqrt((u-Math.abs(i))*(u-Math.abs(i))+a*a)/Math.sqrt(u*u+c*c),l=o.rx,f=o.ry,p=Math.sqrt((l*l+f*f)*s*s*(l*l/(l*l+f*f))),d=p*(f/l);return e=a>0?d:-d,{x:(i>=0?l-p:p-l)+o.x,y:e+o.y}}Yt.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""},(Ht=Ft||(Ft={})).NODE="node",Ht.CIRCLE_NODE="circle-node",Ht.POLYGON_NODE="polygon-node",Ht.RECT_NODE="rect-node",Ht.TEXT_NODE="text-node",Ht.ELLIPSE_NODE="ellipse-node",Ht.DIAMOND_NODE="diamond-node",Ht.EDGE="edge",Ht.LINE_EDGE="line-edge",Ht.POLYLINE_EDGE="polyline-edge",Ht.BEZIER_EDGE="bezier-edge",Ht.GRAPH="graph";var qt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qt=function(){return(Qt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Jt=v.exports.LogicFlowUtil.createDrag,te=function(t){function e(e){var n=t.call(this)||this;return n.updatePosition=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel,i=o.x,a=o.y;n.nodeModel.x=i+e/2,n.nodeModel.y=a+r/2,n.nodeModel.moveText(e/2,r/2)},n.getResize=function(t){var e=t.index,n=t.deltaX,r=t.deltaY,o=t.width,i=t.height,a=t.pct,u=void 0===a?1:a,c={width:o,height:i};switch(e){case 0:c.width=o-n*u,c.height=i-r*u;break;case 1:c.width=o+n*u,c.height=i-r*u;break;case 2:c.width=o+n,c.height=i+r*u;break;case 3:c.width=o-n*u,c.height=i+r*u}return c},n.updateRect=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel,i=o.id,a=o.x,u=o.y,c=o.width,s=o.height,l=o.radius,f=n.index,p=n.getResize({index:f,deltaX:e,deltaY:r,width:c,height:s,pct:1}),d=Oe.sizeRange.rect,h=d.minWidth,y=d.minHeight,v=d.maxWidth,b=d.maxHeight;if(!(p.width<h||p.width>v||p.height<y||p.height>b)){n.updatePosition({deltaX:e,deltaY:r}),n.nodeModel.width=p.width,n.nodeModel.height=p.height,n.nodeModel.setProperties({nodeSize:{width:p.width,height:p.height}});var g,m=n.getNodeEdges(i),O={x:a,y:u,width:c,height:s,radius:l},_={x:n.nodeModel.x,y:n.nodeModel.y,width:n.nodeModel.width,height:n.nodeModel.height,radius:l},w={point:"",beforeNode:O,afterNode:_};m.sourceEdges.forEach((function(t){w.point=t.startPoint,g=Kt(w),t.updateStartPoint(g)})),m.targetEdges.forEach((function(t){w.point=t.endPoint,g=Kt(w),t.updateEndPoint(g)})),n.eventEmit({beforeNode:O,afterNode:_})}},n.updateEllipse=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel,i=o.id,a=o.rx,u=o.ry,c=o.x,s=o.y,l=n.index,f=a,p=u,d=n.getResize({index:l,deltaX:e,deltaY:r,width:f,height:p,pct:.5}),h=Oe.sizeRange.ellipse,y=h.minRx,v=h.minRy,b=h.maxRx,g=h.maxRy;if(!(d.width<y||d.width>b||d.height<v||d.height>g)){n.updatePosition({deltaX:e,deltaY:r}),n.nodeModel.rx=d.width,n.nodeModel.ry=d.height,n.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m,O=n.getNodeEdges(i),_={x:c,y:s},w={rx:d.width,ry:d.height,x:n.nodeModel.x,y:n.nodeModel.y},x={point:{},beforeNode:_,afterNode:w};O.sourceEdges.forEach((function(t){x.point=t.startPoint,m=$t(x),t.updateStartPoint(m)})),O.targetEdges.forEach((function(t){x.point=t.endPoint,m=$t(x),t.updateEndPoint(m)})),n.eventEmit({beforeNode:Qt(Qt({},_),{rx:a,ry:u}),afterNode:w})}},n.updateDiamond=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel,i=o.id,a=o.rx,u=o.ry,c=o.x,s=o.y,l=n.index,f=a,p=u,d=n.getResize({index:l,deltaX:e,deltaY:r,width:f,height:p,pct:.5}),h=Oe.sizeRange.ellipse,y=h.minRx,v=h.minRy,b=h.maxRx,g=h.maxRy;if(!(d.width<y||d.width>b||d.height<v||d.height>g)){n.updatePosition({deltaX:e,deltaY:r}),n.nodeModel.rx=d.width,n.nodeModel.ry=d.height,n.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m,O={x:c,y:s,rx:a,ry:u},_={rx:d.width,ry:d.height,x:n.nodeModel.x,y:n.nodeModel.y},w={point:{},beforeNode:O,afterNode:_},x=n.getNodeEdges(i);x.sourceEdges.forEach((function(t){w.point=t.startPoint,m=Zt(w),t.updateStartPoint(m)})),x.targetEdges.forEach((function(t){w.point=t.endPoint,m=Zt(w),t.updateEndPoint(m)})),n.eventEmit({beforeNode:O,afterNode:_})}},n.eventEmit=function(t){var e=t.beforeNode,r=t.afterNode,o=n.nodeModel,i=o.id,a=o.modelType,u=o.type,c=Qt({id:i,modelType:a,type:u},e),s=Qt({id:i,modelType:a,type:u},r);n.graphModel.eventCenter.emit("node:resize",{oldNodeSize:c,newNodeSize:s})},n.onDraging=function(t){var e=t.deltaX,r=t.deltaY,o=n.nodeModel.modelType;o===Ft.RECT_NODE?n.updateRect({deltaX:e,deltaY:r}):o===Ft.ELLIPSE_NODE?n.updateEllipse({deltaX:e,deltaY:r}):o===Ft.DIAMOND_NODE&&n.updateDiamond({deltaX:e,deltaY:r})},n.index=e.index,n.nodeModel=e.nodeModel,n.graphModel=e.graphModel,n.state={},n.dragHandler=Jt({onDraging:n.onDraging,step:Oe.step}),n}return qt(e,t),e.prototype.getNodeEdges=function(t){for(var e=this.graphModel.edges,n=[],r=[],o=0;o<e.length;o++){var i=e[o];i.sourceNodeId===t?n.push(i):e[o].targetNodeId===t&&r.push(i)}return{sourceEdges:n,targetEdges:r}},e.prototype.render=function(){var t=this.props,e=t.x,n=t.y,r=t.style,o=t.index,i=Oe.style.controlPoint,a=i.width,u=i.height,c=i.fill,s=i.stroke;return wt("g",{className:"lf-resize-control-"+o},wt(Yt,Qt({className:"lf-node-control"},{x:e,y:n},r,{width:a,height:u,fill:c,stroke:s,onMouseDown:this.dragHandler})))},e}(Et),ee=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ne=function(){return(ne=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},re=function(t){function e(){var e=t.call(this)||this;return e.state={},e}return ee(e,t),e.prototype.getResizeControl=function(){var t=this.props,e=t.x,n=t.y,r=t.width,o=t.height,i=t.nodeModel,a=t.graphModel,u={minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2},c=u.minX,s=u.minY,l=u.maxX,f=u.maxY;return[{x:c,y:s},{x:l,y:s},{x:l,y:f},{x:c,y:f}].map((function(t,e){return wt(te,ne({index:e},t,{nodeModel:i,graphModel:a}))}))},e.prototype.getGroupSolid=function(){var t=this.props,e=t.x,n=t.y,r=t.width,o=t.height,i=Oe.style.outline;return wt(Yt,{fill:"none",x:e,y:n,width:r,height:o,stroke:i.stroke,strokeWidth:i.strokeWidth,strokeDasharray:i.strokeDasharray})},e.prototype.render=function(){return wt("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},e}(Et),oe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ie=function(){return(ie=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return oe(e,t),e.prototype.setAttributes=function(){var t=this.properties.nodeSize;t&&(this.width=t.width,this.height=t.height)},e}(v.exports.RectNodeModel),ue={type:"rect",view:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return oe(e,t),e.prototype.getControlGroup=function(t){var e=this.props,n=e.model,r=e.graphModel;return v.exports.h(re,ie({},t,{nodeModel:n,graphModel:r}))},e.prototype.getResizeShape=function(t){return v.exports.h("g",null,v.exports.h(Yt,ie({},t)))},e.prototype.getShape=function(){var e=t.prototype.getAttributes.call(this),n=this.props.model.isSelected;return v.exports.h("g",null,this.getResizeShape(e),n?this.getControlGroup(e):"")},e}(v.exports.RectNode),model:ae},ce=function(){return(ce=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function se(t){var e=t.x,n=void 0===e?0:e,r=t.y,o=void 0===r?0:r,i=t.rx,a=void 0===i?4:i,u=t.ry,c=ce({cx:n,cy:o,rx:a,ry:void 0===u?4:u,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1},t);return v.exports.h("ellipse",ce({},c))}var le=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fe=function(){return(fe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},pe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return le(e,t),e.prototype.setAttributes=function(){var t=this.properties.nodeSize;t&&(this.rx=t.rx,this.ry=t.ry)},e}(v.exports.EllipseNodeModel),de={type:"ellipse",view:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return le(e,t),e.prototype.getControlGroup=function(t){var e=this.props,n=e.model,r=e.graphModel;return v.exports.h(re,fe({},t,{nodeModel:n,graphModel:r}))},e.prototype.getResizeShape=function(t){return v.exports.h("g",null,v.exports.h(se,fe({},t)))},e.prototype.getShape=function(){var e=t.prototype.getAttributes.call(this),n=this.props.model.isSelected;return v.exports.h("g",null,this.getResizeShape(e),n?this.getControlGroup(e):"")},e}(v.exports.EllipseNode),model:pe},he=function(){return(he=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function ye(t){var e=t.fillOpacity,n=void 0===e?1:e,r=t.strokeWidth,o=void 0===r?1:r,i=t.strokeOpacity,a=void 0===i?1:i,u=t.fill,c=void 0===u?"transparent":u,s=t.stroke,l=void 0===s?"#000":s,f=t.points,p=t.className,d={fill:c,fillOpacity:n,strokeWidth:o,stroke:l,strokeOpacity:a,points:"",className:void 0===p?"lf-basic-shape":p};return d.points=f.map((function(t){return t.join(",")})).join(" "),v.exports.h("polygon",he({},d))}var ve=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),be=function(){return(be=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ve(e,t),e.prototype.setAttributes=function(){var t=this.properties.nodeSize;t&&(this.rx=t.rx,this.ry=t.ry)},e}(v.exports.DiamondNodeModel),me={type:"diamond",view:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ve(e,t),e.prototype.getControlGroup=function(t){var e=this.props,n=e.model,r=e.graphModel;return v.exports.h(re,be({},t,{nodeModel:n,graphModel:r}))},e.prototype.getResizeShape=function(t){return v.exports.h("g",null,v.exports.h(ye,be({},t)))},e.prototype.getShape=function(){var e=t.prototype.getAttributes.call(this),n=this.props.model.isSelected;return v.exports.h("g",null,this.getResizeShape(e),n?this.getControlGroup(e):"")},e}(v.exports.DiamondNode),model:ge},Oe={pluginName:"node-resize",step:0,style:{outline:{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"},controlPoint:{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},sizeRange:{rect:{minWidth:30,minHeight:30,maxWidth:300,maxHeight:300},ellipse:{minRx:15,minRy:15,maxRx:150,maxRy:150},diamond:{minRx:15,minRy:15,maxRx:150,maxRy:150}},install:function(t){if(0===this.step){var e=t.options.grid;e.size&&e.size>1?this.step=2*e.size:this.step=2}t.setTheme({rect:{strokeWidth:2,outlineColor:"transparent"},ellipse:{strokeWidth:2,outlineColor:"transparent"},diamond:{strokeWidth:2,outlineColor:"transparent"}}),t.register({type:ue.type,view:ue.view,model:ue.model}),t.register({type:de.type,view:de.view,model:de.model}),t.register({type:me.type,view:me.view,model:me.model})}};const _e={nodes:[{id:1,type:"rect",x:300,y:30,text:"开始"},{id:2,type:"diamond",x:300,y:150,text:"判断"},{id:3,type:"circle",x:300,y:300,text:"结束"}],edges:[{type:"polyline",sourceNodeId:1,targetNodeId:2},{type:"polyline",sourceNodeId:2,targetNodeId:3}]};var we=e({name:"Flow",setup(){const t=n(null);b.use(it),b.use(ut),b.use(ct),b.use(U),b.use(Oe);const e=d(),u=n(),c=r((()=>({container:t.value,stopScrollGraph:!0,stopZoomGraph:!0,background:{color:"dark"===e.state.theme?"#18181c":"#ffffff"},grid:{type:"dot",size:20},style:{circle:{r:40,fill:"#fff",strokeWidth:2}}})));return o((()=>{u.value=new b(c.value),u.value.setPatternItems([{label:"选区",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{var t,e;null==(t=u.value)||t.openSelectionSelect(),null==(e=u.value)||e.once("selection:selected",(()=>{var t;null==(t=u.value)||t.closeSelectionSelect()}))}},{type:"circle",text:"开始",label:"开始节点",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",label:"用户任务",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"important-node"},{type:"rect",label:"系统任务",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",label:"条件判断",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"结束",label:"结束节点",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]),u.value.setTheme({rect:{width:100,height:50,radius:6,fill:"#fff",strokeWidth:2}}),u.value.render(_e)})),i((()=>c.value),(t=>{a((()=>{var e;null==(e=u.value)||e.updateEditConfig(t)}))})),{lfConitanerRef:t,generatorImage:function(){var t;null==(t=u.value)||t.getSnapshot()}}}});const xe=p("生成图片"),je={ref:"lfConitanerRef",class:"h-full"};we.render=function(t,e,n,r,o,i){const a=u("n-button"),p=u("n-card");return c(),s(p,{title:"流程图",style:{height:"70vh"},"header-style":{padding:"10px"},"content-style":{padding:"10px"},segmented:!0},{"header-extra":l((()=>[f(a,{size:"small",type:"primary",onClick:t.generatorImage},{default:l((()=>[xe])),_:1},8,["onClick"])])),default:l((()=>[f("div",je,null,512)])),_:1})};export default we;
