var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{p as d,g as o}from"./index.31991717.js";import{u as r,b as c,c as p,a as y,d as u,e as k}from"./table.59ac310f.js";import{d as b,B as g,A as h,n as f,aj as m,ay as v,m as x,O as w,G as O,g as C,bE as j,t as K,v as D,r as P,o as S,c as _,a as z,k as I}from"./vendor.02de9c8e.js";var L=b({name:"UserList",setup(){const e=r(),b=c("id"),K=g(),D=h(),P=p(L),S=[],_=[{label:"东部地区",key:1,children:[{label:"总裁部",key:11},{label:"财务部",key:12},{label:"技术部",key:13},{label:"销售部",key:14}]},{label:"西部地区",key:2,children:[{label:"总裁部",key:21},{label:"财务部",key:22},{label:"技术部",key:23},{label:"销售部",key:24}]},{label:"南部地区",key:3,children:[{label:"总裁部",key:31},{label:"财务部",key:32},{label:"技术部",key:33},{label:"销售部",key:34}]},{label:"北部地区",key:4,children:[{label:"总裁部",key:41},{label:"财务部",key:42},{label:"技术部",key:43},{label:"销售部",key:44}]}],z=y([e.selectionColumn,e.indexColumn,{title:"名称",key:"nickName"},{title:"性别",key:"gender",width:80,render:e=>f("div",0===e.gender?"男":"女")},{title:"头像",key:"avatar",render:e=>f(m,{circle:!0,size:"small",src:e.avatar||""})},{title:"地址",key:"address"},{title:"名称",key:"nickName"},{title:"上次登录时间",key:"lastLoginTime",fixed:"right",width:120},{title:"上次登录IP",key:"lastLoginIp",width:100,fixed:"right"},{title:"状态",key:"status",fixed:"right",width:80,render:e=>f(v,{value:!!e.status})},{title:"操作",key:"actions",fixed:"right",width:80,render:e=>u([{label:"删除",type:"error",onClick:T.bind(null,e)}])}],{align:"center"}),I=x(!1);function L(){d({url:o,data:()=>({page:P.page,pageSize:P.pageSize})}).then((a=>{e.handleSuccess(a),P.setTotalSize(a.totalSize)})).catch(console.log)}function T(a){K.warning({title:"提示",content:"确定要删除此数据吗？",positiveText:"确定",onPositiveClick:()=>{e.dataList.splice(e.dataList.indexOf(a),1)}})}const U=w([]);return O((()=>I.value),(e=>{e?U.push(..._.map((e=>e.key))):U.length=0})),C((async()=>{e.tableHeight.value=await k(j()),L()})),E=((e,a)=>{for(var t in a||(a={}))n.call(a,t)&&i(e,t,a[t]);if(l)for(var t of l(a))s.call(a,t)&&i(e,t,a[t]);return e})({},e),R={rowKey:b,pattern:x(""),expandAllFlag:I,departmentData:_,tableColumns:z,pagination:P,onDeleteItem:T,onDeleteItems:function(){K.warning({title:"提示",content:"确定要删除此数据吗？",positiveText:"确定",onPositiveClick:()=>{D.success("数据模拟删除成功，参数为："+JSON.stringify(S))}})},onRowCheck:function(e){S.length=0,S.push(...e)},getExpandedKeys:U,onUpdateExpandedKeys:function(e){U.length=0,U.push(...e)},onCheckedKeys:function(e){D.success("选中的值为---\x3e"+JSON.stringify(e))}},a(E,t(R));var E,R}});const T=I();K("data-v-53c39d28");const U={class:"flex items-center"};D();const E=T(((e,a,t,l,n,s)=>{const i=P("n-input"),d=P("n-switch"),o=P("n-tree"),r=P("n-card"),c=P("n-grid-item"),p=P("DeleteButton"),y=P("TableHeader"),u=P("n-data-table"),k=P("TableBody"),b=P("TableFooter"),g=P("n-grid");return S(),_("div",null,[z(g,{"x-gap":10},{default:T((()=>[z(c,{span:5},{default:T((()=>[z(r,{class:"h-full","content-style":{padding:"5px"},"header-style":{padding:"5px"},segmented:!0},{header:T((()=>[z("div",U,[z(i,{class:"mr-2",value:e.pattern,"onUpdate:value":a[1]||(a[1]=a=>e.pattern=a),placeholder:"搜索",size:"small"},null,8,["value"]),z(d,{size:"small",value:e.expandAllFlag,"onUpdate:value":a[2]||(a[2]=a=>e.expandAllFlag=a)},null,8,["value"])])])),default:T((()=>[z(o,{"expanded-keys":e.getExpandedKeys,"block-line":"",pattern:e.pattern,data:e.departmentData,selectable:"","on-update:expanded-keys":e.onUpdateExpandedKeys,"on-update:selected-keys":e.onCheckedKeys},null,8,["expanded-keys","pattern","data","on-update:expanded-keys","on-update:selected-keys"])])),_:1})])),_:1}),z(c,{span:19},{default:T((()=>[z("div",null,[z(y,{ref:"tableHeaderRef","show-filter":!1},{"top-right":T((()=>[z(p,{onDelete:e.onDeleteItems},null,8,["onDelete"])])),_:1},512),z(k,null,{default:T((()=>[z(u,{loading:e.tableLoading,data:e.dataList,"row-key":e.rowKey,columns:e.tableColumns,"scroll-x":1e3,style:{height:`${e.tableHeight}px`},"flex-height":!0,"onUpdate:checkedRowKeys":e.onRowCheck},null,8,["loading","data","row-key","columns","style","onUpdate:checkedRowKeys"])])),_:1}),z(b,{ref:"tableFooterRef",pagination:e.pagination},null,8,["pagination"])])])),_:1})])),_:1})])}));L.render=E,L.__scopeId="data-v-53c39d28";export default L;
